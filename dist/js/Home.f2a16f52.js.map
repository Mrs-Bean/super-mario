{"version":3,"file":"js/Home.f2a16f52.js","mappings":"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M,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,aACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,IACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,aACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,eACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,IAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,IAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAEL,CACE+O,KAAM,cACNhP,EAAG,KACHC,EAAG,KAGL,CACE+O,KAAM,aACNhP,EAAG,KACHC,EAAG,M,oGCzwCT,MAAMw3B,GAAU8rD,EAAAA,EAAAA,KAAI,GACdqB,GAAWrB,EAAAA,EAAAA,KAAI,GACfsB,EAAO,CACX,CACEhM,MAAO,aACPC,QAASgM,KAGPvN,GAASgM,EAAAA,EAAAA,IAAIsB,EAAK,GAAGhM,OAE3B,SAASkM,EAAajM,GACpB,MAAMD,EAAQ,OAASgM,EAAK/lF,OAC5B+lF,EAAKprF,KAAK,CACRo/E,QACAC,YAEFvB,EAAOl5E,MAAQw6E,CACjB,CAEA,MAAM6L,GAASX,EAAAA,EAAAA,KAAS,KAAOxM,EAAOl5E,Q,OAEtC6kF,EAAAA,EAAAA,KAAUhnF,gBACFC,IACNs7B,EAAQp5B,OAAQ,CAAK,I,qhCC1EvB,IAAgB,UAAY,uBAAuB,cAAgB,2BAA2B,KAAO,kBAAkB,IAAM,iBAAiB,QAAU,qBAAqB,OAAS,oBAAoB,KAAO,kBAAkB,QAAU,qBAAqB,IAAM,kBCExQ,MAAM,GAAa,CAAC,EAEpB,GAAW,UAAY,GAGvB,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,eAAe,MAE1E,S","sources":["webpack://super-mario/./src/super-mario/utils/loadResources.js","webpack://super-mario/./node_modules/.pnpm/@leafer+core@1.0.0/node_modules/@leafer/core/lib/core.esm.js","webpack://super-mario/./node_modules/.pnpm/@leafer-ui+draw@1.0.0/node_modules/@leafer-ui/draw/lib/draw.esm.js","webpack://super-mario/./node_modules/.pnpm/@leafer-ui+core@1.0.0/node_modules/@leafer-ui/core/lib/core.esm.js","webpack://super-mario/./node_modules/.pnpm/leafer-ui@1.0.0/node_modules/leafer-ui/dist/web.esm.js","webpack://super-mario/./node_modules/.pnpm/@babel+runtime@7.24.7/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://super-mario/./node_modules/.pnpm/@babel+runtime@7.24.7/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://super-mario/./node_modules/.pnpm/@babel+runtime@7.24.7/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://super-mario/./node_modules/.pnpm/@babel+runtime@7.24.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://super-mario/./src/super-mario/scene/index.js","webpack://super-mario/./src/super-mario/camera/index.js","webpack://super-mario/./src/super-mario/constants/index.js","webpack://super-mario/./src/super-mario/sprite/static-sprite.js","webpack://super-mario/./src/super-mario/sprite/sprite-land.js","webpack://super-mario/./src/super-mario/sprite/sprite-ask.js","webpack://super-mario/./src/super-mario/sprite/dynamic-sprite.js","webpack://super-mario/./src/super-mario/sprite/sprite-flower.js","webpack://super-mario/./src/super-mario/sprite/sprite-grow-mushroom.js","webpack://super-mario/./src/super-mario/sprite/sprite-bad-mushroom.js","webpack://super-mario/./src/super-mario/sprite/sprite-stone.js","webpack://super-mario/./src/super-mario/sprite/sprite-win.js","webpack://super-mario/./src/super-mario/sprite/sprite-gold.js","webpack://super-mario/./src/super-mario/sprite/sprite-rock.js","webpack://super-mario/./src/super-mario/map/index.js","webpack://super-mario/./src/super-mario/background/index.js","webpack://super-mario/./src/super-mario/score/index.js","webpack://super-mario/./src/super-mario/mario/base.js","webpack://super-mario/./src/super-mario/mario/big.js","webpack://super-mario/./src/super-mario/mario/bullet.js","webpack://super-mario/./src/super-mario/sprite/sprite-bullet.js","webpack://super-mario/./src/super-mario/mario/index.js","webpack://super-mario/./src/super-mario/physics-engine/keyboard.js","webpack://super-mario/./src/super-mario/physics-engine/collect.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/now.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_trimmedEndIndex.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTrim.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toNumber.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/debounce.js","webpack://super-mario/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/throttle.js","webpack://super-mario/./src/super-mario/physics-engine/jumping.js","webpack://super-mario/./src/super-mario/sprite/sprite-stone-born.js","webpack://super-mario/./src/super-mario/physics-engine/index.js","webpack://super-mario/./src/super-mario/renderer/index.js","webpack://super-mario/./src/components/add-sprite.vue","webpack://super-mario/./src/components/add-sprite.vue?efd1","webpack://super-mario/./src/components/add-sprite.vue?ffeb","webpack://super-mario/./src/components/mario.vue","webpack://super-mario/./src/components/mario.vue?f22b","webpack://super-mario/./src/components/mario.vue?3364","webpack://super-mario/./src/components/menu.vue?f7b2","webpack://super-mario/./src/components/menu.vue","webpack://super-mario/./src/maps/map1.js","webpack://super-mario/./src/views/Home.vue","webpack://super-mario/./src/views/Home.vue?a2a9","webpack://super-mario/./src/views/Home.vue?2dbc"],"sourcesContent":["function loadImages(urls) {\n  const promises = [];\n  urls.forEach((url) => {\n    promises.push(\n      new Promise((resolve, reject) => {\n        const image = new Image();\n        image.onload = () => resolve(image);\n        image.onerror = (err) => reject(err);\n        image.src = url;\n      })\n    );\n  });\n  return Promise.all(promises);\n}\nfunction loadBaseMarioResources() {\n  return loadImages([\n    \"imgs/mario/base/static/static.jpg\",\n\n    \"imgs/mario/base/jump/jump-left.jpg\",\n    \"imgs/mario/base/jump/jump-right.jpg\",\n\n    \"imgs/mario/base/left/frame-1.jpg\",\n    \"imgs/mario/base/left/frame-2.jpg\",\n    \"imgs/mario/base/left/frame-3.jpg\",\n\n    \"imgs/mario/base/right/frame-1.jpg\",\n    \"imgs/mario/base/right/frame-2.jpg\",\n    \"imgs/mario/base/right/frame-3.jpg\",\n\n    \"imgs/mario/base/die/frame-1.jpg\",\n  ]);\n}\n\nfunction loadBigMarioResources() {\n  return loadImages([\n    \"imgs/mario/big/static/static.jpg\",\n\n    \"imgs/mario/big/jump/jump-left.jpg\",\n    \"imgs/mario/big/jump/jump-right.jpg\",\n\n    \"imgs/mario/big/left/frame-1.jpg\",\n    \"imgs/mario/big/left/frame-2.jpg\",\n    \"imgs/mario/big/left/frame-3.jpg\",\n\n    \"imgs/mario/big/right/frame-1.jpg\",\n    \"imgs/mario/big/right/frame-2.jpg\",\n    \"imgs/mario/big/right/frame-3.jpg\",\n  ]);\n}\n\nfunction loadBulletMarioResources() {\n  return loadImages([\n    \"imgs/mario/bullet/static/static.jpg\",\n\n    \"imgs/mario/bullet/jump/jump-left.jpg\",\n    \"imgs/mario/bullet/jump/jump-right.jpg\",\n\n    \"imgs/mario/bullet/left/frame-1.jpg\",\n    \"imgs/mario/bullet/left/frame-2.jpg\",\n    \"imgs/mario/bullet/left/frame-3.jpg\",\n\n    \"imgs/mario/bullet/right/frame-1.jpg\",\n    \"imgs/mario/bullet/right/frame-2.jpg\",\n    \"imgs/mario/bullet/right/frame-3.jpg\",\n\n    \"imgs/mario/bullet/attack/left.jpg\",\n    \"imgs/mario/bullet/attack/right.jpg\",\n  ]);\n}\n\nfunction loadBackgroundResources() {\n  return loadImages([\"imgs/scene/scene.jpg\"]);\n}\n\nfunction loadSpriteLandResources() {\n  return loadImages([\"imgs/building/land/land.jpg\"]);\n}\n\nfunction loadSpriteRockResources() {\n  return loadImages([\"imgs/building/rock/rock.jpg\"]);\n}\n\nfunction loadSpriteStoneResources() {\n  return loadImages([\"imgs/building/stone/stone.jpg\"]);\n}\n\nfunction loadSpriteStoneBornResources() {\n  return loadImages([\"imgs/building/stone/stone-born.jpg\"]);\n}\n\nfunction loadSpriteAskResources() {\n  return loadImages([\n    \"imgs/building/ask/frame-1.jpg\",\n    \"imgs/building/ask/frame-2.jpg\",\n    \"imgs/building/ask/frame-3.jpg\",\n    \"imgs/building/ask/frame-4.jpg\",\n    \"imgs/building/ask/frame-5.jpg\",\n    \"imgs/building/ask/frame-6.jpg\",\n    \"imgs/building/ask/empty.jpg\",\n  ]);\n}\n\nfunction loadSpriteWinResources() {\n  return loadImages([\n    \"imgs/building/win/flag.jpg\",\n    \"imgs/building/win/round.jpg\",\n    \"imgs/building/win/rod.jpg\",\n  ]);\n}\n\nfunction loadSpriteFlowerResources() {\n  return loadImages([\n    \"imgs/props/flow/frame-1.jpg\",\n    \"imgs/props/flow/frame-2.jpg\",\n    \"imgs/props/flow/frame-3.jpg\",\n    \"imgs/props/flow/frame-4.jpg\",\n  ]);\n}\n\nfunction loadSpriteGoldResources() {\n  return loadImages([\n    \"imgs/props/gold/frame-1.jpg\",\n    \"imgs/props/gold/frame-2.jpg\",\n    \"imgs/props/gold/frame-3.jpg\",\n    \"imgs/props/gold/frame-4.jpg\",\n    \"imgs/props/gold/frame-5.jpg\",\n    \"imgs/props/gold/frame-6.jpg\",\n  ]);\n}\n\nfunction loadSpriteGrowMushroomResources() {\n  return loadImages([\"imgs/props/grow-mushroom/frame-1.jpg\"]);\n}\n\nfunction loadSpriteBadMushroomResources() {\n  return loadImages([\n    \"imgs/bad/mushroom/frame-1.jpg\",\n    \"imgs/bad/mushroom/frame-2.jpg\",\n    \"imgs/bad/mushroom/die-frame-1.jpg\",\n    \"imgs/bad/mushroom/die-frame-2.jpg\",\n    \"imgs/bad/mushroom/die.jpg\",\n  ]);\n}\n\nfunction loadSpriteBulletResources() {\n  return loadImages([\n    \"imgs/bullet/frame-1.jpg\",\n    \"imgs/bullet/frame-2.jpg\",\n    \"imgs/bullet/frame-3.jpg\",\n    \"imgs/bullet/frame-4.jpg\",\n  ]);\n}\n\nexport let backgroundResources;\nexport let baseMarioResources;\nexport let bigMarioResources;\nexport let bulletMarioResources;\nexport let spriteBulletResources;\nexport let spriteLandResources;\nexport let spriteRockResources;\nexport let spriteStoneResources;\nexport let spriteStoneBornResources;\nexport let SpriteAskResources;\nexport let spriteFlowerResources;\nexport let spriteGoldResources;\nexport let spriteGrowMushroomResources;\nexport let spriteBadMushroomResources;\nexport let spriteWinResources;\n\nexport async function loadAllResources() {\n  [\n    backgroundResources,\n    baseMarioResources,\n    bigMarioResources,\n    bulletMarioResources,\n    spriteBulletResources,\n    spriteLandResources,\n    spriteRockResources,\n    spriteStoneResources,\n    spriteStoneBornResources,\n    SpriteAskResources,\n    spriteFlowerResources,\n    spriteGoldResources,\n    spriteGrowMushroomResources,\n    spriteBadMushroomResources,\n    spriteWinResources,\n  ] = await Promise.all([\n    loadBackgroundResources(),\n    loadBaseMarioResources(),\n    loadBigMarioResources(),\n    loadBulletMarioResources(),\n    loadSpriteBulletResources(),\n    loadSpriteLandResources(),\n    loadSpriteRockResources(),\n    loadSpriteStoneResources(),\n    loadSpriteStoneBornResources(),\n    loadSpriteAskResources(),\n    loadSpriteFlowerResources(),\n    loadSpriteGoldResources(),\n    loadSpriteGrowMushroomResources(),\n    loadSpriteBadMushroomResources(),\n    loadSpriteWinResources(),\n  ]);\n}\n","const Platform = {\n    toURL(text, fileType) {\n        let url = encodeURIComponent(text);\n        if (fileType === 'text')\n            url = 'data:text/plain;charset=utf-8,' + url;\n        else if (fileType === 'svg')\n            url = 'data:image/svg+xml,' + url;\n        return url;\n    },\n    image: {\n        hitCanvasSize: 100,\n        maxCacheSize: 2560 * 1600,\n        maxPatternSize: 4096 * 2160,\n        crossOrigin: 'anonymous',\n        getRealURL(url) {\n            const { prefix, suffix } = Platform.image;\n            if (suffix && !url.startsWith('data:') && !url.startsWith('blob:'))\n                url += (url.includes(\"?\") ? \"&\" : \"?\") + suffix;\n            if (prefix && url[0] === '/')\n                url = prefix + url;\n            return url;\n        }\n    }\n};\n\nconst Creator = {};\n\nconst IncrementId = {\n    RUNTIME: 'runtime',\n    LEAF: 'leaf',\n    TASK: 'task',\n    CNAVAS: 'canvas',\n    IMAGE: 'image',\n    types: {},\n    create(typeName) {\n        const { types } = I$1;\n        if (types[typeName]) {\n            return types[typeName]++;\n        }\n        else {\n            types[typeName] = 1;\n            return 0;\n        }\n    }\n};\nconst I$1 = IncrementId;\n\nconst { round, pow: pow$1, PI: PI$2 } = Math;\nconst MathHelper = {\n    within(value, min, max) {\n        if (min !== undefined && value < min)\n            value = min;\n        if (max !== undefined && value > max)\n            value = max;\n        return value;\n    },\n    fourNumber(num, maxValue) {\n        let data;\n        if (num instanceof Array) {\n            switch (num.length) {\n                case 4:\n                    data = maxValue === undefined ? num : [...num];\n                    break;\n                case 2:\n                    data = [num[0], num[1], num[0], num[1]];\n                    break;\n                case 3:\n                    data = [num[0], num[1], num[2], num[1]];\n                    break;\n                case 1:\n                    num = num[0];\n                    break;\n                default:\n                    num = 0;\n            }\n        }\n        if (!data)\n            data = [num, num, num, num];\n        if (maxValue)\n            for (let i = 0; i < 4; i++)\n                if (data[i] > maxValue)\n                    data[i] = maxValue;\n        return data;\n    },\n    formatRotation(rotation, unsign) {\n        rotation %= 360;\n        if (unsign) {\n            if (rotation < 0)\n                rotation += 360;\n        }\n        else {\n            if (rotation > 180)\n                rotation -= 360;\n            if (rotation < -180)\n                rotation += 360;\n        }\n        return MathHelper.float(rotation);\n    },\n    getGapRotation(addRotation, gap, oldRotation = 0) {\n        let rotation = addRotation + oldRotation;\n        if (gap > 1) {\n            const r = Math.abs(rotation % gap);\n            if (r < 1 || r > gap - 1)\n                rotation = Math.round(rotation / gap) * gap;\n        }\n        return rotation - oldRotation;\n    },\n    float(num, maxLength) {\n        const a = maxLength ? pow$1(10, maxLength) : 1000000000000;\n        num = round(num * a) / a;\n        return num === -0 ? 0 : num;\n    }\n};\nconst OneRadian = PI$2 / 180;\nconst PI2 = PI$2 * 2;\nconst PI_2 = PI$2 / 2;\nfunction getPointData() { return { x: 0, y: 0 }; }\nfunction getBoundsData() { return { x: 0, y: 0, width: 0, height: 0 }; }\nfunction getMatrixData() { return { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0 }; }\n\nconst { sin: sin$3, cos: cos$3, acos, sqrt: sqrt$3 } = Math;\nconst { float: float$1 } = MathHelper;\nconst tempPoint$3 = {};\nfunction getWorld() {\n    return Object.assign(Object.assign(Object.assign({}, getMatrixData()), getBoundsData()), { scaleX: 1, scaleY: 1, rotation: 0, skewX: 0, skewY: 0 });\n}\nconst MatrixHelper = {\n    defaultMatrix: getMatrixData(),\n    defaultWorld: getWorld(),\n    tempMatrix: {},\n    set(t, a = 1, b = 0, c = 0, d = 1, e = 0, f = 0) {\n        t.a = a;\n        t.b = b;\n        t.c = c;\n        t.d = d;\n        t.e = e;\n        t.f = f;\n    },\n    get: getMatrixData,\n    getWorld,\n    copy(t, matrix) {\n        t.a = matrix.a;\n        t.b = matrix.b;\n        t.c = matrix.c;\n        t.d = matrix.d;\n        t.e = matrix.e;\n        t.f = matrix.f;\n    },\n    translate(t, x, y) {\n        t.e += x;\n        t.f += y;\n    },\n    translateInner(t, x, y, isMoveOrigin) {\n        t.e += t.a * x + t.c * y;\n        t.f += t.b * x + t.d * y;\n        if (isMoveOrigin)\n            t.e -= x, t.f -= y;\n    },\n    scale(t, scaleX, scaleY = scaleX) {\n        t.a *= scaleX;\n        t.b *= scaleX;\n        t.c *= scaleY;\n        t.d *= scaleY;\n    },\n    scaleOfOuter(t, origin, scaleX, scaleY) {\n        M$6.toInnerPoint(t, origin, tempPoint$3);\n        M$6.scaleOfInner(t, tempPoint$3, scaleX, scaleY);\n    },\n    scaleOfInner(t, origin, scaleX, scaleY = scaleX) {\n        M$6.translateInner(t, origin.x, origin.y);\n        M$6.scale(t, scaleX, scaleY);\n        M$6.translateInner(t, -origin.x, -origin.y);\n    },\n    rotate(t, rotation) {\n        const { a, b, c, d } = t;\n        rotation *= OneRadian;\n        const cosR = cos$3(rotation);\n        const sinR = sin$3(rotation);\n        t.a = a * cosR - b * sinR;\n        t.b = a * sinR + b * cosR;\n        t.c = c * cosR - d * sinR;\n        t.d = c * sinR + d * cosR;\n    },\n    rotateOfOuter(t, origin, rotation) {\n        M$6.toInnerPoint(t, origin, tempPoint$3);\n        M$6.rotateOfInner(t, tempPoint$3, rotation);\n    },\n    rotateOfInner(t, origin, rotation) {\n        M$6.translateInner(t, origin.x, origin.y);\n        M$6.rotate(t, rotation);\n        M$6.translateInner(t, -origin.x, -origin.y);\n    },\n    skew(t, skewX, skewY) {\n        const { a, b, c, d } = t;\n        if (skewY) {\n            skewY *= OneRadian;\n            t.a = a + c * skewY;\n            t.b = b + d * skewY;\n        }\n        if (skewX) {\n            skewX *= OneRadian;\n            t.c = c + a * skewX;\n            t.d = d + b * skewX;\n        }\n    },\n    skewOfOuter(t, origin, skewX, skewY) {\n        M$6.toInnerPoint(t, origin, tempPoint$3);\n        M$6.skewOfInner(t, tempPoint$3, skewX, skewY);\n    },\n    skewOfInner(t, origin, skewX, skewY = 0) {\n        M$6.translateInner(t, origin.x, origin.y);\n        M$6.skew(t, skewX, skewY);\n        M$6.translateInner(t, -origin.x, -origin.y);\n    },\n    multiply(t, child) {\n        const { a, b, c, d, e, f } = t;\n        t.a = child.a * a + child.b * c;\n        t.b = child.a * b + child.b * d;\n        t.c = child.c * a + child.d * c;\n        t.d = child.c * b + child.d * d;\n        t.e = child.e * a + child.f * c + e;\n        t.f = child.e * b + child.f * d + f;\n    },\n    multiplyParent(t, parent, to, abcdChanged, childScaleData, scrollData) {\n        let { e, f } = t;\n        if (scrollData)\n            e += scrollData.scrollX, f += scrollData.scrollY;\n        to || (to = t);\n        if (abcdChanged === undefined)\n            abcdChanged = t.a !== 1 || t.b || t.c || t.d !== 1;\n        if (abcdChanged) {\n            const { a, b, c, d } = t;\n            to.a = a * parent.a + b * parent.c;\n            to.b = a * parent.b + b * parent.d;\n            to.c = c * parent.a + d * parent.c;\n            to.d = c * parent.b + d * parent.d;\n            if (childScaleData) {\n                to.scaleX = parent.scaleX * childScaleData.scaleX;\n                to.scaleY = parent.scaleY * childScaleData.scaleY;\n            }\n        }\n        else {\n            to.a = parent.a;\n            to.b = parent.b;\n            to.c = parent.c;\n            to.d = parent.d;\n            if (childScaleData) {\n                to.scaleX = parent.scaleX;\n                to.scaleY = parent.scaleY;\n            }\n        }\n        to.e = e * parent.a + f * parent.c + parent.e;\n        to.f = e * parent.b + f * parent.d + parent.f;\n    },\n    divide(t, child) {\n        M$6.multiply(t, M$6.tempInvert(child));\n    },\n    divideParent(t, parent) {\n        M$6.multiplyParent(t, M$6.tempInvert(parent));\n    },\n    tempInvert(t) {\n        const { tempMatrix } = M$6;\n        M$6.copy(tempMatrix, t);\n        M$6.invert(tempMatrix);\n        return tempMatrix;\n    },\n    invert(t) {\n        const { a, b, c, d, e, f } = t;\n        if (!b && !c) {\n            if (a === 1 && d === 1) {\n                t.e = -e;\n                t.f = -f;\n            }\n            else {\n                const s = 1 / (a * d);\n                t.a = d * s;\n                t.d = a * s;\n                t.e = -e * d * s;\n                t.f = -f * a * s;\n            }\n        }\n        else {\n            const s = 1 / (a * d - b * c);\n            t.a = d * s;\n            t.b = -b * s;\n            t.c = -c * s;\n            t.d = a * s;\n            t.e = -(e * d - f * c) * s;\n            t.f = -(f * a - e * b) * s;\n        }\n    },\n    toOuterPoint(t, inner, to, distance) {\n        const { x, y } = inner;\n        to || (to = inner);\n        to.x = x * t.a + y * t.c;\n        to.y = x * t.b + y * t.d;\n        if (!distance) {\n            to.x += t.e;\n            to.y += t.f;\n        }\n    },\n    toInnerPoint(t, outer, to, distance) {\n        const { a, b, c, d } = t;\n        const s = 1 / (a * d - b * c);\n        const { x, y } = outer;\n        to || (to = outer);\n        to.x = (x * d - y * c) * s;\n        to.y = (y * a - x * b) * s;\n        if (!distance) {\n            const { e, f } = t;\n            to.x -= (e * d - f * c) * s;\n            to.y -= (f * a - e * b) * s;\n        }\n    },\n    setLayout(t, layout, origin, bcChanged) {\n        const { x, y, scaleX, scaleY } = layout;\n        if (bcChanged === undefined)\n            bcChanged = layout.rotation || layout.skewX || layout.skewY;\n        if (bcChanged) {\n            const { rotation, skewX, skewY } = layout;\n            const r = rotation * OneRadian;\n            const cosR = cos$3(r);\n            const sinR = sin$3(r);\n            if (skewX || skewY) {\n                const sx = skewX * OneRadian;\n                const sy = skewY * OneRadian;\n                t.a = (cosR + sy * -sinR) * scaleX;\n                t.b = (sinR + sy * cosR) * scaleX;\n                t.c = (-sinR + sx * cosR) * scaleY;\n                t.d = (cosR + sx * sinR) * scaleY;\n            }\n            else {\n                t.a = cosR * scaleX;\n                t.b = sinR * scaleX;\n                t.c = -sinR * scaleY;\n                t.d = cosR * scaleY;\n            }\n        }\n        else {\n            t.a = scaleX;\n            t.b = 0;\n            t.c = 0;\n            t.d = scaleY;\n        }\n        t.e = x;\n        t.f = y;\n        if (origin)\n            M$6.translateInner(t, -origin.x, -origin.y, true);\n    },\n    getLayout(t, origin, firstSkewY) {\n        const { a, b, c, d, e, f } = t;\n        let x = e, y = f, scaleX, scaleY, rotation, skewX, skewY;\n        if (b || c) {\n            const s = a * d - b * c;\n            if (c && !firstSkewY) {\n                scaleX = sqrt$3(a * a + b * b);\n                scaleY = s / scaleX;\n                const cosR = a / scaleX;\n                rotation = b > 0 ? acos(cosR) : -acos(cosR);\n            }\n            else {\n                scaleY = sqrt$3(c * c + d * d);\n                scaleX = s / scaleY;\n                const cosR = c / scaleY;\n                rotation = PI_2 - (d > 0 ? acos(-cosR) : -acos(cosR));\n            }\n            const cosR = float$1(cos$3(rotation));\n            const sinR = sin$3(rotation);\n            scaleX = float$1(scaleX), scaleY = float$1(scaleY);\n            skewX = cosR ? float$1((c / scaleY + sinR) / cosR / OneRadian, 9) : 0;\n            skewY = cosR ? float$1((b / scaleX - sinR) / cosR / OneRadian, 9) : 0;\n            rotation = float$1(rotation / OneRadian);\n        }\n        else {\n            scaleX = a;\n            scaleY = d;\n            rotation = skewX = skewY = 0;\n        }\n        if (origin) {\n            x += origin.x * a + origin.y * c;\n            y += origin.x * b + origin.y * d;\n        }\n        return { x, y, scaleX, scaleY, rotation, skewX, skewY };\n    },\n    withScale(t, scaleX, scaleY = scaleX) {\n        const world = t;\n        if (!scaleX || !scaleY) {\n            const { a, b, c, d } = t;\n            if (b || c) {\n                scaleX = sqrt$3(a * a + b * b);\n                scaleY = (a * d - b * c) / scaleX;\n            }\n            else {\n                scaleX = a;\n                scaleY = d;\n            }\n        }\n        world.scaleX = scaleX;\n        world.scaleY = scaleY;\n        return world;\n    },\n    reset(t) {\n        M$6.set(t);\n    }\n};\nconst M$6 = MatrixHelper;\n\nconst { toInnerPoint: toInnerPoint$2, toOuterPoint: toOuterPoint$2 } = MatrixHelper;\nconst { sin: sin$2, cos: cos$2, abs: abs$2, sqrt: sqrt$2, atan2: atan2$2, min: min$1, PI: PI$1 } = Math;\nconst PointHelper = {\n    defaultPoint: getPointData(),\n    tempPoint: {},\n    tempRadiusPoint: {},\n    set(t, x = 0, y = 0) {\n        t.x = x;\n        t.y = y;\n    },\n    setRadius(t, x, y) {\n        t.radiusX = x;\n        t.radiusY = y === undefined ? x : y;\n    },\n    copy(t, point) {\n        t.x = point.x;\n        t.y = point.y;\n    },\n    copyFrom(t, x, y) {\n        t.x = x;\n        t.y = y;\n    },\n    move(t, x, y) {\n        t.x += x;\n        t.y += y;\n    },\n    scale(t, scaleX, scaleY = scaleX) {\n        if (t.x)\n            t.x *= scaleX;\n        if (t.y)\n            t.y *= scaleY;\n    },\n    scaleOf(t, origin, scaleX, scaleY = scaleX) {\n        t.x += (t.x - origin.x) * (scaleX - 1);\n        t.y += (t.y - origin.y) * (scaleY - 1);\n    },\n    rotate(t, rotation, origin) {\n        if (!origin)\n            origin = P$5.defaultPoint;\n        rotation *= OneRadian;\n        const cosR = cos$2(rotation);\n        const sinR = sin$2(rotation);\n        const rx = t.x - origin.x;\n        const ry = t.y - origin.y;\n        t.x = origin.x + rx * cosR - ry * sinR;\n        t.y = origin.y + rx * sinR + ry * cosR;\n    },\n    tempToInnerOf(t, matrix) {\n        const { tempPoint: temp } = P$5;\n        copy$7(temp, t);\n        toInnerPoint$2(matrix, temp, temp);\n        return temp;\n    },\n    tempToOuterOf(t, matrix) {\n        const { tempPoint: temp } = P$5;\n        copy$7(temp, t);\n        toOuterPoint$2(matrix, temp, temp);\n        return temp;\n    },\n    tempToInnerRadiusPointOf(t, matrix) {\n        const { tempRadiusPoint: temp } = P$5;\n        copy$7(temp, t);\n        P$5.toInnerRadiusPointOf(t, matrix, temp);\n        return temp;\n    },\n    toInnerRadiusPointOf(t, matrix, to) {\n        to || (to = t);\n        toInnerPoint$2(matrix, t, to);\n        to.radiusX = Math.abs(t.radiusX / matrix.scaleX);\n        to.radiusY = Math.abs(t.radiusY / matrix.scaleY);\n    },\n    toInnerOf(t, matrix, to) {\n        toInnerPoint$2(matrix, t, to);\n    },\n    toOuterOf(t, matrix, to) {\n        toOuterPoint$2(matrix, t, to);\n    },\n    getCenter(t, to) {\n        return { x: t.x + (to.x - t.x) / 2, y: t.y + (to.y - t.y) / 2 };\n    },\n    getCenterX(x1, x2) {\n        return x1 + (x2 - x1) / 2;\n    },\n    getCenterY(y1, y2) {\n        return y1 + (y2 - y1) / 2;\n    },\n    getDistance(t, point) {\n        return getDistanceFrom(t.x, t.y, point.x, point.y);\n    },\n    getDistanceFrom(x1, y1, x2, y2) {\n        const x = abs$2(x2 - x1);\n        const y = abs$2(y2 - y1);\n        return sqrt$2(x * x + y * y);\n    },\n    getMinDistanceFrom(x1, y1, x2, y2, x3, y3) {\n        return min$1(getDistanceFrom(x1, y1, x2, y2), getDistanceFrom(x2, y2, x3, y3));\n    },\n    getAngle(t, to) {\n        return getAtan2(t, to) / OneRadian;\n    },\n    getRotation(t, origin, to, toOrigin) {\n        if (!toOrigin)\n            toOrigin = origin;\n        return P$5.getRadianFrom(t.x, t.y, origin.x, origin.y, to.x, to.y, toOrigin.x, toOrigin.y) / OneRadian;\n    },\n    getRadianFrom(fromX, fromY, originX, originY, toX, toY, toOriginX, toOriginY) {\n        if (toOriginX === undefined)\n            toOriginX = originX, toOriginY = originY;\n        let fromAngle = atan2$2(fromY - originY, fromX - originX);\n        let toAngle = atan2$2(toY - toOriginY, toX - toOriginX);\n        const radian = toAngle - fromAngle;\n        return radian < -PI$1 ? radian + PI2 : radian;\n    },\n    getAtan2(t, to) {\n        return atan2$2(to.y - t.y, to.x - t.x);\n    },\n    getDistancePoint(t, to, distance, changeTo) {\n        const r = getAtan2(t, to);\n        to = changeTo ? to : {};\n        to.x = t.x + cos$2(r) * distance;\n        to.y = t.y + sin$2(r) * distance;\n        return to;\n    },\n    reset(t) {\n        P$5.reset(t);\n    }\n};\nconst P$5 = PointHelper;\nconst { getDistanceFrom, copy: copy$7, getAtan2 } = P$5;\n\nclass Point {\n    constructor(x, y) {\n        this.set(x, y);\n    }\n    set(x, y) {\n        typeof x === 'object' ? PointHelper.copy(this, x) : PointHelper.set(this, x, y);\n        return this;\n    }\n    get() {\n        const { x, y } = this;\n        return { x, y };\n    }\n    clone() {\n        return new Point(this);\n    }\n    move(x, y) {\n        PointHelper.move(this, x, y);\n        return this;\n    }\n    scale(scaleX, scaleY) {\n        PointHelper.scale(this, scaleX, scaleY);\n        return this;\n    }\n    scaleOf(origin, scaleX, scaleY) {\n        PointHelper.scaleOf(this, origin, scaleX, scaleY);\n        return this;\n    }\n    rotate(rotation, origin) {\n        PointHelper.rotate(this, rotation, origin);\n        return this;\n    }\n    rotateOf(origin, rotation) {\n        PointHelper.rotate(this, rotation, origin);\n        return this;\n    }\n    getRotation(origin, to, toOrigin) {\n        return PointHelper.getRotation(this, origin, to, toOrigin);\n    }\n    toInnerOf(matrix, to) {\n        PointHelper.toInnerOf(this, matrix, to);\n        return this;\n    }\n    toOuterOf(matrix, to) {\n        PointHelper.toOuterOf(this, matrix, to);\n        return this;\n    }\n    getCenter(to) {\n        return new Point(PointHelper.getCenter(this, to));\n    }\n    getDistance(to) {\n        return PointHelper.getDistance(this, to);\n    }\n    getDistancePoint(to, distance, changeTo) {\n        return new Point(PointHelper.getDistancePoint(this, to, distance, changeTo));\n    }\n    getAngle(to) {\n        return PointHelper.getAngle(this, to);\n    }\n    getAtan2(to) {\n        return PointHelper.getAtan2(this, to);\n    }\n    reset() {\n        PointHelper.reset(this);\n        return this;\n    }\n}\nconst tempPoint$2 = new Point();\n\nclass Matrix {\n    constructor(a, b, c, d, e, f) {\n        this.set(a, b, c, d, e, f);\n    }\n    set(a, b, c, d, e, f) {\n        typeof a === 'object' ? MatrixHelper.copy(this, a) : MatrixHelper.set(this, a, b, c, d, e, f);\n        return this;\n    }\n    setWith(dataWithScale) {\n        MatrixHelper.copy(this, dataWithScale);\n        this.scaleX = dataWithScale.scaleX;\n        this.scaleY = dataWithScale.scaleY;\n        return this;\n    }\n    get() {\n        const { a, b, c, d, e, f } = this;\n        return { a, b, c, d, e, f };\n    }\n    clone() {\n        return new Matrix(this);\n    }\n    translate(x, y) {\n        MatrixHelper.translate(this, x, y);\n        return this;\n    }\n    translateInner(x, y) {\n        MatrixHelper.translateInner(this, x, y);\n        return this;\n    }\n    scale(x, y) {\n        MatrixHelper.scale(this, x, y);\n        return this;\n    }\n    scaleWith(x, y) {\n        MatrixHelper.scale(this, x, y);\n        this.scaleX *= x;\n        this.scaleY *= y || x;\n        return this;\n    }\n    scaleOfOuter(origin, x, y) {\n        MatrixHelper.scaleOfOuter(this, origin, x, y);\n        return this;\n    }\n    scaleOfInner(origin, x, y) {\n        MatrixHelper.scaleOfInner(this, origin, x, y);\n        return this;\n    }\n    rotate(angle) {\n        MatrixHelper.rotate(this, angle);\n        return this;\n    }\n    rotateOfOuter(origin, angle) {\n        MatrixHelper.rotateOfOuter(this, origin, angle);\n        return this;\n    }\n    rotateOfInner(origin, angle) {\n        MatrixHelper.rotateOfInner(this, origin, angle);\n        return this;\n    }\n    skew(x, y) {\n        MatrixHelper.skew(this, x, y);\n        return this;\n    }\n    skewOfOuter(origin, x, y) {\n        MatrixHelper.skewOfOuter(this, origin, x, y);\n        return this;\n    }\n    skewOfInner(origin, x, y) {\n        MatrixHelper.skewOfInner(this, origin, x, y);\n        return this;\n    }\n    multiply(child) {\n        MatrixHelper.multiply(this, child);\n        return this;\n    }\n    multiplyParent(parent) {\n        MatrixHelper.multiplyParent(this, parent);\n        return this;\n    }\n    divide(child) {\n        MatrixHelper.divide(this, child);\n        return this;\n    }\n    divideParent(parent) {\n        MatrixHelper.divideParent(this, parent);\n        return this;\n    }\n    invert() {\n        MatrixHelper.invert(this);\n        return this;\n    }\n    invertWith() {\n        MatrixHelper.invert(this);\n        this.scaleX = 1 / this.scaleX;\n        this.scaleY = 1 / this.scaleY;\n        return this;\n    }\n    toOuterPoint(inner, to, distance) {\n        MatrixHelper.toOuterPoint(this, inner, to, distance);\n    }\n    toInnerPoint(outer, to, distance) {\n        MatrixHelper.toInnerPoint(this, outer, to, distance);\n    }\n    setLayout(data, origin) {\n        MatrixHelper.setLayout(this, data, origin);\n        return this;\n    }\n    getLayout(origin, firstSkewY) {\n        return MatrixHelper.getLayout(this, origin, firstSkewY);\n    }\n    withScale(scaleX, scaleY) {\n        return MatrixHelper.withScale(this, scaleX, scaleY);\n    }\n    reset() {\n        MatrixHelper.reset(this);\n    }\n}\nconst tempMatrix = new Matrix();\n\nconst TwoPointBoundsHelper = {\n    tempPointBounds: {},\n    setPoint(t, minX, minY) {\n        t.minX = t.maxX = minX;\n        t.minY = t.maxY = minY;\n    },\n    addPoint(t, x, y) {\n        t.minX = x < t.minX ? x : t.minX;\n        t.minY = y < t.minY ? y : t.minY;\n        t.maxX = x > t.maxX ? x : t.maxX;\n        t.maxY = y > t.maxY ? y : t.maxY;\n    },\n    addBounds(t, x, y, width, height) {\n        addPoint$3(t, x, y);\n        addPoint$3(t, x + width, y + height);\n    },\n    copy(t, pb) {\n        t.minX = pb.minX;\n        t.minY = pb.minY;\n        t.maxX = pb.maxX;\n        t.maxY = pb.maxY;\n    },\n    addPointBounds(t, pb) {\n        t.minX = pb.minX < t.minX ? pb.minX : t.minX;\n        t.minY = pb.minY < t.minY ? pb.minY : t.minY;\n        t.maxX = pb.maxX > t.maxX ? pb.maxX : t.maxX;\n        t.maxY = pb.maxY > t.maxY ? pb.maxY : t.maxY;\n    },\n    toBounds(t, setBounds) {\n        setBounds.x = t.minX;\n        setBounds.y = t.minY;\n        setBounds.width = t.maxX - t.minX;\n        setBounds.height = t.maxY - t.minY;\n    }\n};\nconst { addPoint: addPoint$3 } = TwoPointBoundsHelper;\n\nconst { tempPointBounds: tempPointBounds$1, setPoint: setPoint$2, addPoint: addPoint$2, toBounds: toBounds$2 } = TwoPointBoundsHelper;\nconst { toOuterPoint: toOuterPoint$1 } = MatrixHelper;\nconst { float, fourNumber } = MathHelper;\nconst { floor, ceil: ceil$1 } = Math;\nlet right, bottom, boundsRight, boundsBottom;\nconst point = {};\nconst toPoint$2 = {};\nconst BoundsHelper = {\n    tempBounds: {},\n    set(t, x = 0, y = 0, width = 0, height = 0) {\n        t.x = x;\n        t.y = y;\n        t.width = width;\n        t.height = height;\n    },\n    copy(t, bounds) {\n        t.x = bounds.x;\n        t.y = bounds.y;\n        t.width = bounds.width;\n        t.height = bounds.height;\n    },\n    copyAndSpread(t, bounds, spread, isShrink) {\n        if (spread instanceof Array) {\n            const four = fourNumber(spread);\n            isShrink\n                ? B.set(t, bounds.x + four[3], bounds.y + four[0], bounds.width - four[1] - four[3], bounds.height - four[2] - four[0])\n                : B.set(t, bounds.x - four[3], bounds.y - four[0], bounds.width + four[1] + four[3], bounds.height + four[2] + four[0]);\n        }\n        else {\n            if (isShrink)\n                spread = -spread;\n            B.set(t, bounds.x - spread, bounds.y - spread, bounds.width + spread * 2, bounds.height + spread * 2);\n        }\n    },\n    minX(t) { return t.width > 0 ? t.x : t.x + t.width; },\n    minY(t) { return t.height > 0 ? t.y : t.y + t.height; },\n    maxX(t) { return t.width > 0 ? t.x + t.width : t.x; },\n    maxY(t) { return t.height > 0 ? t.y + t.height : t.y; },\n    move(t, x, y) {\n        t.x += x;\n        t.y += y;\n    },\n    getByMove(t, x, y) {\n        t = Object.assign({}, t);\n        B.move(t, x, y);\n        return t;\n    },\n    toOffsetOutBounds(t, to, parent) {\n        if (!to) {\n            to = t;\n        }\n        else {\n            copy$6(to, t);\n        }\n        if (parent) {\n            to.offsetX = -(B.maxX(parent) - t.x);\n            to.offsetY = -(B.maxY(parent) - t.y);\n        }\n        else {\n            to.offsetX = t.x + t.width;\n            to.offsetY = t.y + t.height;\n        }\n        B.move(to, -to.offsetX, -to.offsetY);\n    },\n    scale(t, scaleX, scaleY = scaleX) {\n        PointHelper.scale(t, scaleX, scaleY);\n        t.width *= scaleX;\n        t.height *= scaleY;\n    },\n    scaleOf(t, origin, scaleX, scaleY = scaleX) {\n        PointHelper.scaleOf(t, origin, scaleX, scaleY);\n        t.width *= scaleX;\n        t.height *= scaleY;\n    },\n    tempToOuterOf(t, matrix) {\n        B.copy(B.tempBounds, t);\n        B.toOuterOf(B.tempBounds, matrix);\n        return B.tempBounds;\n    },\n    getOuterOf(t, matrix) {\n        t = Object.assign({}, t);\n        B.toOuterOf(t, matrix);\n        return t;\n    },\n    toOuterOf(t, matrix, to) {\n        to || (to = t);\n        if (matrix.b === 0 && matrix.c === 0) {\n            const { a, d } = matrix;\n            if (a > 0) {\n                to.width = t.width * a;\n                to.x = matrix.e + t.x * a;\n            }\n            else {\n                to.width = t.width * -a;\n                to.x = matrix.e + t.x * a - to.width;\n            }\n            if (d > 0) {\n                to.height = t.height * d;\n                to.y = matrix.f + t.y * d;\n            }\n            else {\n                to.height = t.height * -d;\n                to.y = matrix.f + t.y * d - to.height;\n            }\n        }\n        else {\n            point.x = t.x;\n            point.y = t.y;\n            toOuterPoint$1(matrix, point, toPoint$2);\n            setPoint$2(tempPointBounds$1, toPoint$2.x, toPoint$2.y);\n            point.x = t.x + t.width;\n            toOuterPoint$1(matrix, point, toPoint$2);\n            addPoint$2(tempPointBounds$1, toPoint$2.x, toPoint$2.y);\n            point.y = t.y + t.height;\n            toOuterPoint$1(matrix, point, toPoint$2);\n            addPoint$2(tempPointBounds$1, toPoint$2.x, toPoint$2.y);\n            point.x = t.x;\n            toOuterPoint$1(matrix, point, toPoint$2);\n            addPoint$2(tempPointBounds$1, toPoint$2.x, toPoint$2.y);\n            toBounds$2(tempPointBounds$1, to);\n        }\n    },\n    toInnerOf(t, matrix, to) {\n        to || (to = t);\n        B.move(to, -matrix.e, -matrix.f);\n        B.scale(to, 1 / matrix.a, 1 / matrix.d);\n    },\n    getFitMatrix(t, put, baseScale = 1) {\n        const scale = Math.min(baseScale, Math.min(t.width / put.width, t.height / put.height));\n        return new Matrix(scale, 0, 0, scale, -put.x * scale, -put.y * scale);\n    },\n    getSpread(t, spread) {\n        const n = {};\n        B.copyAndSpread(n, t, spread);\n        return n;\n    },\n    spread(t, spread) {\n        B.copyAndSpread(t, t, spread);\n    },\n    shrink(t, shrink) {\n        B.copyAndSpread(t, t, shrink, true);\n    },\n    ceil(t) {\n        const { x, y } = t;\n        t.x = floor(t.x);\n        t.y = floor(t.y);\n        t.width = x > t.x ? ceil$1(t.width + x - t.x) : ceil$1(t.width);\n        t.height = y > t.y ? ceil$1(t.height + y - t.y) : ceil$1(t.height);\n    },\n    unsign(t) {\n        if (t.width < 0) {\n            t.x += t.width;\n            t.width = -t.width;\n        }\n        if (t.height < 0) {\n            t.y += t.height;\n            t.height = -t.height;\n        }\n    },\n    float(t, maxLength) {\n        t.x = float(t.x, maxLength);\n        t.y = float(t.y, maxLength);\n        t.width = float(t.width, maxLength);\n        t.height = float(t.height, maxLength);\n    },\n    add(t, bounds, isPoint) {\n        right = t.x + t.width;\n        bottom = t.y + t.height;\n        boundsRight = bounds.x;\n        boundsBottom = bounds.y;\n        if (!isPoint) {\n            boundsRight += bounds.width;\n            boundsBottom += bounds.height;\n        }\n        right = right > boundsRight ? right : boundsRight;\n        bottom = bottom > boundsBottom ? bottom : boundsBottom;\n        t.x = t.x < bounds.x ? t.x : bounds.x;\n        t.y = t.y < bounds.y ? t.y : bounds.y;\n        t.width = right - t.x;\n        t.height = bottom - t.y;\n    },\n    addList(t, list) {\n        B.setListWithFn(t, list, undefined, true);\n    },\n    setList(t, list, addMode = false) {\n        B.setListWithFn(t, list, undefined, addMode);\n    },\n    addListWithFn(t, list, boundsDataFn) {\n        B.setListWithFn(t, list, boundsDataFn, true);\n    },\n    setListWithFn(t, list, boundsDataFn, addMode = false) {\n        let bounds, first = true;\n        for (let i = 0, len = list.length; i < len; i++) {\n            bounds = boundsDataFn ? boundsDataFn(list[i]) : list[i];\n            if (bounds && (bounds.width || bounds.height)) {\n                if (first) {\n                    first = false;\n                    if (!addMode)\n                        copy$6(t, bounds);\n                }\n                else {\n                    add(t, bounds);\n                }\n            }\n        }\n        if (first)\n            B.reset(t);\n    },\n    setPoints(t, points) {\n        points.forEach((point, index) => index === 0 ? setPoint$2(tempPointBounds$1, point.x, point.y) : addPoint$2(tempPointBounds$1, point.x, point.y));\n        toBounds$2(tempPointBounds$1, t);\n    },\n    setPoint(t, point) {\n        B.set(t, point.x, point.y);\n    },\n    addPoint(t, point) {\n        add(t, point, true);\n    },\n    getPoints(t) {\n        const { x, y, width, height } = t;\n        return [\n            { x, y },\n            { x: x + width, y },\n            { x: x + width, y: y + height },\n            { x, y: y + height }\n        ];\n    },\n    hitRadiusPoint(t, point, pointMatrix) {\n        if (pointMatrix)\n            point = PointHelper.tempToInnerRadiusPointOf(point, pointMatrix);\n        return (point.x >= t.x - point.radiusX && point.x <= t.x + t.width + point.radiusX) && (point.y >= t.y - point.radiusY && point.y <= t.y + t.height + point.radiusY);\n    },\n    hitPoint(t, point, pointMatrix) {\n        if (pointMatrix)\n            point = PointHelper.tempToInnerOf(point, pointMatrix);\n        return (point.x >= t.x && point.x <= t.x + t.width) && (point.y >= t.y && point.y <= t.y + t.height);\n    },\n    hit(t, other, otherMatrix) {\n        if (otherMatrix)\n            other = B.tempToOuterOf(other, otherMatrix);\n        return !((t.y + t.height < other.y) || (other.y + other.height < t.y) || (t.x + t.width < other.x) || (other.x + other.width < t.x));\n    },\n    includes(t, other, otherMatrix) {\n        if (otherMatrix)\n            other = B.tempToOuterOf(other, otherMatrix);\n        return (t.x <= other.x) && (t.y <= other.y) && (t.x + t.width >= other.x + other.width) && (t.y + t.height >= other.y + other.height);\n    },\n    getIntersectData(t, other, otherMatrix) {\n        if (otherMatrix)\n            other = B.tempToOuterOf(other, otherMatrix);\n        if (!B.hit(t, other))\n            return getBoundsData();\n        let { x, y, width, height } = other;\n        right = x + width;\n        bottom = y + height;\n        boundsRight = t.x + t.width;\n        boundsBottom = t.y + t.height;\n        x = x > t.x ? x : t.x;\n        y = y > t.y ? y : t.y;\n        right = right < boundsRight ? right : boundsRight;\n        bottom = bottom < boundsBottom ? bottom : boundsBottom;\n        width = right - x;\n        height = bottom - y;\n        return { x, y, width, height };\n    },\n    intersect(t, other, otherMatrix) {\n        B.copy(t, B.getIntersectData(t, other, otherMatrix));\n    },\n    isSame(t, bounds) {\n        return t.x === bounds.x && t.y === bounds.y && t.width === bounds.width && t.height === bounds.height;\n    },\n    isEmpty(t) {\n        return t.x === 0 && t.y === 0 && t.width === 0 && t.height === 0;\n    },\n    reset(t) {\n        B.set(t);\n    }\n};\nconst B = BoundsHelper;\nconst { add, copy: copy$6 } = B;\n\nclass Bounds {\n    get minX() { return BoundsHelper.minX(this); }\n    get minY() { return BoundsHelper.minY(this); }\n    get maxX() { return BoundsHelper.maxX(this); }\n    get maxY() { return BoundsHelper.maxY(this); }\n    constructor(x, y, width, height) {\n        this.set(x, y, width, height);\n    }\n    set(x, y, width, height) {\n        typeof x === 'object' ? BoundsHelper.copy(this, x) : BoundsHelper.set(this, x, y, width, height);\n        return this;\n    }\n    get() {\n        const { x, y, width, height } = this;\n        return { x, y, width, height };\n    }\n    clone() {\n        return new Bounds(this);\n    }\n    move(x, y) {\n        BoundsHelper.move(this, x, y);\n        return this;\n    }\n    scale(scaleX, scaleY) {\n        BoundsHelper.scale(this, scaleX, scaleY);\n        return this;\n    }\n    scaleOf(origin, scaleX, scaleY) {\n        BoundsHelper.scaleOf(this, origin, scaleX, scaleY);\n        return this;\n    }\n    toOuterOf(matrix, to) {\n        BoundsHelper.toOuterOf(this, matrix, to);\n        return this;\n    }\n    toInnerOf(matrix, to) {\n        BoundsHelper.toInnerOf(this, matrix, to);\n        return this;\n    }\n    getFitMatrix(put, baseScale) {\n        return BoundsHelper.getFitMatrix(this, put, baseScale);\n    }\n    spread(fourNumber) {\n        BoundsHelper.spread(this, fourNumber);\n        return this;\n    }\n    shrink(fourNumber) {\n        BoundsHelper.shrink(this, fourNumber);\n        return this;\n    }\n    ceil() {\n        BoundsHelper.ceil(this);\n        return this;\n    }\n    unsign() {\n        BoundsHelper.unsign(this);\n        return this;\n    }\n    float(maxLength) {\n        BoundsHelper.float(this, maxLength);\n        return this;\n    }\n    add(bounds) {\n        BoundsHelper.add(this, bounds);\n        return this;\n    }\n    addList(boundsList) {\n        BoundsHelper.setList(this, boundsList, true);\n        return this;\n    }\n    setList(boundsList) {\n        BoundsHelper.setList(this, boundsList);\n        return this;\n    }\n    addListWithFn(list, boundsDataFn) {\n        BoundsHelper.setListWithFn(this, list, boundsDataFn, true);\n        return this;\n    }\n    setListWithFn(list, boundsDataFn) {\n        BoundsHelper.setListWithFn(this, list, boundsDataFn);\n        return this;\n    }\n    setPoint(point) {\n        BoundsHelper.setPoint(this, point);\n        return this;\n    }\n    setPoints(points) {\n        BoundsHelper.setPoints(this, points);\n        return this;\n    }\n    addPoint(point) {\n        BoundsHelper.addPoint(this, point);\n        return this;\n    }\n    getPoints() {\n        return BoundsHelper.getPoints(this);\n    }\n    hitPoint(point, pointMatrix) {\n        return BoundsHelper.hitPoint(this, point, pointMatrix);\n    }\n    hitRadiusPoint(point, pointMatrix) {\n        return BoundsHelper.hitRadiusPoint(this, point, pointMatrix);\n    }\n    hit(bounds, boundsMatrix) {\n        return BoundsHelper.hit(this, bounds, boundsMatrix);\n    }\n    includes(bounds, boundsMatrix) {\n        return BoundsHelper.includes(this, bounds, boundsMatrix);\n    }\n    intersect(bounds, boundsMatrix) {\n        BoundsHelper.intersect(this, bounds, boundsMatrix);\n        return this;\n    }\n    getIntersect(bounds, boundsMatrix) {\n        return new Bounds(BoundsHelper.getIntersectData(this, bounds, boundsMatrix));\n    }\n    isSame(bounds) {\n        return BoundsHelper.isSame(this, bounds);\n    }\n    isEmpty() {\n        return BoundsHelper.isEmpty(this);\n    }\n    reset() {\n        BoundsHelper.reset(this);\n    }\n}\nconst tempBounds = new Bounds();\n\nclass AutoBounds {\n    constructor(top, right, bottom, left, width, height) {\n        typeof top === 'object' ? this.copy(top) : this.set(top, right, bottom, left, width, height);\n    }\n    set(top = 0, right = 0, bottom = 0, left = 0, width = 0, height = 0) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n        this.width = width;\n        this.height = height;\n    }\n    copy(autoSize) {\n        const { top, right, bottom, left, width, height } = autoSize;\n        this.set(top, right, bottom, left, width, height);\n    }\n    getBoundsFrom(parent) {\n        const { top, right, bottom, left, width, height } = this;\n        return new Bounds(left, top, width ? width : parent.width - left - right, height ? height : parent.height - top - bottom);\n    }\n}\n\nvar Direction4;\n(function (Direction4) {\n    Direction4[Direction4[\"top\"] = 0] = \"top\";\n    Direction4[Direction4[\"right\"] = 1] = \"right\";\n    Direction4[Direction4[\"bottom\"] = 2] = \"bottom\";\n    Direction4[Direction4[\"left\"] = 3] = \"left\";\n})(Direction4 || (Direction4 = {}));\nvar Direction9;\n(function (Direction9) {\n    Direction9[Direction9[\"topLeft\"] = 0] = \"topLeft\";\n    Direction9[Direction9[\"top\"] = 1] = \"top\";\n    Direction9[Direction9[\"topRight\"] = 2] = \"topRight\";\n    Direction9[Direction9[\"right\"] = 3] = \"right\";\n    Direction9[Direction9[\"bottomRight\"] = 4] = \"bottomRight\";\n    Direction9[Direction9[\"bottom\"] = 5] = \"bottom\";\n    Direction9[Direction9[\"bottomLeft\"] = 6] = \"bottomLeft\";\n    Direction9[Direction9[\"left\"] = 7] = \"left\";\n    Direction9[Direction9[\"center\"] = 8] = \"center\";\n    Direction9[Direction9[\"top-left\"] = 0] = \"top-left\";\n    Direction9[Direction9[\"top-right\"] = 2] = \"top-right\";\n    Direction9[Direction9[\"bottom-right\"] = 4] = \"bottom-right\";\n    Direction9[Direction9[\"bottom-left\"] = 6] = \"bottom-left\";\n})(Direction9 || (Direction9 = {}));\n\nconst directionData = [\n    { x: 0, y: 0 },\n    { x: 0.5, y: 0 },\n    { x: 1, y: 0 },\n    { x: 1, y: 0.5 },\n    { x: 1, y: 1 },\n    { x: 0.5, y: 1 },\n    { x: 0, y: 1 },\n    { x: 0, y: 0.5 },\n    { x: 0.5, y: 0.5 }\n];\ndirectionData.forEach(item => item.type = 'percent');\nconst AroundHelper = {\n    directionData,\n    tempPoint: {},\n    get,\n    toPoint(around, bounds, to, onlySize, pointBounds) {\n        to || (to = {});\n        const point = get(around);\n        to.x = point.x;\n        to.y = point.y;\n        if (point.type === 'percent') {\n            to.x *= bounds.width;\n            to.y *= bounds.height;\n            if (pointBounds) {\n                to.x -= pointBounds.x;\n                to.y -= pointBounds.y;\n                if (point.x)\n                    to.x -= (point.x === 1) ? pointBounds.width : (point.x === 0.5 ? point.x * pointBounds.width : 0);\n                if (point.y)\n                    to.y -= (point.y === 1) ? pointBounds.height : (point.y === 0.5 ? point.y * pointBounds.height : 0);\n            }\n        }\n        if (!onlySize) {\n            to.x += bounds.x;\n            to.y += bounds.y;\n        }\n    }\n};\nfunction get(around) {\n    return typeof around === 'string' ? directionData[Direction9[around]] : around;\n}\n\nconst { toPoint: toPoint$1 } = AroundHelper;\nconst AlignHelper = {\n    toPoint(align, contentBounds, bounds, to, onlySize) {\n        toPoint$1(align, bounds, to, onlySize, contentBounds);\n    }\n};\n\nconst StringNumberMap = {\n    '0': 1,\n    '1': 1,\n    '2': 1,\n    '3': 1,\n    '4': 1,\n    '5': 1,\n    '6': 1,\n    '7': 1,\n    '8': 1,\n    '9': 1,\n    '.': 1,\n    'e': 1,\n    'E': 1\n};\n\nclass Debug {\n    constructor(name) {\n        this.repeatMap = {};\n        this.name = name;\n    }\n    static get(name) {\n        return new Debug(name);\n    }\n    static set filter(name) {\n        this.filterList = getNameList(name);\n    }\n    static set exclude(name) {\n        this.excludeList = getNameList(name);\n    }\n    log(...messages) {\n        if (D$4.enable) {\n            if (D$4.filterList.length && D$4.filterList.every(name => name !== this.name))\n                return;\n            if (D$4.excludeList.length && D$4.excludeList.some(name => name === this.name))\n                return;\n            console.log('%c' + this.name, 'color:#21ae62', ...messages);\n        }\n    }\n    tip(...messages) {\n        if (D$4.enable)\n            this.warn(...messages);\n    }\n    warn(...messages) {\n        if (D$4.showWarn)\n            console.warn(this.name, ...messages);\n    }\n    repeat(name, ...messages) {\n        if (!this.repeatMap[name]) {\n            this.warn('repeat:' + name, ...messages);\n            this.repeatMap[name] = true;\n        }\n    }\n    error(...messages) {\n        try {\n            throw new Error();\n        }\n        catch (e) {\n            console.error(this.name, ...messages, e);\n        }\n    }\n}\nDebug.filterList = [];\nDebug.excludeList = [];\nDebug.showWarn = true;\nfunction getNameList(name) {\n    if (!name)\n        name = [];\n    else if (typeof name === 'string')\n        name = [name];\n    return name;\n}\nconst D$4 = Debug;\n\nconst debug$8 = Debug.get('RunTime');\nconst Run = {\n    currentId: 0,\n    currentName: '',\n    idMap: {},\n    nameMap: {},\n    nameToIdMap: {},\n    start(name, microsecond) {\n        const id = IncrementId.create(IncrementId.RUNTIME);\n        R.currentId = R.idMap[id] = microsecond ? performance.now() : Date.now();\n        R.currentName = R.nameMap[id] = name;\n        R.nameToIdMap[name] = id;\n        return id;\n    },\n    end(id, microsecond) {\n        const time = R.idMap[id], name = R.nameMap[id];\n        const duration = microsecond ? (performance.now() - time) / 1000 : Date.now() - time;\n        R.idMap[id] = R.nameMap[id] = R.nameToIdMap[name] = undefined;\n        debug$8.log(name, duration, 'ms');\n    },\n    endOfName(name, microsecond) {\n        const id = R.nameToIdMap[name];\n        if (id !== undefined)\n            R.end(id, microsecond);\n    }\n};\nconst R = Run;\n\nconst debug$7 = Debug.get('UICreator');\nconst UICreator = {\n    list: {},\n    register(UI) {\n        const { __tag: tag } = UI.prototype;\n        if (list$1[tag]) {\n            debug$7.repeat(tag);\n        }\n        else {\n            list$1[tag] = UI;\n        }\n    },\n    get(tag, data, x, y, width, height) {\n        const ui = new list$1[tag](data);\n        if (x !== undefined) {\n            ui.x = x;\n            if (y)\n                ui.y = y;\n            if (width)\n                ui.width = width;\n            if (height)\n                ui.height = height;\n        }\n        return ui;\n    }\n};\nconst { list: list$1 } = UICreator;\n\nconst debug$6 = Debug.get('EventCreator');\nconst EventCreator = {\n    nameList: {},\n    register(Event) {\n        let name;\n        Object.keys(Event).forEach(key => {\n            name = Event[key];\n            if (typeof name === 'string')\n                nameList[name] ? debug$6.repeat(name) : nameList[name] = Event;\n        });\n    },\n    changeName(oldName, newName) {\n        const Event = nameList[oldName];\n        if (Event) {\n            const constName = Object.keys(Event).find(key => Event[key] === oldName);\n            if (constName) {\n                Event[constName] = newName;\n                nameList[newName] = Event;\n            }\n        }\n    },\n    has(type) {\n        return !!this.nameList[type];\n    },\n    get(type, ...params) {\n        return new nameList[type](...params);\n    }\n};\nconst { nameList } = EventCreator;\n\nclass CanvasManager {\n    constructor() {\n        this.list = [];\n    }\n    add(canvas) {\n        canvas.manager = this;\n        this.list.push(canvas);\n    }\n    get(size) {\n        let old;\n        const { list } = this;\n        for (let i = 0, len = list.length; i < len; i++) {\n            old = list[i];\n            if (old.recycled && old.isSameSize(size)) {\n                old.recycled = false;\n                old.manager || (old.manager = this);\n                return old;\n            }\n        }\n        const canvas = Creator.canvas(size);\n        this.add(canvas);\n        return canvas;\n    }\n    recycle(old) {\n        old.recycled = true;\n    }\n    clearRecycled() {\n        let canvas;\n        const filter = [];\n        for (let i = 0, len = this.list.length; i < len; i++) {\n            canvas = this.list[i];\n            canvas.recycled ? canvas.destroy() : filter.push(canvas);\n        }\n        this.list = filter;\n    }\n    clear() {\n        this.list.forEach(item => { item.destroy(); });\n        this.list.length = 0;\n    }\n    destroy() {\n        this.clear();\n    }\n}\n\nconst DataHelper = {\n    default(t, defaultData) {\n        assign(defaultData, t);\n        assign(t, defaultData);\n        return t;\n    },\n    assign(t, merge) {\n        let value;\n        Object.keys(merge).forEach(key => {\n            var _a;\n            value = merge[key];\n            if ((value === null || value === void 0 ? void 0 : value.constructor) === Object) {\n                (((_a = t[key]) === null || _a === void 0 ? void 0 : _a.constructor) === Object) ? assign(t[key], merge[key]) : t[key] = merge[key];\n            }\n            else {\n                t[key] = merge[key];\n            }\n        });\n    },\n    copyAttrs(t, from, include) {\n        include.forEach(key => {\n            if (from[key] !== undefined)\n                t[key] = from[key];\n        });\n        return t;\n    },\n    clone(data) {\n        return JSON.parse(JSON.stringify(data));\n    },\n    toMap(list) {\n        const map = {};\n        for (let i = 0, len = list.length; i < len; i++)\n            map[list[i]] = true;\n        return map;\n    }\n};\nconst { assign } = DataHelper;\n\nclass LeafData {\n    get __useNaturalRatio() { return true; }\n    get __isLinePath() { return this.path && this.path.length === 6; }\n    get __blendMode() {\n        if (this.eraser && this.eraser !== 'path')\n            return 'destination-out';\n        const { blendMode } = this;\n        return blendMode === 'pass-through' ? null : blendMode;\n    }\n    constructor(leaf) {\n        this.__leaf = leaf;\n    }\n    __get(name) {\n        if (this.__input) {\n            const value = this.__input[name];\n            if (value !== undefined)\n                return value;\n        }\n        return this[name];\n    }\n    __getData() {\n        const data = { tag: this.__leaf.tag }, { __input } = this;\n        let inputValue;\n        for (let key in this) {\n            if (key[0] !== '_') {\n                inputValue = __input ? __input[key] : undefined;\n                data[key] = (inputValue === undefined) ? this[key] : inputValue;\n            }\n        }\n        return data;\n    }\n    __setInput(name, value) {\n        this.__input || (this.__input = {});\n        this.__input[name] = value;\n    }\n    __getInput(name) {\n        if (this.__input) {\n            const value = this.__input[name];\n            if (value !== undefined)\n                return value;\n        }\n        if (name === 'path' && !this.__pathInputed)\n            return;\n        return this['_' + name];\n    }\n    __removeInput(name) {\n        if (this.__input && this.__input[name] !== undefined)\n            this.__input[name] = undefined;\n    }\n    __getInputData(names, options) {\n        const data = {};\n        if (names) {\n            if (names instanceof Array) {\n                for (let name of names)\n                    data[name] = this.__getInput(name);\n            }\n            else {\n                for (let name in names)\n                    data[name] = this.__getInput(name);\n            }\n        }\n        else {\n            let value, inputValue, { __input } = this;\n            data.tag = this.__leaf.tag;\n            for (let key in this) {\n                if (key[0] !== '_') {\n                    value = this['_' + key];\n                    if (value !== undefined) {\n                        if (key === 'path' && !this.__pathInputed)\n                            continue;\n                        inputValue = __input ? __input[key] : undefined;\n                        data[key] = (inputValue === undefined) ? value : inputValue;\n                    }\n                }\n            }\n        }\n        if (options) {\n            if (options.matrix) {\n                const { a, b, c, d, e, f } = this.__leaf.__localMatrix;\n                data.matrix = { a, b, c, d, e, f };\n            }\n        }\n        return data;\n    }\n    __setMiddle(name, value) {\n        this.__middle || (this.__middle = {});\n        this.__middle[name] = value;\n    }\n    __getMiddle(name) {\n        return this.__middle && this.__middle[name];\n    }\n    __checkSingle() {\n        const t = this;\n        if (t.blendMode === 'pass-through') {\n            const leaf = this.__leaf;\n            if ((t.opacity < 1 && leaf.isBranch) || leaf.__hasEraser || t.eraser) {\n                t.__single = true;\n            }\n            else if (t.__single) {\n                t.__single = false;\n            }\n        }\n        else {\n            t.__single = true;\n        }\n    }\n    __removeNaturalSize() {\n        this.__naturalWidth = this.__naturalHeight = undefined;\n    }\n    destroy() {\n        this.__input = this.__middle = null;\n    }\n}\n\nvar Answer;\n(function (Answer) {\n    Answer[Answer[\"No\"] = 0] = \"No\";\n    Answer[Answer[\"Yes\"] = 1] = \"Yes\";\n    Answer[Answer[\"NoAndSkip\"] = 2] = \"NoAndSkip\";\n    Answer[Answer[\"YesAndSkip\"] = 3] = \"YesAndSkip\";\n})(Answer || (Answer = {}));\nconst emptyData = {};\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction contextAttr(realName) {\n    return (target, key) => {\n        if (!realName)\n            realName = key;\n        Object.defineProperty(target, key, {\n            get() { return this.context[realName]; },\n            set(value) { this.context[realName] = value; }\n        });\n    };\n}\nconst contextMethodNameList = [];\nfunction contextMethod() {\n    return (_target, key) => {\n        contextMethodNameList.push(key);\n    };\n}\nconst emptyArray = [];\nclass Canvas {\n    set blendMode(value) {\n        if (value === 'normal')\n            value = 'source-over';\n        this.context.globalCompositeOperation = value;\n    }\n    get blendMode() {\n        return this.context.globalCompositeOperation;\n    }\n    set dashPattern(value) {\n        this.context.setLineDash(value || emptyArray);\n    }\n    get dashPattern() {\n        return this.context.getLineDash();\n    }\n    __bindContext() {\n        let method;\n        contextMethodNameList.forEach(name => {\n            method = this.context[name];\n            if (method)\n                this[name] = method.bind(this.context);\n        });\n        this.textBaseline = \"alphabetic\";\n    }\n    setTransform(_a, _b, _c, _d, _e, _f) { }\n    resetTransform() { }\n    getTransform() { return void 0; }\n    save() { }\n    restore() { }\n    transform(a, b, c, d, e, f) {\n        if (typeof a === 'object') {\n            this.context.transform(a.a, a.b, a.c, a.d, a.e, a.f);\n        }\n        else {\n            this.context.transform(a, b, c, d, e, f);\n        }\n    }\n    translate(_x, _y) { }\n    scale(_x, _y) { }\n    rotate(_angle) { }\n    fill(_path2d, _rule) { }\n    stroke(_path2d) { }\n    clip(_path2d, _rule) { }\n    fillRect(_x, _y, _width, _height) { }\n    strokeRect(_x, _y, _width, _height) { }\n    clearRect(_x, _y, _width, _height) { }\n    drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh) {\n        switch (arguments.length) {\n            case 9:\n                if (sx < 0) {\n                    const d = (-sx / sw) * dw;\n                    sw += sx;\n                    sx = 0;\n                    dx += d;\n                    dw -= d;\n                }\n                if (sy < 0) {\n                    const d = (-sy / sh) * dh;\n                    sh += sy;\n                    sy = 0;\n                    dy += d;\n                    dh -= d;\n                }\n                this.context.drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh);\n                break;\n            case 5:\n                this.context.drawImage(image, sx, sy, sw, sh);\n                break;\n            case 3:\n                this.context.drawImage(image, sx, sy);\n        }\n    }\n    beginPath() { }\n    moveTo(_x, _y) { }\n    lineTo(_x, _y) { }\n    bezierCurveTo(_cp1x, _cp1y, _cp2x, _cp2y, _x, _y) { }\n    quadraticCurveTo(_cpx, _cpy, _x, _y) { }\n    closePath() { }\n    arc(_x, _y, _radius, _startAngle, _endAngle, _anticlockwise) { }\n    arcTo(_x1, _y1, _x2, _y2, _radius) { }\n    ellipse(_x, _y, _radiusX, _radiusY, _rotation, _startAngle, _endAngle, _anticlockwise) { }\n    rect(_x, _y, _width, _height) { }\n    roundRect(_x, _y, _width, _height, _radius) { }\n    createConicGradient(_startAngle, _x, _y) { return void 0; }\n    createLinearGradient(_x0, _y0, _x1, _y1) { return void 0; }\n    createPattern(_image, _repetition) { return void 0; }\n    createRadialGradient(_x0, _y0, _r0, _x1, _y1, _r1) { return void 0; }\n    fillText(_text, _x, _y, _maxWidth) { }\n    measureText(_text) { return void 0; }\n    strokeText(_text, _x, _y, _maxWidth) { }\n    destroy() {\n        this.context = null;\n    }\n}\n__decorate([\n    contextAttr('imageSmoothingEnabled')\n], Canvas.prototype, \"smooth\", void 0);\n__decorate([\n    contextAttr('imageSmoothingQuality')\n], Canvas.prototype, \"smoothLevel\", void 0);\n__decorate([\n    contextAttr('globalAlpha')\n], Canvas.prototype, \"opacity\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"fillStyle\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"strokeStyle\", void 0);\n__decorate([\n    contextAttr('lineWidth')\n], Canvas.prototype, \"strokeWidth\", void 0);\n__decorate([\n    contextAttr('lineCap')\n], Canvas.prototype, \"strokeCap\", void 0);\n__decorate([\n    contextAttr('lineJoin')\n], Canvas.prototype, \"strokeJoin\", void 0);\n__decorate([\n    contextAttr('lineDashOffset')\n], Canvas.prototype, \"dashOffset\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"miterLimit\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"shadowBlur\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"shadowColor\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"shadowOffsetX\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"shadowOffsetY\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"filter\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"font\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"fontKerning\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"fontStretch\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"fontVariantCaps\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"textAlign\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"textBaseline\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"textRendering\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"wordSpacing\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"letterSpacing\", void 0);\n__decorate([\n    contextAttr()\n], Canvas.prototype, \"direction\", void 0);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"setTransform\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"resetTransform\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"getTransform\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"save\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"restore\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"translate\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"scale\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"rotate\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"fill\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"stroke\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"clip\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"fillRect\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"strokeRect\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"clearRect\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"beginPath\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"moveTo\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"lineTo\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"bezierCurveTo\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"quadraticCurveTo\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"closePath\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"arc\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"arcTo\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"ellipse\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"rect\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"roundRect\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"createConicGradient\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"createLinearGradient\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"createPattern\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"createRadialGradient\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"fillText\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"measureText\", null);\n__decorate([\n    contextMethod()\n], Canvas.prototype, \"strokeText\", null);\n\nconst { copy: copy$5 } = MatrixHelper;\nconst minSize = { width: 1, height: 1, pixelRatio: 1 };\nconst canvasSizeAttrs = ['width', 'height', 'pixelRatio'];\nclass LeaferCanvasBase extends Canvas {\n    get width() { return this.size.width; }\n    get height() { return this.size.height; }\n    get pixelRatio() { return this.size.pixelRatio; }\n    get pixelWidth() { return this.width * this.pixelRatio; }\n    get pixelHeight() { return this.height * this.pixelRatio; }\n    get allowBackgroundColor() { return this.view && this.parentView; }\n    constructor(config, manager) {\n        super();\n        this.size = {};\n        this.worldTransform = {};\n        if (!config)\n            config = minSize;\n        if (!config.pixelRatio)\n            config.pixelRatio = Platform.devicePixelRatio;\n        this.manager = manager;\n        this.innerId = IncrementId.create(IncrementId.CNAVAS);\n        const { width, height, pixelRatio } = config;\n        this.autoLayout = !width || !height;\n        this.size.pixelRatio = pixelRatio;\n        this.config = config;\n        this.init();\n    }\n    init() { }\n    __createContext() {\n        const { view } = this;\n        const { contextSettings } = this.config;\n        this.context = contextSettings ? view.getContext('2d', contextSettings) : view.getContext('2d');\n        this.__bindContext();\n    }\n    export(_filename, _options) { return undefined; }\n    toBlob(_type, _quality) { return undefined; }\n    toDataURL(_type, _quality) { return undefined; }\n    saveAs(_filename, _quality) { return undefined; }\n    resize(size) {\n        if (this.isSameSize(size))\n            return;\n        let takeCanvas;\n        if (this.context && !this.unreal && this.width) {\n            takeCanvas = this.getSameCanvas();\n            takeCanvas.copyWorld(this);\n        }\n        DataHelper.copyAttrs(this.size, size, canvasSizeAttrs);\n        this.size.pixelRatio || (this.size.pixelRatio = 1);\n        this.bounds = new Bounds(0, 0, this.width, this.height);\n        if (!this.unreal) {\n            this.updateViewSize();\n            this.smooth = this.config.smooth;\n        }\n        this.updateClientBounds();\n        if (this.context && !this.unreal && takeCanvas) {\n            this.clearWorld(takeCanvas.bounds);\n            this.copyWorld(takeCanvas);\n            takeCanvas.recycle();\n        }\n    }\n    updateViewSize() { }\n    updateClientBounds() { }\n    getClientBounds(update) {\n        if (update)\n            this.updateClientBounds();\n        return this.clientBounds || this.bounds;\n    }\n    startAutoLayout(_autoBounds, _listener) { }\n    stopAutoLayout() { }\n    setCursor(_cursor) { }\n    setWorld(matrix, parentMatrix) {\n        const { pixelRatio } = this;\n        const w = this.worldTransform;\n        if (parentMatrix) {\n            const { a, b, c, d, e, f } = parentMatrix;\n            this.setTransform(w.a = ((matrix.a * a) + (matrix.b * c)) * pixelRatio, w.b = ((matrix.a * b) + (matrix.b * d)) * pixelRatio, w.c = ((matrix.c * a) + (matrix.d * c)) * pixelRatio, w.d = ((matrix.c * b) + (matrix.d * d)) * pixelRatio, w.e = (((matrix.e * a) + (matrix.f * c) + e)) * pixelRatio, w.f = (((matrix.e * b) + (matrix.f * d) + f)) * pixelRatio);\n        }\n        else {\n            this.setTransform(w.a = matrix.a * pixelRatio, w.b = matrix.b * pixelRatio, w.c = matrix.c * pixelRatio, w.d = matrix.d * pixelRatio, w.e = matrix.e * pixelRatio, w.f = matrix.f * pixelRatio);\n        }\n    }\n    useWorldTransform(worldTransform) {\n        if (worldTransform)\n            this.worldTransform = worldTransform;\n        const w = this.worldTransform;\n        if (w)\n            this.setTransform(w.a, w.b, w.c, w.d, w.e, w.f);\n    }\n    setStroke(color, strokeWidth, options) {\n        if (strokeWidth)\n            this.strokeWidth = strokeWidth;\n        if (color)\n            this.strokeStyle = color;\n        if (options)\n            this.setStrokeOptions(options);\n    }\n    setStrokeOptions(options) {\n        this.strokeCap = options.strokeCap === 'none' ? 'butt' : options.strokeCap;\n        this.strokeJoin = options.strokeJoin;\n        this.dashPattern = options.dashPattern;\n        this.dashOffset = options.dashOffset;\n        this.miterLimit = options.miterLimit;\n    }\n    saveBlendMode(blendMode) {\n        this.savedBlendMode = this.blendMode;\n        this.blendMode = blendMode;\n    }\n    restoreBlendMode() {\n        this.blendMode = this.savedBlendMode;\n    }\n    hitFill(_point, _fillRule) { return true; }\n    hitStroke(_point, _strokeWidth) { return true; }\n    hitPixel(_radiusPoint, _offset, _scale = 1) { return true; }\n    setWorldShadow(x, y, blur, color) {\n        const { pixelRatio } = this;\n        this.shadowOffsetX = x * pixelRatio;\n        this.shadowOffsetY = y * pixelRatio;\n        this.shadowBlur = blur * pixelRatio;\n        this.shadowColor = color || 'black';\n    }\n    setWorldBlur(blur) {\n        const { pixelRatio } = this;\n        this.filter = `blur(${blur * pixelRatio}px)`;\n    }\n    copyWorld(canvas, from, to, blendMode) {\n        if (blendMode)\n            this.blendMode = blendMode;\n        if (from) {\n            const { pixelRatio } = this;\n            if (!to)\n                to = from;\n            this.drawImage(canvas.view, from.x * pixelRatio, from.y * pixelRatio, from.width * pixelRatio, from.height * pixelRatio, to.x * pixelRatio, to.y * pixelRatio, to.width * pixelRatio, to.height * pixelRatio);\n        }\n        else {\n            this.drawImage(canvas.view, 0, 0);\n        }\n        if (blendMode)\n            this.blendMode = 'source-over';\n    }\n    copyWorldToInner(canvas, fromWorld, toInnerBounds, blendMode) {\n        if (blendMode)\n            this.blendMode = blendMode;\n        if (fromWorld.b || fromWorld.c) {\n            this.save();\n            this.resetTransform();\n            this.copyWorld(canvas, fromWorld, BoundsHelper.tempToOuterOf(toInnerBounds, fromWorld));\n            this.restore();\n        }\n        else {\n            const { pixelRatio } = this;\n            this.drawImage(canvas.view, fromWorld.x * pixelRatio, fromWorld.y * pixelRatio, fromWorld.width * pixelRatio, fromWorld.height * pixelRatio, toInnerBounds.x, toInnerBounds.y, toInnerBounds.width, toInnerBounds.height);\n        }\n        if (blendMode)\n            this.blendMode = 'source-over';\n    }\n    copyWorldByReset(canvas, from, to, blendMode, onlyResetTransform) {\n        this.resetTransform();\n        this.copyWorld(canvas, from, to, blendMode);\n        if (!onlyResetTransform)\n            this.useWorldTransform();\n    }\n    useMask(maskCanvas, fromBounds, toBounds) {\n        this.copyWorld(maskCanvas, fromBounds, toBounds, 'destination-in');\n    }\n    useEraser(eraserCanvas, fromBounds, toBounds) {\n        this.copyWorld(eraserCanvas, fromBounds, toBounds, 'destination-out');\n    }\n    fillWorld(bounds, color, blendMode) {\n        if (blendMode)\n            this.blendMode = blendMode;\n        this.fillStyle = color;\n        tempBounds.set(bounds).scale(this.pixelRatio);\n        this.fillRect(tempBounds.x, tempBounds.y, tempBounds.width, tempBounds.height);\n        if (blendMode)\n            this.blendMode = 'source-over';\n    }\n    strokeWorld(bounds, color, blendMode) {\n        if (blendMode)\n            this.blendMode = blendMode;\n        this.strokeStyle = color;\n        tempBounds.set(bounds).scale(this.pixelRatio);\n        this.strokeRect(tempBounds.x, tempBounds.y, tempBounds.width, tempBounds.height);\n        if (blendMode)\n            this.blendMode = 'source-over';\n    }\n    clearWorld(bounds, ceilPixel) {\n        tempBounds.set(bounds).scale(this.pixelRatio);\n        if (ceilPixel)\n            tempBounds.ceil();\n        this.clearRect(tempBounds.x, tempBounds.y, tempBounds.width, tempBounds.height);\n    }\n    clipWorld(bounds, ceilPixel) {\n        this.beginPath();\n        tempBounds.set(bounds).scale(this.pixelRatio);\n        if (ceilPixel)\n            tempBounds.ceil();\n        this.rect(tempBounds.x, tempBounds.y, tempBounds.width, tempBounds.height);\n        this.clip();\n    }\n    clear() {\n        const { pixelRatio } = this;\n        this.clearRect(0, 0, this.width * pixelRatio + 2, this.height * pixelRatio + 2);\n    }\n    isSameSize(size) {\n        return this.width === size.width && this.height === size.height && this.pixelRatio === size.pixelRatio;\n    }\n    getSameCanvas(useSameWorldTransform, useSameSmooth) {\n        const canvas = this.manager ? this.manager.get(this.size) : Creator.canvas(Object.assign({}, this.size));\n        canvas.save();\n        if (useSameWorldTransform)\n            copy$5(canvas.worldTransform, this.worldTransform), canvas.useWorldTransform();\n        if (useSameSmooth)\n            canvas.smooth = this.smooth;\n        return canvas;\n    }\n    recycle(clearBounds) {\n        if (!this.recycled) {\n            this.restore();\n            clearBounds ? this.clearWorld(clearBounds, true) : this.clear();\n            this.manager ? this.manager.recycle(this) : this.destroy();\n        }\n    }\n    updateRender() { }\n    unrealCanvas() { }\n    destroy() {\n        this.manager = this.view = this.parentView = null;\n    }\n}\n\nconst PathHelper = {\n    creator: {},\n    parse(_pathString, _curveMode) { return undefined; },\n    convertToCanvasData(_old, _curveMode) { return undefined; }\n};\n\nconst CanvasCommandOnlyMap = {\n    N: 21,\n    D: 22,\n    X: 23,\n    G: 24,\n    F: 25,\n    O: 26,\n    P: 27,\n    U: 28\n};\nconst PathCommandMap = Object.assign({ M: 1, m: 10, L: 2, l: 20, H: 3, h: 30, V: 4, v: 40, C: 5, c: 50, S: 6, s: 60, Q: 7, q: 70, T: 8, t: 80, A: 9, a: 90, Z: 11, z: 11, R: 12 }, CanvasCommandOnlyMap);\nconst PathCommandLengthMap = {\n    M: 3,\n    m: 3,\n    L: 3,\n    l: 3,\n    H: 2,\n    h: 2,\n    V: 2,\n    v: 2,\n    C: 7,\n    c: 7,\n    S: 5,\n    s: 5,\n    Q: 5,\n    q: 5,\n    T: 3,\n    t: 3,\n    A: 8,\n    a: 8,\n    Z: 1,\n    z: 1,\n    N: 5,\n    D: 9,\n    X: 6,\n    G: 9,\n    F: 5,\n    O: 7,\n    P: 4,\n    U: 6\n};\nconst NeedConvertToCanvasCommandMap = {\n    m: 10,\n    l: 20,\n    H: 3,\n    h: 30,\n    V: 4,\n    v: 40,\n    c: 50,\n    S: 6,\n    s: 60,\n    q: 70,\n    T: 8,\n    t: 80,\n    A: 9,\n    a: 90,\n};\nconst NeedConvertToCurveCommandMap = Object.assign(Object.assign({}, NeedConvertToCanvasCommandMap), CanvasCommandOnlyMap);\nconst P$4 = PathCommandMap;\nconst PathNumberCommandMap = {};\nfor (let key in P$4) {\n    PathNumberCommandMap[P$4[key]] = key;\n}\nconst PathNumberCommandLengthMap = {};\nfor (let key in P$4) {\n    PathNumberCommandLengthMap[P$4[key]] = PathCommandLengthMap[key];\n}\n\nconst RectHelper = {\n    drawRoundRect(drawer, x, y, width, height, cornerRadius) {\n        const data = MathHelper.fourNumber(cornerRadius, Math.min(width / 2, height / 2));\n        const right = x + width;\n        const bottom = y + height;\n        data[0] ? drawer.moveTo(x + data[0], y) : drawer.moveTo(x, y);\n        data[1] ? drawer.arcTo(right, y, right, bottom, data[1]) : drawer.lineTo(right, y);\n        data[2] ? drawer.arcTo(right, bottom, x, bottom, data[2]) : drawer.lineTo(right, bottom);\n        data[3] ? drawer.arcTo(x, bottom, x, y, data[3]) : drawer.lineTo(x, bottom);\n        data[0] ? drawer.arcTo(x, y, right, y, data[0]) : drawer.lineTo(x, y);\n    }\n};\n\nconst { sin: sin$1, cos: cos$1, atan2: atan2$1, ceil, abs: abs$1, PI, sqrt: sqrt$1, pow } = Math;\nconst { setPoint: setPoint$1, addPoint: addPoint$1 } = TwoPointBoundsHelper;\nconst { set } = PointHelper;\nconst { M: M$5, L: L$6, C: C$5, Q: Q$4, Z: Z$5 } = PathCommandMap;\nconst tempPoint$1 = {};\nconst BezierHelper = {\n    points(data, points, curve, close) {\n        data.push(M$5, points[0], points[1]);\n        if (curve && points.length > 5) {\n            let aX, aY, bX, bY, cX, cY, c1X, c1Y, c2X, c2Y;\n            let ba, cb, d, len = points.length;\n            const t = curve === true ? 0.5 : curve;\n            if (close) {\n                points = [points[len - 2], points[len - 1], ...points, points[0], points[1], points[2], points[3]];\n                len = points.length;\n            }\n            for (let i = 2; i < len - 2; i += 2) {\n                aX = points[i - 2];\n                aY = points[i - 1];\n                bX = points[i];\n                bY = points[i + 1];\n                cX = points[i + 2];\n                cY = points[i + 3];\n                ba = sqrt$1(pow(bX - aX, 2) + pow(bY - aY, 2));\n                cb = sqrt$1(pow(cX - bX, 2) + pow(cY - bY, 2));\n                d = ba + cb;\n                ba = (t * ba) / d;\n                cb = (t * cb) / d;\n                cX -= aX;\n                cY -= aY;\n                c1X = bX - ba * cX;\n                c1Y = bY - ba * cY;\n                if (i === 2) {\n                    if (!close)\n                        data.push(Q$4, c1X, c1Y, bX, bY);\n                }\n                else {\n                    data.push(C$5, c2X, c2Y, c1X, c1Y, bX, bY);\n                }\n                c2X = bX + cb * cX;\n                c2Y = bY + cb * cY;\n            }\n            if (!close)\n                data.push(Q$4, c2X, c2Y, points[len - 2], points[len - 1]);\n        }\n        else {\n            for (let i = 2, len = points.length; i < len; i += 2) {\n                data.push(L$6, points[i], points[i + 1]);\n            }\n        }\n        if (close)\n            data.push(Z$5);\n    },\n    rect(data, x, y, width, height) {\n        PathHelper.creator.path = data;\n        PathHelper.creator.moveTo(x, y).lineTo(x + width, y).lineTo(x + width, y + height).lineTo(x, y + height).lineTo(x, y);\n    },\n    roundRect(data, x, y, width, height, radius) {\n        PathHelper.creator.path = [];\n        RectHelper.drawRoundRect(PathHelper.creator, x, y, width, height, radius);\n        data.push(...PathHelper.convertToCanvasData(PathHelper.creator.path, true));\n    },\n    arcTo(data, fromX, fromY, x1, y1, toX, toY, radius, setPointBounds, setEndPoint, setStartPoint) {\n        const BAx = x1 - fromX;\n        const BAy = y1 - fromY;\n        const CBx = toX - x1;\n        const CBy = toY - y1;\n        let startRadian = atan2$1(BAy, BAx);\n        let endRadian = atan2$1(CBy, CBx);\n        let totalRadian = endRadian - startRadian;\n        if (totalRadian < 0)\n            totalRadian += PI2;\n        if (totalRadian === PI || (abs$1(BAx + BAy) < 1.e-12) || (abs$1(CBx + CBy) < 1.e-12)) {\n            if (data)\n                data.push(L$6, x1, y1);\n            if (setPointBounds) {\n                setPoint$1(setPointBounds, fromX, fromY);\n                addPoint$1(setPointBounds, x1, y1);\n            }\n            if (setStartPoint)\n                set(setStartPoint, fromX, fromY);\n            if (setEndPoint)\n                set(setEndPoint, x1, y1);\n            return;\n        }\n        const anticlockwise = BAx * CBy - CBx * BAy < 0;\n        const sign = anticlockwise ? -1 : 1;\n        const c = radius / cos$1(totalRadian / 2);\n        const centerX = x1 + c * cos$1(startRadian + totalRadian / 2 + PI_2 * sign);\n        const centerY = y1 + c * sin$1(startRadian + totalRadian / 2 + PI_2 * sign);\n        startRadian -= PI_2 * sign;\n        endRadian -= PI_2 * sign;\n        return ellipse$5(data, centerX, centerY, radius, radius, 0, startRadian / OneRadian, endRadian / OneRadian, anticlockwise, setPointBounds, setEndPoint, setStartPoint);\n    },\n    arc(data, x, y, radius, startAngle, endAngle, anticlockwise, setPointBounds, setEndPoint, setStartPoint) {\n        return ellipse$5(data, x, y, radius, radius, 0, startAngle, endAngle, anticlockwise, setPointBounds, setEndPoint, setStartPoint);\n    },\n    ellipse(data, cx, cy, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise, setPointBounds, setEndPoint, setStartPoint) {\n        const rotationRadian = rotation * OneRadian;\n        const rotationSin = sin$1(rotationRadian);\n        const rotationCos = cos$1(rotationRadian);\n        let startRadian = startAngle * OneRadian;\n        let endRadian = endAngle * OneRadian;\n        if (startRadian > PI)\n            startRadian -= PI2;\n        if (endRadian < 0)\n            endRadian += PI2;\n        let totalRadian = endRadian - startRadian;\n        if (totalRadian < 0)\n            totalRadian += PI2;\n        else if (totalRadian > PI2)\n            totalRadian -= PI2;\n        if (anticlockwise)\n            totalRadian -= PI2;\n        const parts = ceil(abs$1(totalRadian / PI_2));\n        const partRadian = totalRadian / parts;\n        const partRadian4Sin = sin$1(partRadian / 4);\n        const control = 8 / 3 * partRadian4Sin * partRadian4Sin / sin$1(partRadian / 2);\n        endRadian = startRadian + partRadian;\n        let startCos = cos$1(startRadian);\n        let startSin = sin$1(startRadian);\n        let endCos, endSin;\n        let x, y, x1, y1, x2, y2;\n        let startX = x = rotationCos * radiusX * startCos - rotationSin * radiusY * startSin;\n        let startY = y = rotationSin * radiusX * startCos + rotationCos * radiusY * startSin;\n        let fromX = cx + x, fromY = cy + y;\n        if (data)\n            data.push(L$6, fromX, fromY);\n        if (setPointBounds)\n            setPoint$1(setPointBounds, fromX, fromY);\n        if (setStartPoint)\n            set(setStartPoint, fromX, fromY);\n        for (let i = 0; i < parts; i++) {\n            endCos = cos$1(endRadian);\n            endSin = sin$1(endRadian);\n            x = rotationCos * radiusX * endCos - rotationSin * radiusY * endSin;\n            y = rotationSin * radiusX * endCos + rotationCos * radiusY * endSin;\n            x1 = cx + startX - control * (rotationCos * radiusX * startSin + rotationSin * radiusY * startCos);\n            y1 = cy + startY - control * (rotationSin * radiusX * startSin - rotationCos * radiusY * startCos);\n            x2 = cx + x + control * (rotationCos * radiusX * endSin + rotationSin * radiusY * endCos);\n            y2 = cy + y + control * (rotationSin * radiusX * endSin - rotationCos * radiusY * endCos);\n            if (data)\n                data.push(C$5, x1, y1, x2, y2, cx + x, cy + y);\n            if (setPointBounds)\n                toTwoPointBounds$1(cx + startX, cy + startY, x1, y1, x2, y2, cx + x, cy + y, setPointBounds, true);\n            startX = x;\n            startY = y;\n            startCos = endCos;\n            startSin = endSin;\n            startRadian = endRadian;\n            endRadian += partRadian;\n        }\n        if (setEndPoint)\n            set(setEndPoint, cx + x, cy + y);\n    },\n    quadraticCurveTo(data, fromX, fromY, x1, y1, toX, toY) {\n        data.push(C$5, (fromX + 2 * x1) / 3, (fromY + 2 * y1) / 3, (toX + 2 * x1) / 3, (toY + 2 * y1) / 3, toX, toY);\n    },\n    toTwoPointBoundsByQuadraticCurve(fromX, fromY, x1, y1, toX, toY, pointBounds, addMode) {\n        toTwoPointBounds$1(fromX, fromY, (fromX + 2 * x1) / 3, (fromY + 2 * y1) / 3, (toX + 2 * x1) / 3, (toY + 2 * y1) / 3, toX, toY, pointBounds, addMode);\n    },\n    toTwoPointBounds(fromX, fromY, x1, y1, x2, y2, toX, toY, pointBounds, addMode) {\n        const tList = [];\n        let a, b, c, t, t1, t2, v, sqrtV;\n        let f = fromX, z1 = x1, z2 = x2, o = toX;\n        for (let i = 0; i < 2; ++i) {\n            if (i == 1) {\n                f = fromY, z1 = y1, z2 = y2, o = toY;\n            }\n            a = -3 * f + 9 * z1 - 9 * z2 + 3 * o;\n            b = 6 * f - 12 * z1 + 6 * z2;\n            c = 3 * z1 - 3 * f;\n            if (Math.abs(a) < 1e-12) {\n                if (Math.abs(b) < 1e-12)\n                    continue;\n                t = -c / b;\n                if (0 < t && t < 1)\n                    tList.push(t);\n                continue;\n            }\n            v = b * b - 4 * c * a;\n            sqrtV = Math.sqrt(v);\n            if (v < 0)\n                continue;\n            t1 = (-b + sqrtV) / (2 * a);\n            if (0 < t1 && t1 < 1)\n                tList.push(t1);\n            t2 = (-b - sqrtV) / (2 * a);\n            if (0 < t2 && t2 < 1)\n                tList.push(t2);\n        }\n        addMode ? addPoint$1(pointBounds, fromX, fromY) : setPoint$1(pointBounds, fromX, fromY);\n        addPoint$1(pointBounds, toX, toY);\n        for (let i = 0, len = tList.length; i < len; i++) {\n            getPointAndSet(tList[i], fromX, fromY, x1, y1, x2, y2, toX, toY, tempPoint$1);\n            addPoint$1(pointBounds, tempPoint$1.x, tempPoint$1.y);\n        }\n    },\n    getPointAndSet(t, fromX, fromY, x1, y1, x2, y2, toX, toY, setPoint) {\n        const o = 1 - t, a = o * o * o, b = 3 * o * o * t, c = 3 * o * t * t, d = t * t * t;\n        setPoint.x = a * fromX + b * x1 + c * x2 + d * toX;\n        setPoint.y = a * fromY + b * y1 + c * y2 + d * toY;\n    },\n    getPoint(t, fromX, fromY, x1, y1, x2, y2, toX, toY) {\n        const point = {};\n        getPointAndSet(t, fromX, fromY, x1, y1, x2, y2, toX, toY, point);\n        return point;\n    }\n};\nconst { getPointAndSet, toTwoPointBounds: toTwoPointBounds$1, ellipse: ellipse$5 } = BezierHelper;\n\nconst { sin, cos, sqrt, atan2 } = Math;\nconst { ellipse: ellipse$4 } = BezierHelper;\nconst EllipseHelper = {\n    ellipticalArc(data, fromX, fromY, radiusX, radiusY, rotation, largeFlag, sweepFlag, toX, toY, curveMode) {\n        const halfX = (toX - fromX) / 2;\n        const halfY = (toY - fromY) / 2;\n        const rotationRadian = rotation * OneRadian;\n        const rotationSin = sin(rotationRadian);\n        const rotationCos = cos(rotationRadian);\n        const px = -rotationCos * halfX - rotationSin * halfY;\n        const py = -rotationCos * halfY + rotationSin * halfX;\n        const rxSquare = radiusX * radiusX;\n        const rySquare = radiusY * radiusY;\n        const pySquare = py * py;\n        const pxSquare = px * px;\n        const a = rxSquare * rySquare - rxSquare * pySquare - rySquare * pxSquare;\n        let s = 0;\n        if (a < 0) {\n            const t = sqrt(1 - a / (rxSquare * rySquare));\n            radiusX *= t;\n            radiusY *= t;\n        }\n        else {\n            s = (largeFlag === sweepFlag ? -1 : 1) * sqrt(a / (rxSquare * pySquare + rySquare * pxSquare));\n        }\n        const cx = s * radiusX * py / radiusY;\n        const cy = -s * radiusY * px / radiusX;\n        const startRadian = atan2((py - cy) / radiusY, (px - cx) / radiusX);\n        const endRadian = atan2((-py - cy) / radiusY, (-px - cx) / radiusX);\n        let totalRadian = endRadian - startRadian;\n        if (sweepFlag === 0 && totalRadian > 0) {\n            totalRadian -= PI2;\n        }\n        else if (sweepFlag === 1 && totalRadian < 0) {\n            totalRadian += PI2;\n        }\n        const centerX = fromX + halfX + rotationCos * cx - rotationSin * cy;\n        const centerY = fromY + halfY + rotationSin * cx + rotationCos * cy;\n        const anticlockwise = totalRadian < 0 ? 1 : 0;\n        if (curveMode || Platform.ellipseToCurve) {\n            ellipse$4(data, centerX, centerY, radiusX, radiusY, rotation, startRadian / OneRadian, endRadian / OneRadian, anticlockwise);\n        }\n        else {\n            if (radiusX === radiusY && !rotation) {\n                data.push(PathCommandMap.O, centerX, centerY, radiusX, startRadian / OneRadian, endRadian / OneRadian, anticlockwise);\n            }\n            else {\n                data.push(PathCommandMap.G, centerX, centerY, radiusX, radiusY, rotation, startRadian / OneRadian, endRadian / OneRadian, anticlockwise);\n            }\n        }\n    }\n};\n\nconst { M: M$4, m, L: L$5, l, H, h, V, v, C: C$4, c, S, s, Q: Q$3, q, T, t, A, a, Z: Z$4, z, N: N$3, D: D$3, X: X$3, G: G$3, F: F$4, O: O$3, P: P$3, U: U$3 } = PathCommandMap;\nconst { rect: rect$1, roundRect: roundRect$2, arcTo: arcTo$3, arc: arc$3, ellipse: ellipse$3, quadraticCurveTo: quadraticCurveTo$1 } = BezierHelper;\nconst { ellipticalArc } = EllipseHelper;\nconst debug$5 = Debug.get('PathConvert');\nconst setEndPoint$1 = {};\nconst PathConvert = {\n    current: { dot: 0 },\n    stringify(data, floatLength) {\n        let i = 0, len = data.length, count, str = '', command, lastCommand;\n        while (i < len) {\n            command = data[i];\n            count = PathNumberCommandLengthMap[command];\n            if (command === lastCommand) {\n                str += ' ';\n            }\n            else {\n                str += PathNumberCommandMap[command];\n            }\n            for (let j = 1; j < count; j++) {\n                str += MathHelper.float(data[i + j], floatLength);\n                (j === count - 1) || (str += ' ');\n            }\n            lastCommand = command;\n            i += count;\n        }\n        return str;\n    },\n    parse(pathString, curveMode) {\n        let needConvert, char, lastChar, num = '';\n        const data = [];\n        const convertCommand = curveMode ? NeedConvertToCurveCommandMap : NeedConvertToCanvasCommandMap;\n        for (let i = 0, len = pathString.length; i < len; i++) {\n            char = pathString[i];\n            if (StringNumberMap[char]) {\n                if (char === '.') {\n                    if (current.dot) {\n                        pushData(data, num);\n                        num = '';\n                    }\n                    current.dot++;\n                }\n                if (num === '0' && char !== '.') {\n                    pushData(data, num);\n                    num = '';\n                }\n                num += char;\n            }\n            else if (PathCommandMap[char]) {\n                if (num) {\n                    pushData(data, num);\n                    num = '';\n                }\n                current.name = PathCommandMap[char];\n                current.length = PathCommandLengthMap[char];\n                current.index = 0;\n                pushData(data, current.name);\n                if (!needConvert && convertCommand[char])\n                    needConvert = true;\n            }\n            else {\n                if (char === '-' || char === '+') {\n                    if (lastChar === 'e' || lastChar === 'E') {\n                        num += char;\n                    }\n                    else {\n                        if (num)\n                            pushData(data, num);\n                        num = char;\n                    }\n                }\n                else {\n                    if (num) {\n                        pushData(data, num);\n                        num = '';\n                    }\n                }\n            }\n            lastChar = char;\n        }\n        if (num)\n            pushData(data, num);\n        return needConvert ? PathConvert.toCanvasData(data, curveMode) : data;\n    },\n    toCanvasData(old, curveMode) {\n        let x = 0, y = 0, x1 = 0, y1 = 0, i = 0, len = old.length, controlX, controlY, command, lastCommand, smooth;\n        const data = [];\n        while (i < len) {\n            command = old[i];\n            switch (command) {\n                case m:\n                    old[i + 1] += x;\n                    old[i + 2] += y;\n                case M$4:\n                    x = old[i + 1];\n                    y = old[i + 2];\n                    data.push(M$4, x, y);\n                    i += 3;\n                    break;\n                case h:\n                    old[i + 1] += x;\n                case H:\n                    x = old[i + 1];\n                    data.push(L$5, x, y);\n                    i += 2;\n                    break;\n                case v:\n                    old[i + 1] += y;\n                case V:\n                    y = old[i + 1];\n                    data.push(L$5, x, y);\n                    i += 2;\n                    break;\n                case l:\n                    old[i + 1] += x;\n                    old[i + 2] += y;\n                case L$5:\n                    x = old[i + 1];\n                    y = old[i + 2];\n                    data.push(L$5, x, y);\n                    i += 3;\n                    break;\n                case s:\n                    old[i + 1] += x;\n                    old[i + 2] += y;\n                    old[i + 3] += x;\n                    old[i + 4] += y;\n                    command = S;\n                case S:\n                    smooth = (lastCommand === C$4) || (lastCommand === S);\n                    x1 = smooth ? (x * 2 - controlX) : old[i + 1];\n                    y1 = smooth ? (y * 2 - controlY) : old[i + 2];\n                    controlX = old[i + 1];\n                    controlY = old[i + 2];\n                    x = old[i + 3];\n                    y = old[i + 4];\n                    data.push(C$4, x1, y1, controlX, controlY, x, y);\n                    i += 5;\n                    break;\n                case c:\n                    old[i + 1] += x;\n                    old[i + 2] += y;\n                    old[i + 3] += x;\n                    old[i + 4] += y;\n                    old[i + 5] += x;\n                    old[i + 6] += y;\n                    command = C$4;\n                case C$4:\n                    controlX = old[i + 3];\n                    controlY = old[i + 4];\n                    x = old[i + 5];\n                    y = old[i + 6];\n                    data.push(C$4, old[i + 1], old[i + 2], controlX, controlY, x, y);\n                    i += 7;\n                    break;\n                case t:\n                    old[i + 1] += x;\n                    old[i + 2] += y;\n                    command = T;\n                case T:\n                    smooth = (lastCommand === Q$3) || (lastCommand === T);\n                    controlX = smooth ? (x * 2 - controlX) : old[i + 1];\n                    controlY = smooth ? (y * 2 - controlY) : old[i + 2];\n                    curveMode ? quadraticCurveTo$1(data, x, y, controlX, controlY, old[i + 1], old[i + 2]) : data.push(Q$3, controlX, controlY, old[i + 1], old[i + 2]);\n                    x = old[i + 1];\n                    y = old[i + 2];\n                    i += 3;\n                    break;\n                case q:\n                    old[i + 1] += x;\n                    old[i + 2] += y;\n                    old[i + 3] += x;\n                    old[i + 4] += y;\n                    command = Q$3;\n                case Q$3:\n                    controlX = old[i + 1];\n                    controlY = old[i + 2];\n                    curveMode ? quadraticCurveTo$1(data, x, y, controlX, controlY, old[i + 3], old[i + 4]) : data.push(Q$3, controlX, controlY, old[i + 3], old[i + 4]);\n                    x = old[i + 3];\n                    y = old[i + 4];\n                    i += 5;\n                    break;\n                case a:\n                    old[i + 6] += x;\n                    old[i + 7] += y;\n                case A:\n                    ellipticalArc(data, x, y, old[i + 1], old[i + 2], old[i + 3], old[i + 4], old[i + 5], old[i + 6], old[i + 7], curveMode);\n                    x = old[i + 6];\n                    y = old[i + 7];\n                    i += 8;\n                    break;\n                case z:\n                case Z$4:\n                    data.push(Z$4);\n                    i++;\n                    break;\n                case N$3:\n                    x = old[i + 1];\n                    y = old[i + 2];\n                    curveMode ? rect$1(data, x, y, old[i + 3], old[i + 4]) : copyData(data, old, i, 5);\n                    i += 5;\n                    break;\n                case D$3:\n                    x = old[i + 1];\n                    y = old[i + 2];\n                    curveMode ? roundRect$2(data, x, y, old[i + 3], old[i + 4], [old[i + 5], old[i + 6], old[i + 7], old[i + 8]]) : copyData(data, old, i, 9);\n                    i += 9;\n                    break;\n                case X$3:\n                    x = old[i + 1];\n                    y = old[i + 2];\n                    curveMode ? roundRect$2(data, x, y, old[i + 3], old[i + 4], old[i + 5]) : copyData(data, old, i, 6);\n                    i += 6;\n                    break;\n                case G$3:\n                    ellipse$3(curveMode ? data : copyData(data, old, i, 9), old[i + 1], old[i + 2], old[i + 3], old[i + 4], old[i + 5], old[i + 6], old[i + 7], old[i + 8], null, setEndPoint$1);\n                    x = setEndPoint$1.x;\n                    y = setEndPoint$1.y;\n                    i += 9;\n                    break;\n                case F$4:\n                    curveMode ? ellipse$3(data, old[i + 1], old[i + 2], old[i + 3], old[i + 4], 0, 0, 360, false) : copyData(data, old, i, 5);\n                    x = old[i + 1] + old[i + 3];\n                    y = old[i + 2];\n                    i += 5;\n                    break;\n                case O$3:\n                    arc$3(curveMode ? data : copyData(data, old, i, 7), old[i + 1], old[i + 2], old[i + 3], old[i + 4], old[i + 5], old[i + 6], null, setEndPoint$1);\n                    x = setEndPoint$1.x;\n                    y = setEndPoint$1.y;\n                    i += 7;\n                    break;\n                case P$3:\n                    curveMode ? arc$3(data, old[i + 1], old[i + 2], old[i + 3], 0, 360, false) : copyData(data, old, i, 4);\n                    x = old[i + 1] + old[i + 3];\n                    y = old[i + 2];\n                    i += 4;\n                    break;\n                case U$3:\n                    arcTo$3(curveMode ? data : copyData(data, old, i, 6), x, y, old[i + 1], old[i + 2], old[i + 3], old[i + 4], old[i + 5], null, setEndPoint$1);\n                    x = setEndPoint$1.x;\n                    y = setEndPoint$1.y;\n                    i += 6;\n                    break;\n                default:\n                    debug$5.error(`command: ${command} [index:${i}]`, old);\n                    return data;\n            }\n            lastCommand = command;\n        }\n        return data;\n    },\n    copyData(data, old, index, count) {\n        for (let i = index, end = index + count; i < end; i++) {\n            data.push(old[i]);\n        }\n    },\n    pushData(data, strNum) {\n        if (current.index === current.length) {\n            current.index = 1;\n            data.push(current.name);\n        }\n        data.push(Number(strNum));\n        current.index++;\n        current.dot = 0;\n    }\n};\nconst { current, pushData, copyData } = PathConvert;\n\nconst { M: M$3, L: L$4, C: C$3, Q: Q$2, Z: Z$3, N: N$2, D: D$2, X: X$2, G: G$2, F: F$3, O: O$2, P: P$2, U: U$2 } = PathCommandMap;\nconst { getMinDistanceFrom, getRadianFrom } = PointHelper;\nconst { tan, min, abs } = Math;\nconst startPoint = {};\nconst PathCommandDataHelper = {\n    beginPath(data) {\n        data.length = 0;\n    },\n    moveTo(data, x, y) {\n        data.push(M$3, x, y);\n    },\n    lineTo(data, x, y) {\n        data.push(L$4, x, y);\n    },\n    bezierCurveTo(data, x1, y1, x2, y2, x, y) {\n        data.push(C$3, x1, y1, x2, y2, x, y);\n    },\n    quadraticCurveTo(data, x1, y1, x, y) {\n        data.push(Q$2, x1, y1, x, y);\n    },\n    closePath(data) {\n        data.push(Z$3);\n    },\n    rect(data, x, y, width, height) {\n        data.push(N$2, x, y, width, height);\n    },\n    roundRect(data, x, y, width, height, cornerRadius) {\n        if (typeof cornerRadius === 'number') {\n            data.push(X$2, x, y, width, height, cornerRadius);\n        }\n        else {\n            const fourCorners = MathHelper.fourNumber(cornerRadius);\n            if (fourCorners) {\n                data.push(D$2, x, y, width, height, ...fourCorners);\n            }\n            else {\n                data.push(N$2, x, y, width, height);\n            }\n        }\n    },\n    ellipse(data, x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise) {\n        if (rotation === undefined) {\n            data.push(F$3, x, y, radiusX, radiusY);\n        }\n        else {\n            if (startAngle === undefined)\n                startAngle = 0;\n            if (endAngle === undefined)\n                endAngle = 360;\n            data.push(G$2, x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise ? 1 : 0);\n        }\n    },\n    arc(data, x, y, radius, startAngle, endAngle, anticlockwise) {\n        if (startAngle === undefined) {\n            data.push(P$2, x, y, radius);\n        }\n        else {\n            if (endAngle === undefined)\n                endAngle = 360;\n            data.push(O$2, x, y, radius, startAngle, endAngle, anticlockwise ? 1 : 0);\n        }\n    },\n    arcTo(data, x1, y1, x2, y2, radius, lastX, lastY) {\n        if (lastX !== undefined) {\n            const maxRadius = tan(getRadianFrom(lastX, lastY, x1, y1, x2, y2) / 2) * (getMinDistanceFrom(lastX, lastY, x1, y1, x2, y2) / 2);\n            data.push(U$2, x1, y1, x2, y2, min(radius, abs(maxRadius)));\n        }\n        else {\n            data.push(U$2, x1, y1, x2, y2, radius);\n        }\n    },\n    drawEllipse(data, x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise) {\n        BezierHelper.ellipse(null, x, y, radiusX, radiusY, rotation === undefined ? 0 : rotation, startAngle === undefined ? 0 : startAngle, endAngle === undefined ? 360 : endAngle, anticlockwise, null, null, startPoint);\n        data.push(M$3, startPoint.x, startPoint.y);\n        ellipse$2(data, x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\n    },\n    drawArc(data, x, y, radius, startAngle, endAngle, anticlockwise) {\n        BezierHelper.arc(null, x, y, radius, startAngle === undefined ? 0 : startAngle, endAngle === undefined ? 360 : endAngle, anticlockwise, null, null, startPoint);\n        data.push(M$3, startPoint.x, startPoint.y);\n        arc$2(data, x, y, radius, startAngle, endAngle, anticlockwise);\n    },\n    drawPoints(data, points, curve, close) {\n        BezierHelper.points(data, points, curve, close);\n    }\n};\nconst { ellipse: ellipse$2, arc: arc$2 } = PathCommandDataHelper;\n\nconst { moveTo, lineTo, quadraticCurveTo, bezierCurveTo, closePath, beginPath, rect, roundRect: roundRect$1, ellipse: ellipse$1, arc: arc$1, arcTo: arcTo$2, drawEllipse, drawArc, drawPoints } = PathCommandDataHelper;\nclass PathCreator {\n    set path(value) { this.__path = value; }\n    get path() { return this.__path; }\n    constructor(path) {\n        this.clearPath = this.beginPath;\n        this.set(path);\n    }\n    set(path) {\n        if (path) {\n            this.__path = typeof path === 'string' ? PathHelper.parse(path) : path;\n        }\n        else {\n            this.__path = [];\n        }\n        return this;\n    }\n    beginPath() {\n        beginPath(this.__path);\n        return this;\n    }\n    moveTo(x, y) {\n        moveTo(this.__path, x, y);\n        return this;\n    }\n    lineTo(x, y) {\n        lineTo(this.__path, x, y);\n        return this;\n    }\n    bezierCurveTo(x1, y1, x2, y2, x, y) {\n        bezierCurveTo(this.__path, x1, y1, x2, y2, x, y);\n        return this;\n    }\n    quadraticCurveTo(x1, y1, x, y) {\n        quadraticCurveTo(this.__path, x1, y1, x, y);\n        return this;\n    }\n    closePath() {\n        closePath(this.__path);\n        return this;\n    }\n    rect(x, y, width, height) {\n        rect(this.__path, x, y, width, height);\n        return this;\n    }\n    roundRect(x, y, width, height, cornerRadius) {\n        roundRect$1(this.__path, x, y, width, height, cornerRadius);\n        return this;\n    }\n    ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise) {\n        ellipse$1(this.__path, x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\n        return this;\n    }\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\n        arc$1(this.__path, x, y, radius, startAngle, endAngle, anticlockwise);\n        return this;\n    }\n    arcTo(x1, y1, x2, y2, radius) {\n        arcTo$2(this.__path, x1, y1, x2, y2, radius);\n        return this;\n    }\n    drawEllipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise) {\n        drawEllipse(this.__path, x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);\n        return this;\n    }\n    drawArc(x, y, radius, startAngle, endAngle, anticlockwise) {\n        drawArc(this.__path, x, y, radius, startAngle, endAngle, anticlockwise);\n        return this;\n    }\n    drawPoints(points, curve, close) {\n        drawPoints(this.__path, points, curve, close);\n        return this;\n    }\n}\n\nconst { M: M$2, L: L$3, C: C$2, Q: Q$1, Z: Z$2, N: N$1, D: D$1, X: X$1, G: G$1, F: F$2, O: O$1, P: P$1, U: U$1 } = PathCommandMap;\nconst debug$4 = Debug.get('PathDrawer');\nconst PathDrawer = {\n    drawPathByData(drawer, data) {\n        if (!data)\n            return;\n        let command;\n        let i = 0, len = data.length;\n        while (i < len) {\n            command = data[i];\n            switch (command) {\n                case M$2:\n                    drawer.moveTo(data[i + 1], data[i + 2]);\n                    i += 3;\n                    break;\n                case L$3:\n                    drawer.lineTo(data[i + 1], data[i + 2]);\n                    i += 3;\n                    break;\n                case C$2:\n                    drawer.bezierCurveTo(data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5], data[i + 6]);\n                    i += 7;\n                    break;\n                case Q$1:\n                    drawer.quadraticCurveTo(data[i + 1], data[i + 2], data[i + 3], data[i + 4]);\n                    i += 5;\n                    break;\n                case Z$2:\n                    drawer.closePath();\n                    i += 1;\n                    break;\n                case N$1:\n                    drawer.rect(data[i + 1], data[i + 2], data[i + 3], data[i + 4]);\n                    i += 5;\n                    break;\n                case D$1:\n                    drawer.roundRect(data[i + 1], data[i + 2], data[i + 3], data[i + 4], [data[i + 5], data[i + 6], data[i + 7], data[i + 8]]);\n                    i += 9;\n                    break;\n                case X$1:\n                    drawer.roundRect(data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5]);\n                    i += 6;\n                    break;\n                case G$1:\n                    drawer.ellipse(data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5] * OneRadian, data[i + 6] * OneRadian, data[i + 7] * OneRadian, data[i + 8]);\n                    i += 9;\n                    break;\n                case F$2:\n                    drawer.ellipse(data[i + 1], data[i + 2], data[i + 3], data[i + 4], 0, 0, PI2, false);\n                    i += 5;\n                    break;\n                case O$1:\n                    drawer.arc(data[i + 1], data[i + 2], data[i + 3], data[i + 4] * OneRadian, data[i + 5] * OneRadian, data[i + 6]);\n                    i += 7;\n                    break;\n                case P$1:\n                    drawer.arc(data[i + 1], data[i + 2], data[i + 3], 0, PI2, false);\n                    i += 4;\n                    break;\n                case U$1:\n                    drawer.arcTo(data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5]);\n                    i += 6;\n                    break;\n                default:\n                    debug$4.error(`command: ${command} [index:${i}]`, data);\n                    return;\n            }\n        }\n    }\n};\n\nconst { M: M$1, L: L$2, C: C$1, Q, Z: Z$1, N, D, X, G, F: F$1, O, P, U } = PathCommandMap;\nconst { toTwoPointBounds, toTwoPointBoundsByQuadraticCurve, arcTo: arcTo$1, arc, ellipse } = BezierHelper;\nconst { addPointBounds, copy: copy$4, addPoint, setPoint, addBounds, toBounds: toBounds$1 } = TwoPointBoundsHelper;\nconst debug$3 = Debug.get('PathBounds');\nlet radius, radiusX, radiusY;\nconst tempPointBounds = {};\nconst setPointBounds = {};\nconst setEndPoint = {};\nconst PathBounds = {\n    toBounds(data, setBounds) {\n        PathBounds.toTwoPointBounds(data, setPointBounds);\n        toBounds$1(setPointBounds, setBounds);\n    },\n    toTwoPointBounds(data, setPointBounds) {\n        if (!data || !data.length)\n            return setPoint(setPointBounds, 0, 0);\n        let command;\n        let i = 0, x = 0, y = 0, x1, y1, toX, toY;\n        const len = data.length;\n        while (i < len) {\n            command = data[i];\n            if (i === 0) {\n                if (command === Z$1 || command === C$1 || command === Q) {\n                    setPoint(setPointBounds, x, y);\n                }\n                else {\n                    setPoint(setPointBounds, data[i + 1], data[i + 2]);\n                }\n            }\n            switch (command) {\n                case M$1:\n                case L$2:\n                    x = data[i + 1];\n                    y = data[i + 2];\n                    addPoint(setPointBounds, x, y);\n                    i += 3;\n                    break;\n                case C$1:\n                    toX = data[i + 5];\n                    toY = data[i + 6];\n                    toTwoPointBounds(x, y, data[i + 1], data[i + 2], data[i + 3], data[i + 4], toX, toY, tempPointBounds);\n                    addPointBounds(setPointBounds, tempPointBounds);\n                    x = toX;\n                    y = toY;\n                    i += 7;\n                    break;\n                case Q:\n                    x1 = data[i + 1];\n                    y1 = data[i + 2];\n                    toX = data[i + 3];\n                    toY = data[i + 4];\n                    toTwoPointBoundsByQuadraticCurve(x, y, x1, y1, toX, toY, tempPointBounds);\n                    addPointBounds(setPointBounds, tempPointBounds);\n                    x = toX;\n                    y = toY;\n                    i += 5;\n                    break;\n                case Z$1:\n                    i += 1;\n                    break;\n                case N:\n                    x = data[i + 1];\n                    y = data[i + 2];\n                    addBounds(setPointBounds, x, y, data[i + 3], data[i + 4]);\n                    i += 5;\n                    break;\n                case D:\n                case X:\n                    x = data[i + 1];\n                    y = data[i + 2];\n                    addBounds(setPointBounds, x, y, data[i + 3], data[i + 4]);\n                    i += (command === D ? 9 : 6);\n                    break;\n                case G:\n                    ellipse(null, data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5], data[i + 6], data[i + 7], data[i + 8], tempPointBounds, setEndPoint);\n                    i === 0 ? copy$4(setPointBounds, tempPointBounds) : addPointBounds(setPointBounds, tempPointBounds);\n                    x = setEndPoint.x;\n                    y = setEndPoint.y;\n                    i += 9;\n                    break;\n                case F$1:\n                    x = data[i + 1];\n                    y = data[i + 2];\n                    radiusX = data[i + 3];\n                    radiusY = data[i + 4];\n                    addBounds(setPointBounds, x - radiusX, y - radiusY, radiusX * 2, radiusY * 2);\n                    x += radiusX;\n                    i += 5;\n                    break;\n                case O:\n                    arc(null, data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5], data[i + 6], tempPointBounds, setEndPoint);\n                    i === 0 ? copy$4(setPointBounds, tempPointBounds) : addPointBounds(setPointBounds, tempPointBounds);\n                    x = setEndPoint.x;\n                    y = setEndPoint.y;\n                    i += 7;\n                    break;\n                case P:\n                    x = data[i + 1];\n                    y = data[i + 2];\n                    radius = data[i + 3];\n                    addBounds(setPointBounds, x - radius, y - radius, radius * 2, radius * 2);\n                    x += radius;\n                    i += 4;\n                    break;\n                case U:\n                    arcTo$1(null, x, y, data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5], tempPointBounds, setEndPoint);\n                    i === 0 ? copy$4(setPointBounds, tempPointBounds) : addPointBounds(setPointBounds, tempPointBounds);\n                    x = setEndPoint.x;\n                    y = setEndPoint.y;\n                    i += 6;\n                    break;\n                default:\n                    debug$3.error(`command: ${command} [index:${i}]`, data);\n                    return;\n            }\n        }\n    }\n};\n\nconst { M, L: L$1, C, Z } = PathCommandMap;\nconst { getCenterX, getCenterY } = PointHelper;\nconst { arcTo } = PathCommandDataHelper;\nconst PathCorner = {\n    smooth(data, cornerRadius, _cornerSmoothing) {\n        let command;\n        let i = 0, x = 0, y = 0, startX = 0, startY = 0, secondX = 0, secondY = 0, lastX = 0, lastY = 0;\n        const len = data.length;\n        const smooth = [];\n        while (i < len) {\n            command = data[i];\n            switch (command) {\n                case M:\n                    startX = lastX = data[i + 1];\n                    startY = lastY = data[i + 2];\n                    i += 3;\n                    if (data[i] === L$1) {\n                        secondX = data[i + 1];\n                        secondY = data[i + 2];\n                        smooth.push(M, getCenterX(startX, secondX), getCenterY(startY, secondY));\n                    }\n                    else {\n                        smooth.push(M, startX, startY);\n                    }\n                    break;\n                case L$1:\n                    x = data[i + 1];\n                    y = data[i + 2];\n                    i += 3;\n                    switch (data[i]) {\n                        case L$1:\n                            arcTo(smooth, x, y, data[i + 1], data[i + 2], cornerRadius, lastX, lastY);\n                            break;\n                        case Z:\n                            arcTo(smooth, x, y, startX, startY, cornerRadius, lastX, lastY);\n                            break;\n                        default:\n                            smooth.push(L$1, x, y);\n                    }\n                    lastX = x;\n                    lastY = y;\n                    break;\n                case C:\n                    smooth.push(C, data[i + 1], data[i + 2], data[i + 3], data[i + 4], data[i + 5], data[i + 6]);\n                    i += 7;\n                    break;\n                case Z:\n                    arcTo(smooth, startX, startY, secondX, secondY, cornerRadius, lastX, lastY);\n                    smooth.push(Z);\n                    i += 1;\n                    break;\n            }\n        }\n        if (command !== Z) {\n            smooth[1] = startX;\n            smooth[2] = startY;\n        }\n        return smooth;\n    }\n};\n\nPathHelper.creator = new PathCreator();\nPathHelper.parse = PathConvert.parse;\nPathHelper.convertToCanvasData = PathConvert.toCanvasData;\nconst pen = new PathCreator();\n\nconst { drawRoundRect } = RectHelper;\nfunction roundRect(drawer) {\n    if (drawer && !drawer.roundRect) {\n        drawer.roundRect = function (x, y, width, height, cornerRadius) {\n            drawRoundRect(this, x, y, width, height, cornerRadius);\n        };\n    }\n}\n\nfunction canvasPatch(drawer) {\n    roundRect(drawer);\n}\n\nconst FileHelper = {\n    opacityTypes: ['png', 'webp', 'svg'],\n    upperCaseTypeMap: {},\n    mineType(type) {\n        if (!type || type.startsWith('image'))\n            return type;\n        if (type === 'jpg')\n            type = 'jpeg';\n        return 'image/' + type;\n    },\n    fileType(filename) {\n        const l = filename.split('.');\n        return l[l.length - 1];\n    },\n    isOpaqueImage(filename) {\n        const type = F.fileType(filename);\n        return ['jpg', 'jpeg'].some(item => item === type);\n    },\n    getExportOptions(options) {\n        switch (typeof options) {\n            case 'object': return options;\n            case 'number': return { quality: options };\n            case 'boolean': return { blob: options };\n            default: return {};\n        }\n    }\n};\nconst F = FileHelper;\nF.opacityTypes.forEach(type => F.upperCaseTypeMap[type] = type.toUpperCase());\n\nconst debug$2 = Debug.get('TaskProcessor');\nclass TaskItem {\n    constructor(task) {\n        this.parallel = true;\n        this.time = 1;\n        this.id = IncrementId.create(IncrementId.TASK);\n        this.task = task;\n    }\n    run() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (this.task && !this.isComplete && this.parent.running)\n                    yield this.task();\n            }\n            catch (error) {\n                debug$2.error(error);\n            }\n        });\n    }\n    complete() {\n        this.isComplete = true;\n        this.parent = null;\n        this.task = null;\n    }\n    cancel() {\n        this.isCancel = true;\n        this.complete();\n    }\n}\n\nclass TaskProcessor {\n    get total() { return this.list.length + this.delayNumber; }\n    get finishedIndex() {\n        return this.isComplete ? 0 : this.index + this.parallelSuccessNumber;\n    }\n    get remain() {\n        return this.isComplete ? this.total : this.total - this.finishedIndex;\n    }\n    get percent() {\n        const { total } = this;\n        let totalTime = 0, runTime = 0;\n        for (let i = 0; i < total; i++) {\n            if (i <= this.finishedIndex) {\n                runTime += this.list[i].time;\n                if (i === this.finishedIndex)\n                    totalTime = runTime;\n            }\n            else {\n                totalTime += this.list[i].time;\n            }\n        }\n        return this.isComplete ? 1 : (runTime / totalTime);\n    }\n    constructor(config) {\n        this.config = { parallel: 6 };\n        this.list = [];\n        this.running = false;\n        this.isComplete = true;\n        this.index = 0;\n        this.delayNumber = 0;\n        if (config)\n            DataHelper.assign(this.config, config);\n        this.empty();\n    }\n    add(taskCallback, options) {\n        let start, parallel, time, delay;\n        const task = new TaskItem(taskCallback);\n        task.parent = this;\n        if (typeof options === 'number') {\n            delay = options;\n        }\n        else if (options) {\n            parallel = options.parallel;\n            start = options.start;\n            time = options.time;\n            delay = options.delay;\n        }\n        if (time)\n            task.time = time;\n        if (parallel === false)\n            task.parallel = false;\n        if (delay === undefined) {\n            this.push(task, start);\n        }\n        else {\n            this.delayNumber++;\n            setTimeout(() => {\n                if (this.delayNumber) {\n                    this.delayNumber--;\n                    this.push(task, start);\n                }\n            }, delay);\n        }\n        this.isComplete = false;\n        return task;\n    }\n    push(task, start) {\n        this.list.push(task);\n        if (start !== false && !this.timer) {\n            this.timer = setTimeout(() => this.start());\n        }\n    }\n    empty() {\n        this.index = 0;\n        this.parallelSuccessNumber = 0;\n        this.list = [];\n        this.parallelList = [];\n        this.delayNumber = 0;\n    }\n    start() {\n        if (!this.running) {\n            this.running = true;\n            this.isComplete = false;\n            this.run();\n        }\n    }\n    pause() {\n        clearTimeout(this.timer);\n        this.timer = null;\n        this.running = false;\n    }\n    resume() {\n        this.start();\n    }\n    skip() {\n        this.index++;\n        this.resume();\n    }\n    stop() {\n        this.isComplete = true;\n        this.list.forEach(task => { if (!task.isComplete)\n            task.cancel(); });\n        this.pause();\n        this.empty();\n    }\n    run() {\n        if (!this.running)\n            return;\n        this.setParallelList();\n        if (this.parallelList.length > 1) {\n            this.runParallelTasks();\n        }\n        else {\n            this.remain ? this.runTask() : this.onComplete();\n        }\n    }\n    runTask() {\n        const task = this.list[this.index];\n        if (!task) {\n            this.nextTask();\n            return;\n        }\n        task.run().then(() => {\n            this.onTask(task);\n            this.index++;\n            this.nextTask();\n        }).catch(error => {\n            this.onError(error);\n        });\n    }\n    runParallelTasks() {\n        this.parallelList.forEach(task => this.runParallelTask(task));\n    }\n    runParallelTask(task) {\n        task.run().then(() => {\n            this.onTask(task);\n            this.fillParallelTask();\n        }).catch(error => {\n            this.onParallelError(error);\n        });\n    }\n    nextTask() {\n        if (this.total === this.finishedIndex) {\n            this.onComplete();\n        }\n        else {\n            this.timer = setTimeout(() => this.run());\n        }\n    }\n    setParallelList() {\n        let task;\n        this.parallelList = [];\n        this.parallelSuccessNumber = 0;\n        let end = this.index + this.config.parallel;\n        if (end > this.list.length)\n            end = this.list.length;\n        for (let i = this.index; i < end; i++) {\n            task = this.list[i];\n            if (task.parallel) {\n                this.parallelList.push(task);\n            }\n            else {\n                break;\n            }\n        }\n    }\n    fillParallelTask() {\n        let task;\n        const parallelList = this.parallelList;\n        this.parallelSuccessNumber++;\n        parallelList.pop();\n        const parallelWaitNumber = parallelList.length;\n        const nextIndex = this.finishedIndex + parallelWaitNumber;\n        if (parallelList.length) {\n            if (!this.running)\n                return;\n            if (nextIndex < this.total) {\n                task = this.list[nextIndex];\n                if (task && task.parallel) {\n                    parallelList.push(task);\n                    this.runParallelTask(task);\n                }\n            }\n        }\n        else {\n            this.index += this.parallelSuccessNumber;\n            this.parallelSuccessNumber = 0;\n            this.nextTask();\n        }\n    }\n    onComplete() {\n        this.stop();\n        if (this.config.onComplete)\n            this.config.onComplete();\n    }\n    onTask(task) {\n        task.complete();\n        if (this.config.onTask)\n            this.config.onTask();\n    }\n    onParallelError(error) {\n        this.parallelList.forEach(task => {\n            task.parallel = false;\n        });\n        this.parallelList.length = 0;\n        this.parallelSuccessNumber = 0;\n        this.onError(error);\n    }\n    onError(error) {\n        this.pause();\n        if (this.config.onError)\n            this.config.onError(error);\n    }\n    destroy() {\n        this.stop();\n    }\n}\n\nconst ImageManager = {\n    map: {},\n    recycledList: [],\n    tasker: new TaskProcessor(),\n    patternTasker: new TaskProcessor(),\n    get isComplete() { return I.tasker.isComplete; },\n    get(config) {\n        let image = I.map[config.url];\n        if (!image) {\n            image = Creator.image(config);\n            I.map[config.url] = image;\n        }\n        image.use++;\n        return image;\n    },\n    recycle(image) {\n        image.use--;\n        setTimeout(() => { if (!image.use)\n            I.recycledList.push(image); });\n    },\n    clearRecycled() {\n        const list = I.recycledList;\n        if (list.length > 100) {\n            list.forEach(image => {\n                if (!image.use && image.url) {\n                    delete I.map[image.url];\n                    image.destroy();\n                }\n            });\n            list.length = 0;\n        }\n    },\n    hasOpacityPixel(config) {\n        return FileHelper.opacityTypes.some(item => I.isFormat(item, config));\n    },\n    isFormat(format, config) {\n        if (config.format === format)\n            return true;\n        const { url } = config;\n        if (url.startsWith('data:')) {\n            if (url.startsWith('data:' + FileHelper.mineType(format)))\n                return true;\n        }\n        else {\n            if (url.includes('.' + format) || url.includes('.' + FileHelper.upperCaseTypeMap[format]))\n                return true;\n        }\n        return false;\n    },\n    destroy() {\n        I.map = {};\n        I.recycledList = [];\n    }\n};\nconst I = ImageManager;\n\nconst { IMAGE, create: create$1 } = IncrementId;\nclass LeaferImage {\n    get url() { return this.config.url; }\n    get completed() { return this.ready || !!this.error; }\n    constructor(config) {\n        this.use = 0;\n        this.waitComplete = [];\n        this.innerId = create$1(IMAGE);\n        this.config = config || { url: '' };\n        this.isSVG = ImageManager.isFormat('svg', config);\n        this.hasOpacityPixel = ImageManager.hasOpacityPixel(config);\n    }\n    load(onSuccess, onError) {\n        if (!this.loading) {\n            this.loading = true;\n            ImageManager.tasker.add(() => __awaiter(this, void 0, void 0, function* () {\n                return yield Platform.origin.loadImage(this.url).then((img) => {\n                    this.ready = true;\n                    this.width = img.naturalWidth || img.width;\n                    this.height = img.naturalHeight || img.height;\n                    this.view = img;\n                    this.onComplete(true);\n                }).catch((e) => {\n                    this.error = e;\n                    this.onComplete(false);\n                });\n            }));\n        }\n        this.waitComplete.push(onSuccess, onError);\n        return this.waitComplete.length - 2;\n    }\n    unload(index, stopEvent) {\n        const l = this.waitComplete;\n        if (stopEvent) {\n            const error = l[index + 1];\n            if (error)\n                error({ type: 'stop' });\n        }\n        l[index] = l[index + 1] = undefined;\n    }\n    onComplete(isSuccess) {\n        let odd;\n        this.waitComplete.forEach((item, index) => {\n            odd = index % 2;\n            if (item) {\n                if (isSuccess) {\n                    if (!odd)\n                        item(this);\n                }\n                else {\n                    if (odd)\n                        item(this.error);\n                }\n            }\n        });\n        this.waitComplete.length = 0;\n        this.loading = false;\n    }\n    getCanvas(width, height, opacity, _filters) {\n        width || (width = this.width);\n        height || (height = this.height);\n        if (this.cache) {\n            let { params, data } = this.cache;\n            for (let i in params) {\n                if (params[i] !== arguments[i]) {\n                    data = null;\n                    break;\n                }\n            }\n            if (data)\n                return data;\n        }\n        const canvas = Platform.origin.createCanvas(width, height);\n        const ctx = canvas.getContext('2d');\n        if (opacity)\n            ctx.globalAlpha = opacity;\n        ctx.drawImage(this.view, 0, 0, width, height);\n        this.cache = this.use > 1 ? { data: canvas, params: arguments } : null;\n        return canvas;\n    }\n    getPattern(canvas, repeat, transform, paint) {\n        const pattern = Platform.canvas.createPattern(canvas, repeat);\n        try {\n            if (transform && pattern.setTransform) {\n                pattern.setTransform(transform);\n                transform = null;\n            }\n        }\n        catch (_a) { }\n        if (paint)\n            paint.transform = transform;\n        return pattern;\n    }\n    destroy() {\n        this.config = { url: '' };\n        this.cache = null;\n        this.waitComplete.length = 0;\n    }\n}\n\nfunction defineKey(target, key, descriptor, noConfigurable) {\n    if (!noConfigurable)\n        descriptor.configurable = descriptor.enumerable = true;\n    Object.defineProperty(target, key, descriptor);\n}\nfunction getDescriptor(object, name) {\n    return Object.getOwnPropertyDescriptor(object, name);\n}\nfunction getNames(object) {\n    return Object.getOwnPropertyNames(object);\n}\n\nfunction decorateLeafAttr(defaultValue, descriptorFn) {\n    return (target, key) => defineLeafAttr(target, key, defaultValue, descriptorFn && descriptorFn(key));\n}\nfunction attr(partDescriptor) {\n    return partDescriptor;\n}\nfunction defineLeafAttr(target, key, defaultValue, partDescriptor) {\n    const defaultDescriptor = {\n        get() { return this.__getAttr(key); },\n        set(value) { this.__setAttr(key, value); }\n    };\n    defineKey(target, key, Object.assign(defaultDescriptor, partDescriptor || {}));\n    defineDataProcessor(target, key, defaultValue);\n}\nfunction dataType(defaultValue) {\n    return decorateLeafAttr(defaultValue);\n}\nfunction positionType(defaultValue, checkFiniteNumber) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value, checkFiniteNumber) && (this.__layout.matrixChanged || this.__layout.matrixChange());\n        }\n    }));\n}\nfunction autoLayoutType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            if (this.__setAttr(key, value)) {\n                this.__layout.matrixChanged || this.__layout.matrixChange();\n                this.__hasAutoLayout = !!value;\n                if (!this.__local)\n                    this.__layout.createLocal();\n            }\n        }\n    }));\n}\nfunction scaleType(defaultValue, checkFiniteNumber) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value, checkFiniteNumber) && (this.__layout.scaleChanged || this.__layout.scaleChange());\n        }\n    }));\n}\nfunction rotationType(defaultValue, checkFiniteNumber) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value, checkFiniteNumber) && (this.__layout.rotationChanged || this.__layout.rotationChange());\n        }\n    }));\n}\nfunction boundsType(defaultValue, checkFiniteNumber) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value, checkFiniteNumber) && doBoundsType(this);\n        }\n    }));\n}\nfunction naturalBoundsType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value) && (doBoundsType(this), this.__.__removeNaturalSize());\n        }\n    }));\n}\nfunction doBoundsType(leaf) {\n    leaf.__layout.boxChanged || leaf.__layout.boxChange();\n    if (leaf.__hasAutoLayout)\n        leaf.__layout.matrixChanged || leaf.__layout.matrixChange();\n}\nfunction pathInputType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            const data = this.__;\n            if (data.__pathInputed !== 2)\n                data.__pathInputed = value ? 1 : 0;\n            if (!value)\n                data.__pathForRender = undefined;\n            this.__setAttr(key, value);\n            doBoundsType(this);\n        }\n    }));\n}\nconst pathType = boundsType;\nfunction affectStrokeBoundsType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value) && doStrokeType(this);\n        }\n    }));\n}\nfunction doStrokeType(leaf) {\n    leaf.__layout.strokeChanged || leaf.__layout.strokeChange();\n    if (leaf.__.__useArrow)\n        doBoundsType(leaf);\n}\nconst strokeType = affectStrokeBoundsType;\nfunction affectRenderBoundsType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value);\n            this.__layout.renderChanged || this.__layout.renderChange();\n        }\n    }));\n}\nfunction surfaceType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value) && (this.__layout.surfaceChanged || this.__layout.surfaceChange());\n        }\n    }));\n}\nfunction opacityType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value) && (this.__layout.opacityChanged || this.__layout.opacityChange());\n        }\n    }));\n}\nfunction visibleType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            const oldValue = this.visible;\n            if (this.__setAttr(key, value)) {\n                this.__layout.opacityChanged || this.__layout.opacityChange();\n                if (oldValue === 0 || value === 0)\n                    doBoundsType(this);\n            }\n        }\n    }));\n}\nfunction sortType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            if (this.__setAttr(key, value)) {\n                this.__layout.surfaceChanged || this.__layout.surfaceChange();\n                this.waitParent(() => { this.parent.__layout.childrenSortChange(); });\n            }\n        }\n    }));\n}\nfunction maskType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            if (this.__setAttr(key, value)) {\n                this.__layout.boxChanged || this.__layout.boxChange();\n                this.waitParent(() => { this.parent.__updateMask(value); });\n            }\n        }\n    }));\n}\nfunction eraserType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value) && this.waitParent(() => { this.parent.__updateEraser(value); });\n        }\n    }));\n}\nfunction hitType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            if (this.__setAttr(key, value)) {\n                this.__layout.hitCanvasChanged = true;\n                if (Debug.showHitView) {\n                    this.__layout.surfaceChanged || this.__layout.surfaceChange();\n                }\n                if (this.leafer)\n                    this.leafer.updateCursor();\n            }\n        }\n    }));\n}\nfunction cursorType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value);\n            if (this.leafer)\n                this.leafer.updateCursor();\n        }\n    }));\n}\nfunction dataProcessor(processor) {\n    return (target, _key) => {\n        defineKey(target, '__DataProcessor', {\n            get() { return processor; }\n        });\n    };\n}\nfunction layoutProcessor(processor) {\n    return (target, _key) => {\n        defineKey(target, '__LayoutProcessor', {\n            get() { return processor; }\n        });\n    };\n}\nfunction getSetMethodName(key) {\n    return 'set' + key.charAt(0).toUpperCase() + key.slice(1);\n}\nfunction defineDataProcessor(target, key, defaultValue) {\n    const data = target.__DataProcessor.prototype;\n    const computedKey = '_' + key;\n    const setMethodName = getSetMethodName(key);\n    const property = {\n        get() {\n            const v = this[computedKey];\n            return v === undefined ? defaultValue : v;\n        },\n        set(value) {\n            this[computedKey] = value;\n        }\n    };\n    if (defaultValue === undefined) {\n        property.get = function () { return this[computedKey]; };\n    }\n    else if (key === 'width') {\n        property.get = function () {\n            const v = this[computedKey];\n            if (v === undefined) {\n                const t = this;\n                return t._height && t.__naturalWidth && t.__useNaturalRatio ? t._height * t.__naturalWidth / t.__naturalHeight : t.__naturalWidth || defaultValue;\n            }\n            else {\n                return v;\n            }\n        };\n    }\n    else if (key === 'height') {\n        property.get = function () {\n            const v = this[computedKey];\n            if (v === undefined) {\n                const t = this;\n                return t._width && t.__naturalHeight && t.__useNaturalRatio ? t._width * t.__naturalHeight / t.__naturalWidth : t.__naturalHeight || defaultValue;\n            }\n            else {\n                return v;\n            }\n        };\n    }\n    let descriptor, find = data;\n    while (!descriptor && find) {\n        descriptor = getDescriptor(find, key);\n        find = find.__proto__;\n    }\n    if (descriptor && descriptor.set)\n        property.set = descriptor.set;\n    if (data[setMethodName]) {\n        property.set = data[setMethodName];\n        delete data[setMethodName];\n    }\n    defineKey(data, key, property);\n}\n\nconst debug$1 = new Debug('rewrite');\nconst list = [];\nconst excludeNames = ['destroy', 'constructor'];\nfunction rewrite(method) {\n    return (target, key) => {\n        list.push({ name: target.constructor.name + '.' + key, run: () => { target[key] = method; } });\n    };\n}\nfunction rewriteAble() {\n    return (_target) => {\n        doRewrite();\n    };\n}\nfunction doRewrite(error) {\n    if (list.length) {\n        list.forEach(item => {\n            if (error)\n                debug$1.error(item.name, '需在Class上装饰@rewriteAble()');\n            item.run();\n        });\n        list.length = 0;\n    }\n}\nsetTimeout(() => doRewrite(true));\nfunction useModule(module, exclude) {\n    return (target) => {\n        const names = module.prototype ? getNames(module.prototype) : Object.keys(module);\n        names.forEach(name => {\n            if (!excludeNames.includes(name) && (!exclude || !exclude.includes(name))) {\n                if (module.prototype) {\n                    const d = getDescriptor(module.prototype, name);\n                    if (d.writable)\n                        target.prototype[name] = module.prototype[name];\n                }\n                else {\n                    target.prototype[name] = module[name];\n                }\n            }\n        });\n    };\n}\n\nfunction registerUI() {\n    return (target) => {\n        UICreator.register(target);\n    };\n}\nfunction registerUIEvent() {\n    return (target) => {\n        EventCreator.register(target);\n    };\n}\n\nconst { copy: copy$3, toInnerPoint: toInnerPoint$1, scaleOfOuter, rotateOfOuter, skewOfOuter, multiplyParent: multiplyParent$2, divideParent, getLayout } = MatrixHelper;\nconst matrix = {};\nconst LeafHelper = {\n    updateAllMatrix(leaf, checkAutoLayout, waitAutoLayout) {\n        if (checkAutoLayout && leaf.__hasAutoLayout && leaf.__layout.matrixChanged)\n            waitAutoLayout = true;\n        updateMatrix$1(leaf, checkAutoLayout, waitAutoLayout);\n        if (leaf.isBranch) {\n            const { children } = leaf;\n            for (let i = 0, len = children.length; i < len; i++) {\n                updateAllMatrix$1(children[i], checkAutoLayout, waitAutoLayout);\n            }\n        }\n    },\n    updateMatrix(leaf, checkAutoLayout, waitAutoLayout) {\n        const layout = leaf.__layout;\n        if (checkAutoLayout) {\n            if (waitAutoLayout) {\n                layout.waitAutoLayout = true;\n                if (leaf.__hasAutoLayout)\n                    layout.matrixChanged = false;\n            }\n        }\n        else if (layout.waitAutoLayout) {\n            layout.waitAutoLayout = false;\n        }\n        if (layout.matrixChanged)\n            leaf.__updateLocalMatrix();\n        if (!layout.waitAutoLayout)\n            leaf.__updateWorldMatrix();\n    },\n    updateBounds(leaf) {\n        const layout = leaf.__layout;\n        if (layout.boundsChanged)\n            leaf.__updateLocalBounds();\n        if (!layout.waitAutoLayout)\n            leaf.__updateWorldBounds();\n    },\n    updateAllWorldOpacity(leaf) {\n        leaf.__updateWorldOpacity();\n        if (leaf.isBranch) {\n            const { children } = leaf;\n            for (let i = 0, len = children.length; i < len; i++) {\n                updateAllWorldOpacity(children[i]);\n            }\n        }\n    },\n    updateAllChange(leaf) {\n        updateAllWorldOpacity(leaf);\n        leaf.__updateChange();\n        if (leaf.isBranch) {\n            const { children } = leaf;\n            for (let i = 0, len = children.length; i < len; i++) {\n                updateAllChange(children[i]);\n            }\n        }\n    },\n    worldHittable(t) {\n        while (t) {\n            if (!t.__.hittable)\n                return false;\n            t = t.parent;\n        }\n        return true;\n    },\n    moveWorld(t, x, y = 0) {\n        const local = typeof x === 'object' ? Object.assign({}, x) : { x, y };\n        if (t.parent)\n            toInnerPoint$1(t.parent.worldTransform, local, local, true);\n        L.moveLocal(t, local.x, local.y);\n    },\n    moveLocal(t, x, y = 0) {\n        if (typeof x === 'object') {\n            t.x += x.x;\n            t.y += x.y;\n        }\n        else {\n            t.x += x;\n            t.y += y;\n        }\n    },\n    zoomOfWorld(t, origin, scaleX, scaleY, resize) {\n        L.zoomOfLocal(t, getTempLocal(t, origin), scaleX, scaleY, resize);\n    },\n    zoomOfLocal(t, origin, scaleX, scaleY = scaleX, resize) {\n        copy$3(matrix, t.__localMatrix);\n        scaleOfOuter(matrix, origin, scaleX, scaleY);\n        moveByMatrix(t, matrix);\n        t.scaleResize(scaleX, scaleY, resize !== true);\n    },\n    rotateOfWorld(t, origin, angle) {\n        L.rotateOfLocal(t, getTempLocal(t, origin), angle);\n    },\n    rotateOfLocal(t, origin, angle) {\n        copy$3(matrix, t.__localMatrix);\n        rotateOfOuter(matrix, origin, angle);\n        moveByMatrix(t, matrix);\n        t.rotation = MathHelper.formatRotation(t.rotation + angle);\n    },\n    skewOfWorld(t, origin, skewX, skewY, resize) {\n        L.skewOfLocal(t, getTempLocal(t, origin), skewX, skewY, resize);\n    },\n    skewOfLocal(t, origin, skewX, skewY = 0, resize) {\n        copy$3(matrix, t.__localMatrix);\n        skewOfOuter(matrix, origin, skewX, skewY);\n        L.setTransform(t, matrix, resize);\n    },\n    transformWorld(t, transform, resize) {\n        copy$3(matrix, t.worldTransform);\n        multiplyParent$2(matrix, transform);\n        if (t.parent)\n            divideParent(matrix, t.parent.worldTransform);\n        L.setTransform(t, matrix, resize);\n    },\n    transform(t, transform, resize) {\n        copy$3(matrix, t.localTransform);\n        multiplyParent$2(matrix, transform);\n        L.setTransform(t, matrix, resize);\n    },\n    setTransform(t, transform, resize) {\n        const layout = getLayout(transform);\n        if (resize) {\n            const scaleX = layout.scaleX / t.scaleX;\n            const scaleY = layout.scaleY / t.scaleY;\n            delete layout.scaleX;\n            delete layout.scaleY;\n            t.set(layout);\n            t.scaleResize(scaleX, scaleY, resize !== true);\n        }\n        else {\n            t.set(layout);\n        }\n    },\n    getLocalOrigin(t, origin) {\n        return PointHelper.tempToOuterOf(L.getInnerOrigin(t, origin), t.localTransform);\n    },\n    getInnerOrigin(t, origin) {\n        if (typeof origin === 'string')\n            AroundHelper.toPoint(origin, t.boxBounds, origin = {});\n        return origin;\n    },\n    getRelativeWorld(t, relative, temp) {\n        copy$3(matrix, t.worldTransform);\n        divideParent(matrix, relative.worldTransform);\n        return temp ? matrix : Object.assign({}, matrix);\n    },\n    drop(t, parent, index, resize) {\n        t.setTransform(L.getRelativeWorld(t, parent, true), resize);\n        parent.add(t, index);\n    },\n    hasParent(p, parent) {\n        if (!parent)\n            return false;\n        while (p) {\n            if (parent === p)\n                return true;\n            p = p.parent;\n        }\n    }\n};\nconst L = LeafHelper;\nconst { updateAllMatrix: updateAllMatrix$1, updateMatrix: updateMatrix$1, updateAllWorldOpacity, updateAllChange } = L;\nfunction moveByMatrix(t, matrix) {\n    const { e, f } = t.__localMatrix;\n    t.x += matrix.e - e;\n    t.y += matrix.f - f;\n}\nfunction getTempLocal(t, world) {\n    t.__layout.update();\n    return t.parent ? PointHelper.tempToInnerOf(world, t.parent.__world) : world;\n}\n\nconst LeafBoundsHelper = {\n    worldBounds(target) {\n        return target.__world;\n    },\n    localBoxBounds(target) {\n        return target.__.eraser || target.__.visible === 0 ? null : (target.__local || target.__layout);\n    },\n    localStrokeBounds(target) {\n        return target.__.eraser || target.__.visible === 0 ? null : target.__layout.localStrokeBounds;\n    },\n    localRenderBounds(target) {\n        return target.__.eraser || target.__.visible === 0 ? null : target.__layout.localRenderBounds;\n    },\n    maskLocalBoxBounds(target) {\n        return target.__.mask ? target.__localBoxBounds : null;\n    },\n    maskLocalStrokeBounds(target) {\n        return target.__.mask ? target.__layout.localStrokeBounds : null;\n    },\n    maskLocalRenderBounds(target) {\n        return target.__.mask ? target.__layout.localRenderBounds : null;\n    },\n    excludeRenderBounds(child, options) {\n        if (options.bounds && !options.bounds.hit(child.__world, options.matrix))\n            return true;\n        if (options.hideBounds && options.hideBounds.includes(child.__world, options.matrix))\n            return true;\n        return false;\n    }\n};\n\nconst { updateBounds: updateBounds$1 } = LeafHelper;\nconst BranchHelper = {\n    sort(a, b) {\n        return (a.__.zIndex === b.__.zIndex) ? (a.__tempNumber - b.__tempNumber) : (a.__.zIndex - b.__.zIndex);\n    },\n    pushAllChildBranch(branch, leafList) {\n        branch.__tempNumber = 1;\n        if (branch.__.__childBranchNumber) {\n            const { children } = branch;\n            for (let i = 0, len = children.length; i < len; i++) {\n                branch = children[i];\n                if (branch.isBranch) {\n                    branch.__tempNumber = 1;\n                    leafList.add(branch);\n                    pushAllChildBranch(branch, leafList);\n                }\n            }\n        }\n    },\n    pushAllParent(leaf, leafList) {\n        const { keys } = leafList;\n        if (keys) {\n            while (leaf.parent) {\n                if (keys[leaf.parent.innerId] === undefined) {\n                    leafList.add(leaf.parent);\n                    leaf = leaf.parent;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        else {\n            while (leaf.parent) {\n                leafList.add(leaf.parent);\n                leaf = leaf.parent;\n            }\n        }\n    },\n    pushAllBranchStack(branch, pushList) {\n        let start = pushList.length;\n        const { children } = branch;\n        for (let i = 0, len = children.length; i < len; i++) {\n            if (children[i].isBranch) {\n                pushList.push(children[i]);\n            }\n        }\n        for (let i = start, len = pushList.length; i < len; i++) {\n            pushAllBranchStack(pushList[i], pushList);\n        }\n    },\n    updateBounds(branch, exclude) {\n        const branchStack = [branch];\n        pushAllBranchStack(branch, branchStack);\n        updateBoundsByBranchStack(branchStack, exclude);\n    },\n    updateBoundsByBranchStack(branchStack, exclude) {\n        let branch, children;\n        for (let i = branchStack.length - 1; i > -1; i--) {\n            branch = branchStack[i];\n            children = branch.children;\n            for (let j = 0, len = children.length; j < len; j++) {\n                updateBounds$1(children[j]);\n            }\n            if (exclude && exclude === branch)\n                continue;\n            updateBounds$1(branch);\n        }\n    }\n};\nconst { pushAllChildBranch, pushAllBranchStack, updateBoundsByBranchStack } = BranchHelper;\n\nconst WaitHelper = {\n    run(wait) {\n        if (wait && wait.length) {\n            const len = wait.length;\n            for (let i = 0; i < len; i++) {\n                wait[i]();\n            }\n            wait.length === len ? wait.length = 0 : wait.splice(0, len);\n        }\n    }\n};\n\nconst { getRelativeWorld: getRelativeWorld$1 } = LeafHelper;\nconst { toOuterOf: toOuterOf$2, getPoints, copy: copy$2 } = BoundsHelper;\nconst localContent = '_localContentBounds';\nconst worldContent = '_worldContentBounds', worldBox = '_worldBoxBounds', worldStroke = '_worldStrokeBounds';\nclass LeafLayout {\n    get contentBounds() { return this._contentBounds || this.boxBounds; }\n    set contentBounds(bounds) { this._contentBounds = bounds; }\n    get strokeBounds() { return this._strokeBounds || this.boxBounds; }\n    get renderBounds() { return this._renderBounds || this.boxBounds; }\n    get localContentBounds() { toOuterOf$2(this.contentBounds, this.leaf.__localMatrix, this[localContent] || (this[localContent] = {})); return this[localContent]; }\n    get localStrokeBounds() { return this._localStrokeBounds || this; }\n    get localRenderBounds() { return this._localRenderBounds || this; }\n    get worldContentBounds() { toOuterOf$2(this.contentBounds, this.leaf.__world, this[worldContent] || (this[worldContent] = {})); return this[worldContent]; }\n    get worldBoxBounds() { toOuterOf$2(this.boxBounds, this.leaf.__world, this[worldBox] || (this[worldBox] = {})); return this[worldBox]; }\n    get worldStrokeBounds() { toOuterOf$2(this.strokeBounds, this.leaf.__world, this[worldStroke] || (this[worldStroke] = {})); return this[worldStroke]; }\n    get a() { return 1; }\n    get b() { return 0; }\n    get c() { return 0; }\n    get d() { return 1; }\n    get e() { return this.leaf.__.x; }\n    get f() { return this.leaf.__.y; }\n    get x() { return this.e + this.boxBounds.x; }\n    get y() { return this.f + this.boxBounds.y; }\n    get width() { return this.boxBounds.width; }\n    get height() { return this.boxBounds.height; }\n    constructor(leaf) {\n        this.leaf = leaf;\n        this.boxBounds = { x: 0, y: 0, width: 0, height: 0 };\n        if (this.leaf.__local)\n            this._localRenderBounds = this._localStrokeBounds = this.leaf.__local;\n        this.boxChange();\n        this.matrixChange();\n    }\n    createLocal() {\n        const local = this.leaf.__local = { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0, x: 0, y: 0, width: 0, height: 0 };\n        if (!this._localStrokeBounds)\n            this._localStrokeBounds = local;\n        if (!this._localRenderBounds)\n            this._localRenderBounds = local;\n    }\n    update() {\n        const { leafer } = this.leaf;\n        if (leafer) {\n            if (leafer.ready) {\n                if (leafer.watcher.changed)\n                    leafer.layouter.layout();\n            }\n            else {\n                leafer.start();\n            }\n        }\n        else {\n            let root = this.leaf;\n            while (root.parent && !root.parent.leafer) {\n                root = root.parent;\n            }\n            Platform.layout(root);\n        }\n    }\n    getTransform(relative = 'world') {\n        this.update();\n        const { leaf } = this;\n        switch (relative) {\n            case 'world':\n                return leaf.__world;\n            case 'local':\n                return leaf.__localMatrix;\n            case 'inner':\n                return MatrixHelper.defaultMatrix;\n            case 'page':\n                relative = leaf.zoomLayer;\n            default:\n                return getRelativeWorld$1(leaf, relative);\n        }\n    }\n    getBounds(type, relative = 'world') {\n        this.update();\n        switch (relative) {\n            case 'world':\n                return this.getWorldBounds(type);\n            case 'local':\n                return this.getLocalBounds(type);\n            case 'inner':\n                return this.getInnerBounds(type);\n            case 'page':\n                relative = this.leaf.zoomLayer;\n            default:\n                return new Bounds(this.getInnerBounds(type)).toOuterOf(this.getTransform(relative));\n        }\n    }\n    getInnerBounds(type = 'box') {\n        switch (type) {\n            case 'render':\n                return this.renderBounds;\n            case 'content':\n                if (this.contentBounds)\n                    return this.contentBounds;\n            case 'box':\n                return this.boxBounds;\n            case 'stroke':\n                return this.strokeBounds;\n        }\n    }\n    getLocalBounds(type = 'box') {\n        switch (type) {\n            case 'render':\n                return this.localRenderBounds;\n            case 'stroke':\n                return this.localStrokeBounds;\n            case 'content':\n                if (this.contentBounds)\n                    return this.localContentBounds;\n            case 'box':\n                return this.leaf.__localBoxBounds;\n        }\n    }\n    getWorldBounds(type = 'box') {\n        switch (type) {\n            case 'render':\n                return this.leaf.__world;\n            case 'stroke':\n                return this.worldStrokeBounds;\n            case 'content':\n                if (this.contentBounds)\n                    return this.worldContentBounds;\n            case 'box':\n                return this.worldBoxBounds;\n        }\n    }\n    getLayoutBounds(type, relative = 'world', unscale) {\n        const { leaf } = this;\n        let point, matrix, bounds = this.getInnerBounds(type);\n        switch (relative) {\n            case 'world':\n                point = leaf.getWorldPoint(bounds);\n                matrix = leaf.__world;\n                break;\n            case 'local':\n                point = leaf.getLocalPointByInner(bounds);\n                matrix = leaf.__localMatrix;\n                break;\n            case 'inner':\n                point = bounds;\n                matrix = MatrixHelper.defaultMatrix;\n                break;\n            case 'page':\n                relative = leaf.zoomLayer;\n            default:\n                point = leaf.getWorldPoint(bounds, relative);\n                matrix = getRelativeWorld$1(leaf, relative, true);\n        }\n        const layoutBounds = MatrixHelper.getLayout(matrix);\n        copy$2(layoutBounds, bounds);\n        PointHelper.copy(layoutBounds, point);\n        if (unscale) {\n            const { scaleX, scaleY } = layoutBounds;\n            const uScaleX = Math.abs(scaleX);\n            const uScaleY = Math.abs(scaleY);\n            if (uScaleX !== 1 || uScaleY !== 1) {\n                layoutBounds.scaleX /= uScaleX;\n                layoutBounds.scaleY /= uScaleY;\n                layoutBounds.width *= uScaleX;\n                layoutBounds.height *= uScaleY;\n            }\n        }\n        return layoutBounds;\n    }\n    getLayoutPoints(type, relative = 'world') {\n        const { leaf } = this;\n        const points = getPoints(this.getInnerBounds(type));\n        let relativeLeaf;\n        switch (relative) {\n            case 'world':\n                relativeLeaf = null;\n                break;\n            case 'local':\n                relativeLeaf = leaf.parent;\n                break;\n            case 'inner':\n                break;\n            case 'page':\n                relative = leaf.zoomLayer;\n            default:\n                relativeLeaf = relative;\n        }\n        if (relativeLeaf !== undefined)\n            points.forEach(point => leaf.innerToWorld(point, null, false, relativeLeaf));\n        return points;\n    }\n    shrinkContent() {\n        const { x, y, width, height } = this.boxBounds;\n        this._contentBounds = { x, y, width, height };\n    }\n    spreadStroke() {\n        const { x, y, width, height } = this.strokeBounds;\n        this._strokeBounds = { x, y, width, height };\n        this._localStrokeBounds = { x, y, width, height };\n        if (!this.renderSpread)\n            this.spreadRenderCancel();\n    }\n    spreadRender() {\n        const { x, y, width, height } = this.renderBounds;\n        this._renderBounds = { x, y, width, height };\n        this._localRenderBounds = { x, y, width, height };\n    }\n    shrinkContentCancel() {\n        this._contentBounds = undefined;\n    }\n    spreadStrokeCancel() {\n        const same = this.renderBounds === this.strokeBounds;\n        this._strokeBounds = this.boxBounds;\n        this._localStrokeBounds = this.leaf.__localBoxBounds;\n        if (same)\n            this.spreadRenderCancel();\n    }\n    spreadRenderCancel() {\n        this._renderBounds = this._strokeBounds;\n        this._localRenderBounds = this._localStrokeBounds;\n    }\n    boxChange() {\n        this.boxChanged = true;\n        this.localBoxChanged || this.localBoxChange();\n        this.hitCanvasChanged = true;\n    }\n    localBoxChange() {\n        this.localBoxChanged = true;\n        this.boundsChanged = true;\n    }\n    strokeChange() {\n        this.strokeChanged = true;\n        this.strokeSpread || (this.strokeSpread = 1);\n        this.boundsChanged = true;\n        this.hitCanvasChanged = true;\n    }\n    renderChange() {\n        this.renderChanged = true;\n        this.renderSpread || (this.renderSpread = 1);\n        this.boundsChanged = true;\n    }\n    scaleChange() {\n        this.scaleChanged = true;\n        this._scaleOrRotationChange();\n    }\n    rotationChange() {\n        this.rotationChanged = true;\n        this.affectRotation = true;\n        this._scaleOrRotationChange();\n    }\n    _scaleOrRotationChange() {\n        this.affectScaleOrRotation = true;\n        this.matrixChange();\n        if (!this.leaf.__local)\n            this.createLocal();\n    }\n    matrixChange() {\n        this.matrixChanged = true;\n        this.localBoxChanged || this.localBoxChange();\n    }\n    surfaceChange() {\n        this.surfaceChanged = true;\n    }\n    opacityChange() {\n        this.opacityChanged = true;\n        this.surfaceChanged || this.surfaceChange();\n    }\n    childrenSortChange() {\n        if (!this.childrenSortChanged) {\n            this.childrenSortChanged = true;\n            this.leaf.forceUpdate('surface');\n        }\n    }\n    destroy() { }\n}\n\nconst empty = {};\nconst LeafEventer = {\n    on(type, listener, options) {\n        let capture, once;\n        if (options) {\n            if (typeof options === 'boolean') {\n                capture = options;\n            }\n            else {\n                capture = options.capture;\n                once = options.once;\n            }\n        }\n        let events;\n        const map = __getListenerMap(this, capture, true);\n        const typeList = typeof type === 'string' ? type.split(' ') : type;\n        const item = once ? { listener, once } : { listener };\n        typeList.forEach(type => {\n            if (type) {\n                events = map[type];\n                if (events) {\n                    if (events.findIndex(item => item.listener === listener) === -1)\n                        events.push(item);\n                }\n                else {\n                    map[type] = [item];\n                }\n            }\n        });\n    },\n    off(type, listener, options) {\n        if (type) {\n            const typeList = typeof type === 'string' ? type.split(' ') : type;\n            if (listener) {\n                let capture;\n                if (options)\n                    capture = typeof options === 'boolean' ? options : options.capture;\n                let events, index;\n                const map = __getListenerMap(this, capture);\n                typeList.forEach(type => {\n                    if (type) {\n                        events = map[type];\n                        if (events) {\n                            index = events.findIndex(item => item.listener === listener);\n                            if (index > -1)\n                                events.splice(index, 1);\n                            if (!events.length)\n                                delete map[type];\n                        }\n                    }\n                });\n            }\n            else {\n                const { __bubbleMap: b, __captureMap: c } = this;\n                typeList.forEach(type => {\n                    if (b)\n                        delete b[type];\n                    if (c)\n                        delete c[type];\n                });\n            }\n        }\n        else {\n            this.__bubbleMap = this.__captureMap = undefined;\n        }\n    },\n    on_(type, listener, bind, options) {\n        if (bind)\n            listener = listener.bind(bind);\n        this.on(type, listener, options);\n        return { type, current: this, listener, options };\n    },\n    off_(id) {\n        if (!id)\n            return;\n        const list = id instanceof Array ? id : [id];\n        list.forEach(item => item.current.off(item.type, item.listener, item.options));\n        list.length = 0;\n    },\n    once(type, listener, capture) {\n        this.on(type, listener, { once: true, capture });\n    },\n    emit(type, event, capture) {\n        if (!event && EventCreator.has(type))\n            event = EventCreator.get(type, { type, target: this, current: this });\n        const map = __getListenerMap(this, capture);\n        const list = map[type];\n        if (list) {\n            let item;\n            for (let i = 0, len = list.length; i < len; i++) {\n                item = list[i];\n                item.listener(event);\n                if (item.once) {\n                    this.off(type, item.listener, capture);\n                    i--, len--;\n                }\n                if (event && event.isStopNow)\n                    break;\n            }\n        }\n        this.syncEventer && this.syncEventer.emitEvent(event, capture);\n    },\n    emitEvent(event, capture) {\n        event.current = this;\n        this.emit(event.type, event, capture);\n    },\n    hasEvent(type, capture) {\n        if (this.syncEventer && this.syncEventer.hasEvent(type, capture))\n            return true;\n        const { __bubbleMap: b, __captureMap: c } = this;\n        const hasB = b && b[type], hasC = c && c[type];\n        return !!(capture === undefined ? (hasB || hasC) : (capture ? hasC : hasB));\n    },\n};\nfunction __getListenerMap(eventer, capture, create) {\n    if (capture) {\n        const { __captureMap: c } = eventer;\n        if (c) {\n            return c;\n        }\n        else {\n            return create ? eventer.__captureMap = {} : empty;\n        }\n    }\n    else {\n        const { __bubbleMap: b } = eventer;\n        if (b) {\n            return b;\n        }\n        else {\n            return create ? eventer.__bubbleMap = {} : empty;\n        }\n    }\n}\n\nclass Event {\n    constructor(type, target) {\n        this.bubbles = false;\n        this.type = type;\n        if (target)\n            this.target = target;\n    }\n    stopDefault() {\n        this.isStopDefault = true;\n        if (this.origin)\n            Platform.event.stopDefault(this.origin);\n    }\n    stopNow() {\n        this.isStopNow = true;\n        this.isStop = true;\n        if (this.origin)\n            Platform.event.stopNow(this.origin);\n    }\n    stop() {\n        this.isStop = true;\n        if (this.origin)\n            Platform.event.stop(this.origin);\n    }\n}\n\nclass ChildEvent extends Event {\n    constructor(type, child, parent) {\n        super(type, child);\n        this.parent = parent;\n        this.child = child;\n    }\n}\nChildEvent.ADD = 'child.add';\nChildEvent.REMOVE = 'child.remove';\nChildEvent.DESTROY = 'child.destroy';\n\nclass PropertyEvent extends Event {\n    constructor(type, target, attrName, oldValue, newValue) {\n        super(type, target);\n        this.attrName = attrName;\n        this.oldValue = oldValue;\n        this.newValue = newValue;\n    }\n}\nPropertyEvent.CHANGE = 'property.change';\nPropertyEvent.LEAFER_CHANGE = 'property.leafer_change';\n\nclass ImageEvent extends Event {\n    constructor(type, data) {\n        super(type);\n        Object.assign(this, data);\n    }\n}\nImageEvent.LOAD = 'image.load';\nImageEvent.LOADED = 'image.loaded';\nImageEvent.ERROR = 'image.error';\n\nclass ResizeEvent extends Event {\n    get bigger() {\n        if (!this.old)\n            return true;\n        const { width, height } = this.old;\n        return this.width >= width && this.height >= height;\n    }\n    get smaller() {\n        return !this.bigger;\n    }\n    get samePixelRatio() {\n        if (!this.old)\n            return true;\n        return this.pixelRatio === this.old.pixelRatio;\n    }\n    constructor(size, oldSize) {\n        if (typeof size === 'object') {\n            super(ResizeEvent.RESIZE);\n            Object.assign(this, size);\n        }\n        else {\n            super(size);\n        }\n        this.old = oldSize;\n    }\n}\nResizeEvent.RESIZE = 'resize';\n\nclass WatchEvent extends Event {\n    constructor(type, data) {\n        super(type);\n        this.data = data;\n    }\n}\nWatchEvent.REQUEST = 'watch.request';\nWatchEvent.DATA = 'watch.data';\n\nclass LayoutEvent extends Event {\n    constructor(type, data, times) {\n        super(type);\n        if (data) {\n            this.data = data;\n            this.times = times;\n        }\n    }\n}\nLayoutEvent.CHECK_UPDATE = 'layout.check_update';\nLayoutEvent.REQUEST = 'layout.request';\nLayoutEvent.START = 'layout.start';\nLayoutEvent.BEFORE = 'layout.before';\nLayoutEvent.LAYOUT = 'layout';\nLayoutEvent.AFTER = 'layout.after';\nLayoutEvent.AGAIN = 'layout.again';\nLayoutEvent.END = 'layout.end';\n\nclass AnimateEvent extends Event {\n}\nAnimateEvent.FRAME = 'animate.frame';\n\nclass RenderEvent extends Event {\n    constructor(type, times, bounds, options) {\n        super(type);\n        if (times)\n            this.times = times;\n        if (bounds) {\n            this.renderBounds = bounds;\n            this.renderOptions = options;\n        }\n    }\n}\nRenderEvent.REQUEST = 'render.request';\nRenderEvent.START = 'render.start';\nRenderEvent.BEFORE = 'render.before';\nRenderEvent.RENDER = 'render';\nRenderEvent.AFTER = 'render.after';\nRenderEvent.AGAIN = 'render.again';\nRenderEvent.END = 'render.end';\nRenderEvent.NEXT = 'render.next';\n\nclass LeaferEvent extends Event {\n}\nLeaferEvent.START = 'leafer.start';\nLeaferEvent.BEFORE_READY = 'leafer.before_ready';\nLeaferEvent.READY = 'leafer.ready';\nLeaferEvent.AFTER_READY = 'leafer.after_ready';\nLeaferEvent.VIEW_READY = 'leafer.view_ready';\nLeaferEvent.VIEW_COMPLETED = 'leafer.view_completed';\nLeaferEvent.STOP = 'leafer.stop';\nLeaferEvent.RESTART = 'leafer.restart';\nLeaferEvent.END = 'leafer.end';\n\nconst { isFinite } = Number;\nconst debug = Debug.get('setAttr');\nconst LeafDataProxy = {\n    __setAttr(name, newValue, checkFiniteNumber) {\n        if (this.leafer && this.leafer.created) {\n            const oldValue = this.__.__getInput(name);\n            if (checkFiniteNumber && !isFinite(newValue) && newValue !== undefined) {\n                debug.warn(this.innerName, name, newValue);\n                newValue = undefined;\n            }\n            if (typeof newValue === 'object' || oldValue !== newValue) {\n                this.__[name] = newValue;\n                if (this.__proxyData)\n                    this.setProxyAttr(name, newValue);\n                const { CHANGE } = PropertyEvent;\n                const event = new PropertyEvent(CHANGE, this, name, oldValue, newValue);\n                if (this.isLeafer) {\n                    this.emitEvent(new PropertyEvent(PropertyEvent.LEAFER_CHANGE, this, name, oldValue, newValue));\n                }\n                else {\n                    if (this.hasEvent(CHANGE))\n                        this.emitEvent(event);\n                }\n                this.leafer.emitEvent(event);\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            this.__[name] = newValue;\n            if (this.__proxyData)\n                this.setProxyAttr(name, newValue);\n            return true;\n        }\n    },\n    __getAttr(name) {\n        if (this.__proxyData)\n            return this.getProxyAttr(name);\n        return this.__.__get(name);\n    }\n};\n\nconst { setLayout, multiplyParent: multiplyParent$1, translateInner, defaultWorld } = MatrixHelper;\nconst { toPoint, tempPoint } = AroundHelper;\nconst LeafMatrix = {\n    __updateWorldMatrix() {\n        multiplyParent$1(this.__local || this.__layout, this.parent ? this.parent.__world : defaultWorld, this.__world, !!this.__layout.affectScaleOrRotation, this.__, this.parent && this.parent.__);\n    },\n    __updateLocalMatrix() {\n        if (this.__local) {\n            const layout = this.__layout, local = this.__local, data = this.__;\n            if (layout.affectScaleOrRotation) {\n                if (layout.scaleChanged || layout.rotationChanged) {\n                    setLayout(local, data, null, layout.affectRotation);\n                    layout.scaleChanged = layout.rotationChanged = false;\n                }\n            }\n            local.e = data.x + data.offsetX;\n            local.f = data.y + data.offsetY;\n            if (data.around || data.origin) {\n                toPoint(data.around || data.origin, layout.boxBounds, tempPoint);\n                translateInner(local, -tempPoint.x, -tempPoint.y, data.origin);\n            }\n        }\n        this.__layout.matrixChanged = false;\n    }\n};\n\nconst { updateMatrix, updateAllMatrix } = LeafHelper;\nconst { updateBounds } = BranchHelper;\nconst { toOuterOf: toOuterOf$1, copyAndSpread, copy: copy$1 } = BoundsHelper;\nconst { toBounds } = PathBounds;\nconst LeafBounds = {\n    __updateWorldBounds() {\n        toOuterOf$1(this.__layout.renderBounds, this.__world, this.__world);\n        if (this.__layout.resized) {\n            this.__onUpdateSize();\n            this.__layout.resized = false;\n        }\n    },\n    __updateLocalBounds() {\n        const layout = this.__layout;\n        if (layout.boxChanged) {\n            if (!this.__.__pathInputed)\n                this.__updatePath();\n            this.__updateRenderPath();\n            this.__updateBoxBounds();\n            layout.resized = true;\n        }\n        if (layout.localBoxChanged) {\n            if (this.__local)\n                this.__updateLocalBoxBounds();\n            layout.localBoxChanged = false;\n            if (layout.strokeSpread)\n                layout.strokeChanged = true;\n            if (layout.renderSpread)\n                layout.renderChanged = true;\n            if (this.parent)\n                this.parent.__layout.boxChange();\n        }\n        layout.boxChanged = false;\n        if (layout.strokeChanged) {\n            layout.strokeSpread = this.__updateStrokeSpread();\n            if (layout.strokeSpread) {\n                if (layout.strokeBounds === layout.boxBounds)\n                    layout.spreadStroke();\n                this.__updateStrokeBounds();\n                this.__updateLocalStrokeBounds();\n            }\n            else {\n                layout.spreadStrokeCancel();\n            }\n            layout.strokeChanged = false;\n            if (layout.renderSpread || layout.strokeSpread !== layout.strokeBoxSpread)\n                layout.renderChanged = true;\n            if (this.parent)\n                this.parent.__layout.strokeChange();\n            layout.resized = true;\n        }\n        if (layout.renderChanged) {\n            layout.renderSpread = this.__updateRenderSpread();\n            if (layout.renderSpread) {\n                if (layout.renderBounds === layout.boxBounds || layout.renderBounds === layout.strokeBounds)\n                    layout.spreadRender();\n                this.__updateRenderBounds();\n                this.__updateLocalRenderBounds();\n            }\n            else {\n                layout.spreadRenderCancel();\n            }\n            layout.renderChanged = false;\n            if (this.parent)\n                this.parent.__layout.renderChange();\n        }\n        layout.boundsChanged = false;\n    },\n    __updateLocalBoxBounds() {\n        if (this.__hasAutoLayout)\n            this.__updateAutoLayout();\n        toOuterOf$1(this.__layout.boxBounds, this.__local, this.__local);\n    },\n    __updateLocalStrokeBounds() {\n        toOuterOf$1(this.__layout.strokeBounds, this.__localMatrix, this.__layout.localStrokeBounds);\n    },\n    __updateLocalRenderBounds() {\n        toOuterOf$1(this.__layout.renderBounds, this.__localMatrix, this.__layout.localRenderBounds);\n    },\n    __updateBoxBounds() {\n        const b = this.__layout.boxBounds;\n        const data = this.__;\n        if (data.__pathInputed) {\n            toBounds(data.__pathForRender, b);\n        }\n        else {\n            b.x = 0;\n            b.y = 0;\n            b.width = data.width;\n            b.height = data.height;\n        }\n    },\n    __updateAutoLayout() {\n        this.__layout.matrixChanged = true;\n        if (this.isBranch) {\n            if (this.leafer && this.leafer.ready)\n                this.leafer.layouter.addExtra(this);\n            if (this.__.flow) {\n                if (this.__layout.boxChanged)\n                    this.__updateFlowLayout();\n                updateAllMatrix(this);\n                updateBounds(this, this);\n                if (this.__.__autoSide)\n                    this.__updateBoxBounds();\n            }\n            else {\n                updateAllMatrix(this);\n                updateBounds(this, this);\n            }\n        }\n        else {\n            updateMatrix(this);\n        }\n    },\n    __updateNaturalSize() {\n        const { __: data, __layout: layout } = this;\n        data.__naturalWidth = layout.boxBounds.width;\n        data.__naturalHeight = layout.boxBounds.height;\n    },\n    __updateStrokeBounds() {\n        const layout = this.__layout;\n        copyAndSpread(layout.strokeBounds, layout.boxBounds, layout.strokeBoxSpread);\n    },\n    __updateRenderBounds() {\n        const layout = this.__layout;\n        layout.renderSpread > 0 ? copyAndSpread(layout.renderBounds, layout.boxBounds, layout.renderSpread) : copy$1(layout.renderBounds, layout.strokeBounds);\n    }\n};\n\nconst LeafRender = {\n    __render(canvas, options) {\n        if (this.__worldOpacity) {\n            canvas.setWorld(this.__nowWorld = this.__getNowWorld(options));\n            canvas.opacity = this.__.opacity;\n            if (this.__.__single) {\n                if (this.__.eraser === 'path')\n                    return this.__renderEraser(canvas, options);\n                const tempCanvas = canvas.getSameCanvas(true, true);\n                this.__draw(tempCanvas, options);\n                if (this.__worldFlipped) {\n                    canvas.copyWorldByReset(tempCanvas, this.__nowWorld, null, this.__.__blendMode, true);\n                }\n                else {\n                    canvas.copyWorldToInner(tempCanvas, this.__nowWorld, this.__layout.renderBounds, this.__.__blendMode);\n                }\n                tempCanvas.recycle(this.__nowWorld);\n            }\n            else {\n                this.__draw(canvas, options);\n            }\n        }\n    },\n    __clip(canvas, options) {\n        if (this.__worldOpacity) {\n            canvas.setWorld(this.__nowWorld = this.__getNowWorld(options));\n            this.__drawRenderPath(canvas);\n            this.__.windingRule ? canvas.clip(this.__.windingRule) : canvas.clip();\n        }\n    },\n    __updateWorldOpacity() {\n        this.__worldOpacity = this.__.visible ? (this.parent ? this.parent.__worldOpacity * this.__.opacity : this.__.opacity) : 0;\n        if (this.__layout.opacityChanged)\n            this.__layout.opacityChanged = false;\n    }\n};\n\nconst { excludeRenderBounds } = LeafBoundsHelper;\nconst BranchRender = {\n    __updateChange() {\n        const { __layout: layout } = this;\n        if (layout.childrenSortChanged) {\n            this.__updateSortChildren();\n            layout.childrenSortChanged = false;\n        }\n        this.__.__checkSingle();\n    },\n    __render(canvas, options) {\n        if (this.__worldOpacity) {\n            if (this.__.__single) {\n                if (this.__.eraser === 'path')\n                    return this.__renderEraser(canvas, options);\n                const tempCanvas = canvas.getSameCanvas(false, true);\n                this.__renderBranch(tempCanvas, options);\n                const nowWorld = this.__getNowWorld(options);\n                canvas.opacity = this.__.opacity;\n                canvas.copyWorldByReset(tempCanvas, nowWorld, nowWorld, this.__.__blendMode, true);\n                tempCanvas.recycle(nowWorld);\n            }\n            else {\n                this.__renderBranch(canvas, options);\n            }\n        }\n    },\n    __renderBranch(canvas, options) {\n        if (this.__hasMask) {\n            this.__renderMask(canvas, options);\n        }\n        else {\n            const { children } = this;\n            for (let i = 0, len = children.length; i < len; i++) {\n                if (excludeRenderBounds(children[i], options))\n                    continue;\n                children[i].__render(canvas, options);\n            }\n        }\n    },\n    __clip(canvas, options) {\n        if (this.__worldOpacity) {\n            const { children } = this;\n            for (let i = 0, len = children.length; i < len; i++) {\n                if (excludeRenderBounds(children[i], options))\n                    continue;\n                children[i].__clip(canvas, options);\n            }\n        }\n    }\n};\n\nconst { LEAF, create } = IncrementId;\nconst { toInnerPoint, toOuterPoint, multiplyParent } = MatrixHelper;\nconst { toOuterOf } = BoundsHelper;\nconst { copy } = PointHelper;\nconst { moveLocal, zoomOfLocal, rotateOfLocal, skewOfLocal, moveWorld, zoomOfWorld, rotateOfWorld, skewOfWorld, transform, transformWorld, setTransform, getLocalOrigin, getRelativeWorld, drop } = LeafHelper;\nlet Leaf = class Leaf {\n    get tag() { return this.__tag; }\n    set tag(_value) { }\n    get __tag() { return 'Leaf'; }\n    get innerName() { return this.__.name || this.tag + this.innerId; }\n    get __DataProcessor() { return LeafData; }\n    get __LayoutProcessor() { return LeafLayout; }\n    get isLeafer() { return false; }\n    get isBranch() { return false; }\n    get isBranchLeaf() { return false; }\n    get __localMatrix() { return this.__local || this.__layout; }\n    get __localBoxBounds() { return this.__local || this.__layout; }\n    get worldTransform() { return this.__layout.getTransform('world'); }\n    get localTransform() { return this.__layout.getTransform('local'); }\n    get boxBounds() { return this.getBounds('box', 'inner'); }\n    get renderBounds() { return this.getBounds('render', 'inner'); }\n    get worldBoxBounds() { return this.getBounds('box'); }\n    get worldStrokeBounds() { return this.getBounds('stroke'); }\n    get worldRenderBounds() { return this.getBounds('render'); }\n    get worldOpacity() { this.__layout.update(); return this.__worldOpacity; }\n    get __worldFlipped() { return this.__world.scaleX < 0 || this.__world.scaleY < 0; }\n    get __onlyHitMask() { return this.__hasMask && !this.__.hitChildren; }\n    get __ignoreHitWorld() { return (this.__hasMask || this.__hasEraser) && this.__.hitChildren; }\n    get __inLazyBounds() { const { leafer } = this; return leafer && leafer.created && leafer.lazyBounds.hit(this.__world); }\n    get pathInputed() { return this.__.__pathInputed; }\n    constructor(data) {\n        this.innerId = create(LEAF);\n        this.reset(data);\n    }\n    reset(data) {\n        this.__world = { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0, x: 0, y: 0, width: 0, height: 0, scaleX: 1, scaleY: 1 };\n        if (data !== null)\n            this.__local = { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0, x: 0, y: 0, width: 0, height: 0 };\n        this.__worldOpacity = 1;\n        this.__ = new this.__DataProcessor(this);\n        this.__layout = new this.__LayoutProcessor(this);\n        if (this.__level)\n            this.resetCustom();\n        if (data) {\n            if (data.__)\n                data = data.toJSON();\n            data.children ? this.set(data) : Object.assign(this, data);\n        }\n    }\n    resetCustom() {\n        this.__hasMask = this.__hasEraser = null;\n        this.forceUpdate();\n    }\n    waitParent(item, bind) {\n        if (bind)\n            item = item.bind(bind);\n        this.parent ? item() : (this.__parentWait ? this.__parentWait.push(item) : this.__parentWait = [item]);\n    }\n    waitLeafer(item, bind) {\n        if (bind)\n            item = item.bind(bind);\n        this.leafer ? item() : (this.__leaferWait ? this.__leaferWait.push(item) : this.__leaferWait = [item]);\n    }\n    nextRender(item, bind, off) {\n        this.leafer ? this.leafer.nextRender(item, bind, off) : this.waitLeafer(() => this.leafer.nextRender(item, bind, off));\n    }\n    removeNextRender(item) {\n        this.nextRender(item, null, 'off');\n    }\n    __bindLeafer(leafer) {\n        if (this.isLeafer) {\n            if (leafer !== null)\n                leafer = this;\n        }\n        if (this.leafer && !leafer)\n            this.leafer.leafs--;\n        this.leafer = leafer;\n        if (leafer) {\n            leafer.leafs++;\n            this.__level = this.parent ? this.parent.__level + 1 : 1;\n            if (this.__leaferWait)\n                WaitHelper.run(this.__leaferWait);\n        }\n        if (this.isBranch) {\n            const { children } = this;\n            for (let i = 0, len = children.length; i < len; i++) {\n                children[i].__bindLeafer(leafer);\n            }\n        }\n    }\n    set(_data) { }\n    get(_name) { return undefined; }\n    setAttr(name, value) { this[name] = value; }\n    getAttr(name) { return this[name]; }\n    getComputedAttr(name) { return this.__[name]; }\n    toJSON(options) {\n        if (options)\n            this.__layout.update();\n        return this.__.__getInputData(null, options);\n    }\n    toString(options) {\n        return JSON.stringify(this.toJSON(options));\n    }\n    toSVG() { return undefined; }\n    __SVG(_data) { }\n    toHTML() { return undefined; }\n    __setAttr(_attrName, _newValue) { return true; }\n    __getAttr(_attrName) { return undefined; }\n    setProxyAttr(_attrName, _newValue) { }\n    getProxyAttr(_attrName) { return undefined; }\n    find(_condition, _options) { return undefined; }\n    findTag(_tag) { return undefined; }\n    findOne(_condition, _options) { return undefined; }\n    findId(_id) { return undefined; }\n    focus(_value) { }\n    updateLayout() {\n        this.__layout.update();\n    }\n    forceUpdate(attrName) {\n        if (attrName === undefined)\n            attrName = 'width';\n        else if (attrName === 'surface')\n            attrName = 'blendMode';\n        const value = this.__.__getInput(attrName);\n        this.__[attrName] = value === undefined ? null : undefined;\n        this[attrName] = value;\n    }\n    forceRender(_bounds) {\n        this.forceUpdate('surface');\n    }\n    __updateWorldMatrix() { }\n    __updateLocalMatrix() { }\n    __updateWorldBounds() { }\n    __updateLocalBounds() { }\n    __updateLocalBoxBounds() { }\n    __updateLocalStrokeBounds() { }\n    __updateLocalRenderBounds() { }\n    __updateBoxBounds() { }\n    __updateContentBounds() { }\n    __updateStrokeBounds() { }\n    __updateRenderBounds() { }\n    __updateAutoLayout() { }\n    __updateFlowLayout() { }\n    __updateNaturalSize() { }\n    __updateStrokeSpread() { return 0; }\n    __updateRenderSpread() { return 0; }\n    __onUpdateSize() { }\n    __updateEraser(value) {\n        this.__hasEraser = value ? true : this.children.some(item => item.__.eraser);\n    }\n    __renderEraser(canvas, options) {\n        canvas.save();\n        this.__clip(canvas, options);\n        const { renderBounds: r } = this.__layout;\n        canvas.clearRect(r.x, r.y, r.width, r.height);\n        canvas.restore();\n    }\n    __updateMask(value) {\n        this.__hasMask = value ? true : this.children.some(item => item.__.mask);\n    }\n    __renderMask(_canvas, _options) { }\n    __getNowWorld(options) {\n        if (options.matrix) {\n            if (!this.__cameraWorld)\n                this.__cameraWorld = {};\n            const cameraWorld = this.__cameraWorld;\n            multiplyParent(this.__world, options.matrix, cameraWorld, undefined, this.__world);\n            toOuterOf(this.__layout.renderBounds, cameraWorld, cameraWorld);\n            return cameraWorld;\n        }\n        else {\n            return this.__world;\n        }\n    }\n    getTransform(relative) {\n        return this.__layout.getTransform(relative || 'local');\n    }\n    getBounds(type, relative) {\n        return this.__layout.getBounds(type, relative);\n    }\n    getLayoutBounds(type, relative, unscale) {\n        return this.__layout.getLayoutBounds(type, relative, unscale);\n    }\n    getLayoutPoints(type, relative) {\n        return this.__layout.getLayoutPoints(type, relative);\n    }\n    getWorldBounds(inner, relative, change) {\n        const matrix = relative ? getRelativeWorld(this, relative) : this.worldTransform;\n        const to = change ? inner : {};\n        toOuterOf(inner, matrix, to);\n        return to;\n    }\n    worldToLocal(world, to, distance, relative) {\n        if (this.parent) {\n            this.parent.worldToInner(world, to, distance, relative);\n        }\n        else {\n            if (to)\n                copy(to, world);\n        }\n    }\n    localToWorld(local, to, distance, relative) {\n        if (this.parent) {\n            this.parent.innerToWorld(local, to, distance, relative);\n        }\n        else {\n            if (to)\n                copy(to, local);\n        }\n    }\n    worldToInner(world, to, distance, relative) {\n        if (relative) {\n            relative.innerToWorld(world, to, distance);\n            world = to ? to : world;\n        }\n        toInnerPoint(this.worldTransform, world, to, distance);\n    }\n    innerToWorld(inner, to, distance, relative) {\n        toOuterPoint(this.worldTransform, inner, to, distance);\n        if (relative)\n            relative.worldToInner(to ? to : inner, null, distance);\n    }\n    getInnerPoint(world, relative, distance, change) {\n        const point = change ? world : {};\n        this.worldToInner(world, point, distance, relative);\n        return point;\n    }\n    getInnerPointByLocal(local, _relative, distance, change) {\n        return this.getInnerPoint(local, this.parent, distance, change);\n    }\n    getLocalPoint(world, relative, distance, change) {\n        const point = change ? world : {};\n        this.worldToLocal(world, point, distance, relative);\n        return point;\n    }\n    getLocalPointByInner(inner, _relative, distance, change) {\n        return this.getWorldPoint(inner, this.parent, distance, change);\n    }\n    getWorldPoint(inner, relative, distance, change) {\n        const point = change ? inner : {};\n        this.innerToWorld(inner, point, distance, relative);\n        return point;\n    }\n    getWorldPointByLocal(local, relative, distance, change) {\n        const point = change ? local : {};\n        this.localToWorld(local, point, distance, relative);\n        return point;\n    }\n    getPagePoint(world, relative, distance, change) {\n        const layer = this.leafer ? this.leafer.zoomLayer : this;\n        return layer.getInnerPoint(world, relative, distance, change);\n    }\n    getWorldPointByPage(page, relative, distance, change) {\n        const layer = this.leafer ? this.leafer.zoomLayer : this;\n        return layer.getWorldPoint(page, relative, distance, change);\n    }\n    setTransform(matrix, resize) {\n        setTransform(this, matrix, resize);\n    }\n    transform(matrix, resize) {\n        transform(this, matrix, resize);\n    }\n    move(x, y) {\n        moveLocal(this, x, y);\n    }\n    scaleOf(origin, scaleX, scaleY, resize) {\n        zoomOfLocal(this, getLocalOrigin(this, origin), scaleX, scaleY, resize);\n    }\n    rotateOf(origin, rotation) {\n        rotateOfLocal(this, getLocalOrigin(this, origin), rotation);\n    }\n    skewOf(origin, skewX, skewY, resize) {\n        skewOfLocal(this, getLocalOrigin(this, origin), skewX, skewY, resize);\n    }\n    transformWorld(worldTransform, resize) {\n        transformWorld(this, worldTransform, resize);\n    }\n    moveWorld(x, y) {\n        moveWorld(this, x, y);\n    }\n    scaleOfWorld(worldOrigin, scaleX, scaleY, resize) {\n        zoomOfWorld(this, worldOrigin, scaleX, scaleY, resize);\n    }\n    rotateOfWorld(worldOrigin, rotation) {\n        rotateOfWorld(this, worldOrigin, rotation);\n    }\n    skewOfWorld(worldOrigin, skewX, skewY, resize) {\n        skewOfWorld(this, worldOrigin, skewX, skewY, resize);\n    }\n    scaleResize(scaleX, scaleY = scaleX, _noResize) {\n        this.scaleX *= scaleX;\n        this.scaleY *= scaleY;\n    }\n    __scaleResize(_scaleX, _scaleY) { }\n    resizeWidth(_width) { }\n    resizeHeight(_height) { }\n    __hitWorld(_point) { return true; }\n    __hit(_local) { return true; }\n    __hitFill(_inner) { return true; }\n    __hitStroke(_inner, _strokeWidth) { return true; }\n    __hitPixel(_inner) { return true; }\n    __drawHitPath(_canvas) { }\n    __updateHitCanvas() { }\n    __render(_canvas, _options) { }\n    __drawFast(_canvas, _options) { }\n    __draw(_canvas, _options) { }\n    __clip(_canvas, _options) { }\n    __renderShape(_canvas, _options, _ignoreFill, _ignoreStroke) { }\n    __updateWorldOpacity() { }\n    __updateChange() { }\n    __drawPath(_canvas) { }\n    __drawRenderPath(_canvas) { }\n    __updatePath() { }\n    __updateRenderPath() { }\n    __updateSortChildren() { }\n    add(_child, _index) { }\n    remove(_child, destroy) {\n        if (this.parent)\n            this.parent.remove(this, destroy);\n    }\n    dropTo(parent, index, resize) {\n        drop(this, parent, index, resize);\n    }\n    on(_type, _listener, _options) { }\n    off(_type, _listener, _options) { }\n    on_(_type, _listener, _bind, _options) { return undefined; }\n    off_(_id) { }\n    once(_type, _listener, _capture) { }\n    emit(_type, _event, _capture) { }\n    emitEvent(_event, _capture) { }\n    hasEvent(_type, _capture) { return false; }\n    static changeAttr(attrName, defaultValue, fn) {\n        fn ? this.addAttr(attrName, defaultValue, fn) : defineDataProcessor(this.prototype, attrName, defaultValue);\n    }\n    static addAttr(attrName, defaultValue, fn) {\n        if (!fn)\n            fn = boundsType;\n        fn(defaultValue)(this.prototype, attrName);\n    }\n    destroy() {\n        if (!this.destroyed) {\n            const { parent } = this;\n            if (parent)\n                this.remove();\n            if (this.children)\n                this.removeAll(true);\n            if (this.hasEvent(ChildEvent.DESTROY))\n                this.emitEvent(new ChildEvent(ChildEvent.DESTROY, this, parent));\n            this.__.destroy();\n            this.__layout.destroy();\n            this.__captureMap = this.__bubbleMap = this.__parentWait = this.__leaferWait = null;\n            this.destroyed = true;\n        }\n    }\n};\nLeaf = __decorate([\n    useModule(LeafDataProxy),\n    useModule(LeafMatrix),\n    useModule(LeafBounds),\n    useModule(LeafEventer),\n    useModule(LeafRender)\n], Leaf);\n\nconst { setListWithFn } = BoundsHelper;\nconst { sort } = BranchHelper;\nconst { localBoxBounds, localStrokeBounds, localRenderBounds, maskLocalBoxBounds, maskLocalStrokeBounds, maskLocalRenderBounds } = LeafBoundsHelper;\nlet Branch = class Branch extends Leaf {\n    __updateStrokeSpread() {\n        const { children } = this;\n        for (let i = 0, len = children.length; i < len; i++) {\n            if (children[i].__layout.strokeSpread)\n                return 1;\n        }\n        return 0;\n    }\n    __updateRenderSpread() {\n        const { children } = this;\n        for (let i = 0, len = children.length; i < len; i++) {\n            if (children[i].__layout.renderSpread)\n                return 1;\n        }\n        return 0;\n    }\n    __updateBoxBounds() {\n        setListWithFn(this.__layout.boxBounds, this.children, this.__hasMask ? maskLocalBoxBounds : localBoxBounds);\n    }\n    __updateStrokeBounds() {\n        setListWithFn(this.__layout.strokeBounds, this.children, this.__hasMask ? maskLocalStrokeBounds : localStrokeBounds);\n    }\n    __updateRenderBounds() {\n        setListWithFn(this.__layout.renderBounds, this.children, this.__hasMask ? maskLocalRenderBounds : localRenderBounds);\n    }\n    __updateSortChildren() {\n        let affectSort;\n        const { children } = this;\n        if (children.length > 1) {\n            for (let i = 0, len = children.length; i < len; i++) {\n                children[i].__tempNumber = i;\n                if (children[i].__.zIndex)\n                    affectSort = true;\n            }\n            children.sort(sort);\n            this.__layout.affectChildrenSort = affectSort;\n        }\n    }\n    add(child, index) {\n        if (child === this)\n            return;\n        if (child.parent)\n            child.parent.remove(child);\n        child.parent = this;\n        index === undefined ? this.children.push(child) : this.children.splice(index, 0, child);\n        if (child.isBranch)\n            this.__.__childBranchNumber = (this.__.__childBranchNumber || 0) + 1;\n        child.__layout.boxChanged || child.__layout.boxChange();\n        child.__layout.matrixChanged || child.__layout.matrixChange();\n        if (child.__parentWait)\n            WaitHelper.run(child.__parentWait);\n        if (this.leafer) {\n            child.__bindLeafer(this.leafer);\n            if (this.leafer.created)\n                this.__emitChildEvent(ChildEvent.ADD, child);\n        }\n        this.__layout.affectChildrenSort && this.__layout.childrenSortChange();\n    }\n    addMany(...children) {\n        children.forEach(child => this.add(child));\n    }\n    remove(child, destroy) {\n        if (child) {\n            const index = this.children.indexOf(child);\n            if (index > -1) {\n                this.children.splice(index, 1);\n                if (child.isBranch)\n                    this.__.__childBranchNumber = (this.__.__childBranchNumber || 1) - 1;\n                this.__preRemove();\n                this.__realRemoveChild(child);\n                if (destroy)\n                    child.destroy();\n            }\n        }\n        else if (child === undefined) {\n            super.remove(null, destroy);\n        }\n    }\n    removeAll(destroy) {\n        const { children } = this;\n        if (children.length) {\n            this.children = [];\n            this.__preRemove();\n            this.__.__childBranchNumber = 0;\n            children.forEach(child => {\n                this.__realRemoveChild(child);\n                if (destroy)\n                    child.destroy();\n            });\n        }\n    }\n    clear() {\n        this.removeAll(true);\n    }\n    __preRemove() {\n        if (this.__hasMask)\n            this.__updateMask();\n        if (this.__hasEraser)\n            this.__updateEraser();\n        this.__layout.boxChange();\n        this.__layout.affectChildrenSort && this.__layout.childrenSortChange();\n    }\n    __realRemoveChild(child) {\n        child.parent = null;\n        if (this.leafer) {\n            child.__bindLeafer(null);\n            if (this.leafer.created) {\n                this.__emitChildEvent(ChildEvent.REMOVE, child);\n                if (this.leafer.hitCanvasManager)\n                    this.leafer.hitCanvasManager.clear();\n            }\n        }\n    }\n    __emitChildEvent(type, child) {\n        const event = new ChildEvent(type, child, this);\n        if (child.hasEvent(type))\n            child.emitEvent(event);\n        if (this.hasEvent(type) && !this.isLeafer)\n            this.emitEvent(event);\n        this.leafer.emitEvent(event);\n    }\n};\nBranch = __decorate([\n    useModule(BranchRender)\n], Branch);\n\nclass LeafList {\n    get length() { return this.list.length; }\n    constructor(item) {\n        this.reset();\n        if (item)\n            item instanceof Array ? this.addList(item) : this.add(item);\n    }\n    has(leaf) {\n        return leaf && this.keys[leaf.innerId] !== undefined;\n    }\n    indexAt(index) {\n        return this.list[index];\n    }\n    indexOf(leaf) {\n        const index = this.keys[leaf.innerId];\n        return index === undefined ? -1 : index;\n    }\n    add(leaf) {\n        const { list, keys } = this;\n        if (keys[leaf.innerId] === undefined) {\n            list.push(leaf);\n            keys[leaf.innerId] = list.length - 1;\n        }\n    }\n    addAt(leaf, index = 0) {\n        const { keys } = this;\n        if (keys[leaf.innerId] === undefined) {\n            const { list } = this;\n            for (let i = index, len = list.length; i < len; i++)\n                keys[list[i].innerId]++;\n            if (index === 0) {\n                list.unshift(leaf);\n            }\n            else {\n                if (index > list.length)\n                    index = list.length;\n                list.splice(index, 0, leaf);\n            }\n            keys[leaf.innerId] = index;\n        }\n    }\n    addList(list) {\n        for (let i = 0; i < list.length; i++)\n            this.add(list[i]);\n    }\n    remove(leaf) {\n        const { list } = this;\n        let findIndex;\n        for (let i = 0, len = list.length; i < len; i++) {\n            if (findIndex !== undefined) {\n                this.keys[list[i].innerId] = i - 1;\n            }\n            else if (list[i].innerId === leaf.innerId) {\n                findIndex = i;\n                delete this.keys[leaf.innerId];\n            }\n        }\n        if (findIndex !== undefined)\n            list.splice(findIndex, 1);\n    }\n    sort(reverse) {\n        const { list } = this;\n        if (reverse) {\n            list.sort((a, b) => b.__level - a.__level);\n        }\n        else {\n            list.sort((a, b) => a.__level - b.__level);\n        }\n    }\n    forEach(itemCallback) {\n        this.list.forEach(itemCallback);\n    }\n    clone() {\n        const list = new LeafList();\n        list.list = [...this.list];\n        list.keys = Object.assign({}, this.keys);\n        return list;\n    }\n    update() {\n        this.keys = {};\n        const { list, keys } = this;\n        for (let i = 0, len = list.length; i < len; i++)\n            keys[list[i].innerId] = i;\n    }\n    reset() {\n        this.list = [];\n        this.keys = {};\n    }\n    destroy() {\n        this.reset();\n    }\n}\n\nclass LeafLevelList {\n    get length() { return this._length; }\n    constructor(item) {\n        this._length = 0;\n        this.reset();\n        if (item)\n            item instanceof Array ? this.addList(item) : this.add(item);\n    }\n    has(leaf) {\n        return this.keys[leaf.innerId] !== undefined;\n    }\n    without(leaf) {\n        return this.keys[leaf.innerId] === undefined;\n    }\n    sort(reverse) {\n        const { levels } = this;\n        if (reverse) {\n            levels.sort((a, b) => b - a);\n        }\n        else {\n            levels.sort((a, b) => a - b);\n        }\n    }\n    addList(list) {\n        list.forEach(leaf => { this.add(leaf); });\n    }\n    add(leaf) {\n        const { keys, levelMap } = this;\n        if (!keys[leaf.innerId]) {\n            keys[leaf.innerId] = 1;\n            if (!levelMap[leaf.__level]) {\n                levelMap[leaf.__level] = [leaf];\n                this.levels.push(leaf.__level);\n            }\n            else {\n                levelMap[leaf.__level].push(leaf);\n            }\n            this._length++;\n        }\n    }\n    forEach(itemCallback) {\n        let list;\n        this.levels.forEach(level => {\n            list = this.levelMap[level];\n            for (let i = 0, len = list.length; i < len; i++) {\n                itemCallback(list[i]);\n            }\n        });\n    }\n    reset() {\n        this.levelMap = {};\n        this.keys = {};\n        this.levels = [];\n        this._length = 0;\n    }\n    destroy() {\n        this.levelMap = null;\n    }\n}\n\nconst version = \"1.0.0-rc.30\";\nconst inviteCode = {};\n\nexport { AlignHelper, AnimateEvent, Answer, AroundHelper, AutoBounds, BezierHelper, Bounds, BoundsHelper, Branch, BranchHelper, BranchRender, CanvasManager, ChildEvent, Creator, DataHelper, Debug, Direction4, Direction9, EllipseHelper, Event, EventCreator, FileHelper, ImageEvent, ImageManager, IncrementId, LayoutEvent, Leaf, LeafBounds, LeafBoundsHelper, LeafData, LeafDataProxy, LeafEventer, LeafHelper, LeafLayout, LeafLevelList, LeafList, LeafMatrix, LeafRender, LeaferCanvasBase, LeaferEvent, LeaferImage, MathHelper, Matrix, MatrixHelper, NeedConvertToCanvasCommandMap, OneRadian, PI2, PI_2, PathBounds, PathCommandDataHelper, PathCommandMap, PathConvert, PathCorner, PathCreator, PathDrawer, PathHelper, PathNumberCommandLengthMap, PathNumberCommandMap, Platform, Point, PointHelper, PropertyEvent, RectHelper, RenderEvent, ResizeEvent, Run, StringNumberMap, TaskItem, TaskProcessor, TwoPointBoundsHelper, UICreator, WaitHelper, WatchEvent, affectRenderBoundsType, affectStrokeBoundsType, attr, autoLayoutType, boundsType, canvasPatch, canvasSizeAttrs, cursorType, dataProcessor, dataType, decorateLeafAttr, defineDataProcessor, defineKey, defineLeafAttr, doBoundsType, doStrokeType, emptyData, eraserType, getBoundsData, getDescriptor, getMatrixData, getPointData, hitType, inviteCode, layoutProcessor, maskType, naturalBoundsType, opacityType, pathInputType, pathType, pen, positionType, registerUI, registerUIEvent, rewrite, rewriteAble, rotationType, scaleType, sortType, strokeType, surfaceType, tempBounds, tempMatrix, tempPoint$2 as tempPoint, useModule, version, visibleType };\n","import { decorateLeafAttr, attr, doStrokeType, defineKey, Debug, LeafData, PathConvert, dataProcessor, dataType, surfaceType, opacityType, visibleType, sortType, maskType, eraserType, positionType, boundsType, scaleType, rotationType, autoLayoutType, naturalBoundsType, pathInputType, pathType, hitType, strokeType, cursorType, rewrite, Leaf, useModule, rewriteAble, pen, PathCorner, PathDrawer, UICreator, registerUI, Branch, LeafList, ImageManager, DataHelper, Creator, CanvasManager, WaitHelper, LeaferEvent, canvasSizeAttrs, Bounds, ResizeEvent, AutoBounds, Run, LayoutEvent, RenderEvent, WatchEvent, affectRenderBoundsType, BoundsHelper, Platform, PathCommandDataHelper, affectStrokeBoundsType, getPointData, PointHelper, PathBounds, ImageEvent, Matrix, MathHelper, PathCreator } from '@leafer/core';\nexport * from '@leafer/core';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nconst TextConvert = {};\nconst ColorConvert = {};\nconst PathArrow = {};\nconst Paint = {};\nconst PaintImage = {};\nconst PaintGradient = {};\nconst Effect = {};\nconst Export = {};\nconst State = {};\n\nfunction stateType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value);\n            this.waitLeafer(() => { if (State.setStyle)\n                State.setStyle(this, key + 'Style', value); });\n        }\n    }));\n}\nfunction arrowType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            if (this.__setAttr(key, value)) {\n                const data = this.__;\n                data.__useArrow = data.startArrow !== 'none' || data.endArrow !== 'none';\n                doStrokeType(this);\n            }\n        }\n    }));\n}\nfunction effectType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value);\n            if (value)\n                this.__.__useEffect = true;\n            this.__layout.renderChanged || this.__layout.renderChange();\n        }\n    }));\n}\nfunction resizeType(defaultValue) {\n    return decorateLeafAttr(defaultValue, (key) => attr({\n        set(value) {\n            this.__setAttr(key, value);\n            this.__layout.boxChanged || this.__layout.boxChange();\n            this.__updateSize();\n        }\n    }));\n}\nfunction zoomLayerType() {\n    return (target, key) => {\n        const privateKey = '_' + key;\n        defineKey(target, key, {\n            set(value) { if (this.isLeafer)\n                this[privateKey] = value; },\n            get() {\n                return this.isApp\n                    ? this.tree.zoomLayer\n                    : (this.isLeafer ? (this[privateKey] || this) : this.leafer && this.leafer.zoomLayer);\n            }\n        });\n    };\n}\n\nconst { parse } = PathConvert;\nconst emptyPaint = {};\nconst debug$1 = Debug.get('UIData');\nclass UIData extends LeafData {\n    get __strokeWidth() {\n        const { strokeWidth, strokeWidthFixed } = this;\n        if (strokeWidthFixed) {\n            const ui = this.__leaf;\n            let { scaleX } = ui.__nowWorld || ui.__world;\n            if (scaleX < 0)\n                scaleX = -scaleX;\n            return scaleX > 1 ? strokeWidth / scaleX : strokeWidth;\n        }\n        else {\n            return strokeWidth;\n        }\n    }\n    get __autoWidth() { return !this._width; }\n    get __autoHeight() { return !this._height; }\n    get __autoSide() { return !this._width || !this._height; }\n    get __autoSize() { return !this._width && !this._height; }\n    setVisible(value) {\n        if (this.__leaf.leafer)\n            this.__leaf.leafer.watcher.hasVisible = true;\n        this._visible = value;\n    }\n    setWidth(value) {\n        if (value < 0) {\n            this._width = -value;\n            this.__leaf.scaleX *= -1;\n            debug$1.warn('width < 0, instead -scaleX ', this);\n        }\n        else {\n            this._width = value;\n        }\n    }\n    setHeight(value) {\n        if (value < 0) {\n            this._height = -value;\n            this.__leaf.scaleY *= -1;\n            debug$1.warn('height < 0, instead -scaleY', this);\n        }\n        else {\n            this._height = value;\n        }\n    }\n    setFill(value) {\n        if (this.__naturalWidth)\n            this.__removeNaturalSize();\n        if (typeof value === 'string' || !value) {\n            if (this.__isFills) {\n                this.__removeInput('fill');\n                PaintImage.recycleImage('fill', this);\n                this.__isFills = false;\n                if (this.__pixelFill)\n                    this.__pixelFill = false;\n            }\n            this._fill = value;\n        }\n        else if (typeof value === 'object') {\n            this.__setInput('fill', value);\n            this.__leaf.__layout.boxChanged || this.__leaf.__layout.boxChange();\n            this.__isFills = true;\n            this._fill || (this._fill = emptyPaint);\n        }\n    }\n    setStroke(value) {\n        if (typeof value === 'string' || !value) {\n            if (this.__isStrokes) {\n                this.__removeInput('stroke');\n                PaintImage.recycleImage('stroke', this);\n                this.__isStrokes = false;\n                if (this.__pixelStroke)\n                    this.__pixelStroke = false;\n            }\n            this._stroke = value;\n        }\n        else if (typeof value === 'object') {\n            this.__setInput('stroke', value);\n            this.__leaf.__layout.boxChanged || this.__leaf.__layout.boxChange();\n            this.__isStrokes = true;\n            this._stroke || (this._stroke = emptyPaint);\n        }\n    }\n    setPath(value) {\n        if (typeof value === 'string') {\n            this.__setInput('path', value);\n            this._path = parse(value);\n        }\n        else {\n            if (this.__input)\n                this.__removeInput('path');\n            this._path = value;\n        }\n    }\n    setShadow(value) {\n        this.__setInput('shadow', value);\n        if (value instanceof Array) {\n            if (value.some((item) => item.visible === false))\n                value = value.filter((item) => item.visible !== false);\n            this._shadow = value.length ? value : null;\n        }\n        else if (value) {\n            this._shadow = value.visible === false ? null : [value];\n        }\n        else {\n            this._shadow = null;\n        }\n    }\n    setInnerShadow(value) {\n        this.__setInput('innerShadow', value);\n        if (value instanceof Array) {\n            if (value.some((item) => item.visible === false))\n                value = value.filter((item) => item.visible !== false);\n            this._innerShadow = value.length ? value : null;\n        }\n        else if (value) {\n            this._innerShadow = value.visible === false ? null : [value];\n        }\n        else {\n            this._innerShadow = null;\n        }\n    }\n    __computePaint() {\n        const { fill, stroke } = this.__input;\n        if (fill)\n            Paint.compute('fill', this.__leaf);\n        if (stroke)\n            Paint.compute('stroke', this.__leaf);\n        this.__needComputePaint = false;\n    }\n}\nconst UnitConvert = {\n    number(value, percentRefer) {\n        if (typeof value === 'object')\n            return value.type === 'percent' ? value.value * percentRefer : value.value;\n        return value;\n    }\n};\n\nclass GroupData extends UIData {\n}\n\nclass BoxData extends GroupData {\n    get __boxStroke() { return !this.__pathInputed; }\n}\n\nclass LeaferData extends GroupData {\n}\n\nclass FrameData extends BoxData {\n}\n\nclass LineData extends UIData {\n}\n\nclass RectData extends UIData {\n    get __boxStroke() { return !this.__pathInputed; }\n}\n\nclass EllipseData extends UIData {\n    get __boxStroke() { return !this.__pathInputed; }\n}\n\nclass PolygonData extends UIData {\n}\n\nclass StarData extends UIData {\n}\n\nclass PathData extends UIData {\n}\n\nclass PenData extends GroupData {\n}\n\nconst fontWeightMap = {\n    'thin': 100,\n    'extra-light': 200,\n    'light': 300,\n    'normal': 400,\n    'medium': 500,\n    'semi-bold': 600,\n    'bold': 700,\n    'extra-bold': 800,\n    'black': 900\n};\nclass TextData extends UIData {\n    get __useNaturalRatio() { return false; }\n    setFontWeight(value) {\n        if (typeof value === 'string') {\n            this.__setInput('fontWeight', value);\n            this._fontWeight = fontWeightMap[value] || 400;\n        }\n        else {\n            if (this.__input)\n                this.__removeInput('fontWeight');\n            this._fontWeight = value;\n        }\n    }\n}\n\nclass ImageData extends RectData {\n    setUrl(value) {\n        this.__setImageFill(value);\n        this._url = value;\n    }\n    __setImageFill(value) {\n        if (this.__leaf.image)\n            this.__leaf.image = null;\n        this.fill = value ? { type: 'image', mode: 'strench', url: value } : undefined;\n    }\n    __getData() {\n        const data = super.__getData();\n        delete data.fill;\n        return data;\n    }\n    __getInputData() {\n        const data = super.__getInputData();\n        delete data.fill;\n        return data;\n    }\n}\n\nclass CanvasData extends RectData {\n}\n\nconst UIBounds = {\n    __updateStrokeSpread() {\n        let width = 0, boxWidth = 0;\n        const data = this.__, { strokeAlign, strokeWidth } = data;\n        if ((data.stroke || data.hitStroke === 'all') && strokeWidth && strokeAlign !== 'inside') {\n            boxWidth = width = strokeAlign === 'center' ? strokeWidth / 2 : strokeWidth;\n            if (!data.__boxStroke) {\n                const miterLimitAddWidth = data.__isLinePath ? 0 : 10 * width;\n                const storkeCapAddWidth = data.strokeCap === 'none' ? 0 : strokeWidth;\n                width += Math.max(miterLimitAddWidth, storkeCapAddWidth);\n            }\n        }\n        if (data.__useArrow)\n            width += strokeWidth * 5;\n        this.__layout.strokeBoxSpread = boxWidth;\n        return width;\n    },\n    __updateRenderSpread() {\n        let width = 0;\n        const { shadow, innerShadow, blur, backgroundBlur } = this.__;\n        if (shadow)\n            shadow.forEach(item => {\n                width = Math.max(width, Math.max(Math.abs(item.y), Math.abs(item.x)) + (item.spread > 0 ? item.spread : 0) + item.blur * 1.5);\n            });\n        if (blur)\n            width = Math.max(width, blur);\n        let shapeWidth = width = Math.ceil(width);\n        if (innerShadow)\n            innerShadow.forEach(item => {\n                shapeWidth = Math.max(shapeWidth, Math.max(Math.abs(item.y), Math.abs(item.x)) + (item.spread < 0 ? -item.spread : 0) + item.blur * 1.5);\n            });\n        if (backgroundBlur)\n            shapeWidth = Math.max(shapeWidth, backgroundBlur);\n        this.__layout.renderShapeSpread = shapeWidth;\n        return width + (this.__layout.strokeSpread || 0);\n    }\n};\n\nconst UIRender = {\n    __updateChange() {\n        const data = this.__;\n        if (data.__useEffect) {\n            const { shadow, innerShadow, blur, backgroundBlur } = this.__;\n            data.__useEffect = !!(shadow || innerShadow || blur || backgroundBlur);\n        }\n        data.__checkSingle();\n        const complex = data.__isFills || data.__isStrokes || data.cornerRadius || data.__useEffect;\n        if (complex) {\n            data.__complex = true;\n        }\n        else {\n            data.__complex && (data.__complex = false);\n        }\n    },\n    __drawFast(canvas, options) {\n        drawFast(this, canvas, options);\n    },\n    __draw(canvas, options) {\n        const data = this.__;\n        if (data.__complex) {\n            if (data.__needComputePaint)\n                data.__computePaint();\n            const { fill, stroke, __drawAfterFill } = data;\n            this.__drawRenderPath(canvas);\n            if (data.__useEffect) {\n                const shape = Paint.shape(this, canvas, options);\n                this.__nowWorld = this.__getNowWorld(options);\n                const { shadow, innerShadow } = data;\n                if (shadow)\n                    Effect.shadow(this, canvas, shape);\n                if (fill)\n                    data.__isFills ? Paint.fills(fill, this, canvas) : Paint.fill(fill, this, canvas);\n                if (__drawAfterFill)\n                    this.__drawAfterFill(canvas, options);\n                if (innerShadow)\n                    Effect.innerShadow(this, canvas, shape);\n                if (stroke)\n                    data.__isStrokes ? Paint.strokes(stroke, this, canvas) : Paint.stroke(stroke, this, canvas);\n                if (shape.worldCanvas)\n                    shape.worldCanvas.recycle();\n                shape.canvas.recycle();\n            }\n            else {\n                if (fill)\n                    data.__isFills ? Paint.fills(fill, this, canvas) : Paint.fill(fill, this, canvas);\n                if (__drawAfterFill)\n                    this.__drawAfterFill(canvas, options);\n                if (stroke)\n                    data.__isStrokes ? Paint.strokes(stroke, this, canvas) : Paint.stroke(stroke, this, canvas);\n            }\n        }\n        else {\n            if (data.__pathInputed) {\n                drawFast(this, canvas, options);\n            }\n            else {\n                this.__drawFast(canvas, options);\n            }\n        }\n    },\n    __renderShape(canvas, options, ignoreFill, ignoreStroke) {\n        if (this.__worldOpacity) {\n            canvas.setWorld(this.__nowWorld = this.__getNowWorld(options));\n            const { fill, stroke } = this.__;\n            this.__drawRenderPath(canvas);\n            if (fill && !ignoreFill)\n                this.__.__pixelFill ? Paint.fills(fill, this, canvas) : Paint.fill('#000000', this, canvas);\n            if (this.__.__isCanvas)\n                this.__drawAfterFill(canvas, options);\n            if (stroke && !ignoreStroke)\n                this.__.__pixelStroke ? Paint.strokes(stroke, this, canvas) : Paint.stroke('#000000', this, canvas);\n        }\n    }\n};\nfunction drawFast(ui, canvas, options) {\n    const { fill, stroke, __drawAfterFill } = ui.__;\n    ui.__drawRenderPath(canvas);\n    if (fill)\n        Paint.fill(fill, ui, canvas);\n    if (__drawAfterFill)\n        ui.__drawAfterFill(canvas, options);\n    if (stroke)\n        Paint.stroke(stroke, ui, canvas);\n}\n\nconst RectRender = {\n    __drawFast(canvas, options) {\n        let { width, height, fill, stroke, __drawAfterFill } = this.__;\n        if (fill) {\n            canvas.fillStyle = fill;\n            canvas.fillRect(0, 0, width, height);\n        }\n        if (__drawAfterFill)\n            this.__drawAfterFill(canvas, options);\n        if (stroke) {\n            const { strokeAlign, __strokeWidth } = this.__;\n            if (!__strokeWidth)\n                return;\n            canvas.setStroke(stroke, __strokeWidth, this.__);\n            const half = __strokeWidth / 2;\n            switch (strokeAlign) {\n                case 'center':\n                    canvas.strokeRect(0, 0, width, height);\n                    break;\n                case 'inside':\n                    width -= __strokeWidth, height -= __strokeWidth;\n                    if (width < 0 || height < 0) {\n                        canvas.save();\n                        this.__clip(canvas, options);\n                        canvas.strokeRect(half, half, width, height);\n                        canvas.restore();\n                    }\n                    else {\n                        canvas.strokeRect(half, half, width, height);\n                    }\n                    break;\n                case 'outside':\n                    canvas.strokeRect(-half, -half, width + __strokeWidth, height + __strokeWidth);\n                    break;\n            }\n        }\n    }\n};\n\nvar UI_1;\nlet UI = UI_1 = class UI extends Leaf {\n    get app() { return this.leafer && this.leafer.app; }\n    get isFrame() { return false; }\n    set scale(value) {\n        if (typeof value === 'number') {\n            this.scaleX = this.scaleY = value;\n        }\n        else {\n            this.scaleX = value.x;\n            this.scaleY = value.y;\n        }\n    }\n    get scale() {\n        const { scaleX, scaleY } = this;\n        return scaleX !== scaleY ? { x: scaleX, y: scaleY } : scaleX;\n    }\n    get pen() {\n        const { path } = this.__;\n        pen.set(this.path = path || []);\n        if (!path)\n            this.__drawPathByBox(pen);\n        return pen;\n    }\n    get editConfig() { return undefined; }\n    get editOuter() { return this.__.__isLinePath ? 'LineEditTool' : 'EditTool'; }\n    get editInner() { return 'PathEditor'; }\n    constructor(data) {\n        super(data);\n    }\n    reset(_data) { }\n    set(data) {\n        Object.assign(this, data);\n    }\n    get(name) {\n        return typeof name === 'string' ? this.__.__getInput(name) : this.__.__getInputData(name);\n    }\n    createProxyData() { return undefined; }\n    find(_condition, _options) { return undefined; }\n    findTag(tag) { return this.find({ tag }); }\n    findOne(_condition, _options) { return undefined; }\n    findId(id) { return this.findOne({ id }); }\n    getPath(curve, pathForRender) {\n        this.__layout.update();\n        let path = pathForRender ? this.__.__pathForRender : this.__.path;\n        if (!path)\n            pen.set(path = []), this.__drawPathByBox(pen);\n        return curve ? PathConvert.toCanvasData(path, true) : path;\n    }\n    getPathString(curve, pathForRender) {\n        return PathConvert.stringify(this.getPath(curve, pathForRender));\n    }\n    load() {\n        this.__.__computePaint();\n    }\n    __onUpdateSize() {\n        if (this.__.__input) {\n            const data = this.__;\n            (data.lazy && !this.__inLazyBounds && !Export.running) ? data.__needComputePaint = true : data.__computePaint();\n        }\n    }\n    __updateRenderPath() {\n        if (this.__.path) {\n            const data = this.__;\n            data.__pathForRender = data.cornerRadius ? PathCorner.smooth(data.path, data.cornerRadius, data.cornerSmoothing) : data.path;\n            if (data.__useArrow)\n                PathArrow.addArrows(this, !data.cornerRadius);\n        }\n    }\n    __drawRenderPath(canvas) {\n        canvas.beginPath();\n        this.__drawPathByData(canvas, this.__.__pathForRender);\n    }\n    __drawPath(canvas) {\n        canvas.beginPath();\n        this.__drawPathByData(canvas, this.__.path);\n    }\n    __drawPathByData(drawer, data) {\n        if (data) {\n            PathDrawer.drawPathByData(drawer, data);\n        }\n        else {\n            this.__drawPathByBox(drawer);\n        }\n    }\n    __drawPathByBox(drawer) {\n        const { x, y, width, height } = this.__layout.boxBounds;\n        if (this.__.cornerRadius) {\n            const { cornerRadius } = this.__;\n            drawer.roundRect(x, y, width, height, typeof cornerRadius === 'number' ? [cornerRadius] : cornerRadius);\n        }\n        else {\n            drawer.rect(x, y, width, height);\n        }\n    }\n    export(filename, options) {\n        return Export.export(this, filename, options);\n    }\n    clone() {\n        return UI_1.one(this.toJSON());\n    }\n    static one(data, x, y, width, height) {\n        return UICreator.get(data.tag || this.prototype.__tag, data, x, y, width, height);\n    }\n    static registerUI() {\n        registerUI()(this);\n    }\n    static registerData(data) {\n        dataProcessor(data)(this.prototype);\n    }\n    static setEditConfig(_config) { }\n    static setEditOuter(_toolName) { }\n    static setEditInner(_editorName) { }\n    destroy() {\n        this.fill = this.stroke = null;\n        super.destroy();\n    }\n};\n__decorate([\n    dataProcessor(UIData)\n], UI.prototype, \"__\", void 0);\n__decorate([\n    zoomLayerType()\n], UI.prototype, \"zoomLayer\", void 0);\n__decorate([\n    dataType('')\n], UI.prototype, \"id\", void 0);\n__decorate([\n    dataType('')\n], UI.prototype, \"name\", void 0);\n__decorate([\n    dataType('')\n], UI.prototype, \"className\", void 0);\n__decorate([\n    surfaceType('pass-through')\n], UI.prototype, \"blendMode\", void 0);\n__decorate([\n    opacityType(1)\n], UI.prototype, \"opacity\", void 0);\n__decorate([\n    visibleType(true)\n], UI.prototype, \"visible\", void 0);\n__decorate([\n    stateType(false)\n], UI.prototype, \"selected\", void 0);\n__decorate([\n    stateType(false)\n], UI.prototype, \"disabled\", void 0);\n__decorate([\n    surfaceType(false)\n], UI.prototype, \"locked\", void 0);\n__decorate([\n    sortType(0)\n], UI.prototype, \"zIndex\", void 0);\n__decorate([\n    maskType(false)\n], UI.prototype, \"mask\", void 0);\n__decorate([\n    eraserType(false)\n], UI.prototype, \"eraser\", void 0);\n__decorate([\n    positionType(0, true)\n], UI.prototype, \"x\", void 0);\n__decorate([\n    positionType(0, true)\n], UI.prototype, \"y\", void 0);\n__decorate([\n    boundsType(100, true)\n], UI.prototype, \"width\", void 0);\n__decorate([\n    boundsType(100, true)\n], UI.prototype, \"height\", void 0);\n__decorate([\n    scaleType(1, true)\n], UI.prototype, \"scaleX\", void 0);\n__decorate([\n    scaleType(1, true)\n], UI.prototype, \"scaleY\", void 0);\n__decorate([\n    rotationType(0, true)\n], UI.prototype, \"rotation\", void 0);\n__decorate([\n    rotationType(0, true)\n], UI.prototype, \"skewX\", void 0);\n__decorate([\n    rotationType(0, true)\n], UI.prototype, \"skewY\", void 0);\n__decorate([\n    positionType(0, true)\n], UI.prototype, \"offsetX\", void 0);\n__decorate([\n    positionType(0, true)\n], UI.prototype, \"offsetY\", void 0);\n__decorate([\n    positionType(0, true)\n], UI.prototype, \"scrollX\", void 0);\n__decorate([\n    positionType(0, true)\n], UI.prototype, \"scrollY\", void 0);\n__decorate([\n    autoLayoutType()\n], UI.prototype, \"origin\", void 0);\n__decorate([\n    autoLayoutType()\n], UI.prototype, \"around\", void 0);\n__decorate([\n    dataType(false)\n], UI.prototype, \"lazy\", void 0);\n__decorate([\n    naturalBoundsType(1)\n], UI.prototype, \"pixelRatio\", void 0);\n__decorate([\n    pathInputType()\n], UI.prototype, \"path\", void 0);\n__decorate([\n    pathType()\n], UI.prototype, \"windingRule\", void 0);\n__decorate([\n    pathType(true)\n], UI.prototype, \"closed\", void 0);\n__decorate([\n    autoLayoutType(false)\n], UI.prototype, \"flow\", void 0);\n__decorate([\n    boundsType(0)\n], UI.prototype, \"padding\", void 0);\n__decorate([\n    boundsType(0)\n], UI.prototype, \"gap\", void 0);\n__decorate([\n    boundsType('top-left')\n], UI.prototype, \"flowAlign\", void 0);\n__decorate([\n    boundsType(false)\n], UI.prototype, \"flowWrap\", void 0);\n__decorate([\n    boundsType('box')\n], UI.prototype, \"itemBox\", void 0);\n__decorate([\n    boundsType(true)\n], UI.prototype, \"inFlow\", void 0);\n__decorate([\n    boundsType()\n], UI.prototype, \"autoWidth\", void 0);\n__decorate([\n    boundsType()\n], UI.prototype, \"autoHeight\", void 0);\n__decorate([\n    boundsType()\n], UI.prototype, \"lockRatio\", void 0);\n__decorate([\n    boundsType()\n], UI.prototype, \"autoBox\", void 0);\n__decorate([\n    boundsType()\n], UI.prototype, \"widthRange\", void 0);\n__decorate([\n    boundsType()\n], UI.prototype, \"heightRange\", void 0);\n__decorate([\n    dataType(false)\n], UI.prototype, \"draggable\", void 0);\n__decorate([\n    dataType()\n], UI.prototype, \"dragBounds\", void 0);\n__decorate([\n    dataType(false)\n], UI.prototype, \"editable\", void 0);\n__decorate([\n    hitType(true)\n], UI.prototype, \"hittable\", void 0);\n__decorate([\n    hitType('path')\n], UI.prototype, \"hitFill\", void 0);\n__decorate([\n    strokeType('path')\n], UI.prototype, \"hitStroke\", void 0);\n__decorate([\n    hitType(false)\n], UI.prototype, \"hitBox\", void 0);\n__decorate([\n    hitType(true)\n], UI.prototype, \"hitChildren\", void 0);\n__decorate([\n    hitType(true)\n], UI.prototype, \"hitSelf\", void 0);\n__decorate([\n    hitType()\n], UI.prototype, \"hitRadius\", void 0);\n__decorate([\n    cursorType('')\n], UI.prototype, \"cursor\", void 0);\n__decorate([\n    surfaceType()\n], UI.prototype, \"fill\", void 0);\n__decorate([\n    strokeType()\n], UI.prototype, \"stroke\", void 0);\n__decorate([\n    strokeType('inside')\n], UI.prototype, \"strokeAlign\", void 0);\n__decorate([\n    strokeType(1)\n], UI.prototype, \"strokeWidth\", void 0);\n__decorate([\n    strokeType(false)\n], UI.prototype, \"strokeWidthFixed\", void 0);\n__decorate([\n    strokeType('none')\n], UI.prototype, \"strokeCap\", void 0);\n__decorate([\n    strokeType('miter')\n], UI.prototype, \"strokeJoin\", void 0);\n__decorate([\n    strokeType()\n], UI.prototype, \"dashPattern\", void 0);\n__decorate([\n    strokeType()\n], UI.prototype, \"dashOffset\", void 0);\n__decorate([\n    strokeType(10)\n], UI.prototype, \"miterLimit\", void 0);\n__decorate([\n    arrowType('none')\n], UI.prototype, \"startArrow\", void 0);\n__decorate([\n    arrowType('none')\n], UI.prototype, \"endArrow\", void 0);\n__decorate([\n    pathType(0)\n], UI.prototype, \"cornerRadius\", void 0);\n__decorate([\n    pathType()\n], UI.prototype, \"cornerSmoothing\", void 0);\n__decorate([\n    effectType()\n], UI.prototype, \"shadow\", void 0);\n__decorate([\n    effectType()\n], UI.prototype, \"innerShadow\", void 0);\n__decorate([\n    effectType()\n], UI.prototype, \"blur\", void 0);\n__decorate([\n    effectType()\n], UI.prototype, \"backgroundBlur\", void 0);\n__decorate([\n    effectType()\n], UI.prototype, \"grayscale\", void 0);\n__decorate([\n    dataType()\n], UI.prototype, \"normalStyle\", void 0);\n__decorate([\n    dataType()\n], UI.prototype, \"hoverStyle\", void 0);\n__decorate([\n    dataType()\n], UI.prototype, \"pressStyle\", void 0);\n__decorate([\n    dataType()\n], UI.prototype, \"focusStyle\", void 0);\n__decorate([\n    dataType()\n], UI.prototype, \"selectedStyle\", void 0);\n__decorate([\n    dataType()\n], UI.prototype, \"disabledStyle\", void 0);\n__decorate([\n    dataType({})\n], UI.prototype, \"data\", void 0);\n__decorate([\n    rewrite(Leaf.prototype.reset)\n], UI.prototype, \"reset\", null);\nUI = UI_1 = __decorate([\n    useModule(UIBounds),\n    useModule(UIRender),\n    rewriteAble()\n], UI);\n\nlet Group = class Group extends UI {\n    get __tag() { return 'Group'; }\n    get isBranch() { return true; }\n    constructor(data) {\n        super(data);\n    }\n    reset(data) {\n        this.__setBranch();\n        super.reset(data);\n    }\n    __setBranch() {\n        if (!this.children)\n            this.children = [];\n    }\n    set(data) {\n        if (data.children) {\n            const { children } = data;\n            delete data.children;\n            if (!this.children) {\n                this.__setBranch();\n            }\n            else {\n                this.clear();\n            }\n            super.set(data);\n            let child;\n            children.forEach(childData => {\n                child = childData.__ ? childData : UICreator.get(childData.tag, childData);\n                this.add(child);\n            });\n            data.children = children;\n        }\n        else {\n            super.set(data);\n        }\n    }\n    toJSON(options) {\n        const data = super.toJSON(options);\n        data.children = this.children.map(child => child.toJSON(options));\n        return data;\n    }\n    pick(_hitPoint, _options) { return undefined; }\n    addAt(child, index) {\n        this.add(child, index);\n    }\n    addAfter(child, after) {\n        this.add(child, this.children.indexOf(after) + 1);\n    }\n    addBefore(child, before) {\n        this.add(child, this.children.indexOf(before));\n    }\n    add(_child, _index) { }\n    addMany(..._children) { }\n    remove(_child, _destroy) { }\n    removeAll(_destroy) { }\n    clear() { }\n};\n__decorate([\n    dataProcessor(GroupData)\n], Group.prototype, \"__\", void 0);\nGroup = __decorate([\n    useModule(Branch),\n    registerUI()\n], Group);\n\nvar Leafer_1;\nconst debug = Debug.get('Leafer');\nlet Leafer = Leafer_1 = class Leafer extends Group {\n    get __tag() { return 'Leafer'; }\n    get isApp() { return false; }\n    get app() { return this.parent || this; }\n    get isLeafer() { return true; }\n    get imageReady() { return this.viewReady && ImageManager.isComplete; }\n    get layoutLocked() { return !this.layouter.running; }\n    get FPS() { return this.renderer ? this.renderer.FPS : 60; }\n    get cursorPoint() { return (this.interaction && this.interaction.hoverData) || { x: this.width / 2, y: this.height / 2 }; }\n    get clientBounds() { return this.canvas && this.canvas.getClientBounds(); }\n    constructor(userConfig, data) {\n        super(data);\n        this.config = {\n            type: 'design',\n            start: true,\n            hittable: true,\n            smooth: true,\n            lazySpeard: 100,\n            zoom: {\n                min: 0.01,\n                max: 256\n            },\n            move: {\n                holdSpaceKey: true,\n                holdMiddleKey: true,\n                autoDistance: 2\n            }\n        };\n        this.leafs = 0;\n        this.__eventIds = [];\n        this.__controllers = [];\n        this.__readyWait = [];\n        this.__viewReadyWait = [];\n        this.__viewCompletedWait = [];\n        this.__nextRenderWait = [];\n        this.userConfig = userConfig;\n        if (userConfig && (userConfig.view || userConfig.width))\n            this.init(userConfig);\n        Leafer_1.list.add(this);\n    }\n    init(userConfig, parentApp) {\n        if (this.canvas)\n            return;\n        this.__setLeafer(this);\n        if (userConfig)\n            DataHelper.assign(this.config, userConfig);\n        let start;\n        const { config } = this;\n        this.initType(config.type);\n        const canvas = this.canvas = Creator.canvas(config);\n        this.__controllers.push(this.renderer = Creator.renderer(this, canvas, config), this.watcher = Creator.watcher(this, config), this.layouter = Creator.layouter(this, config));\n        if (this.isApp)\n            this.__setApp();\n        this.__checkAutoLayout(config);\n        this.view = canvas.view;\n        if (parentApp) {\n            this.__bindApp(parentApp);\n            start = parentApp.running;\n        }\n        else {\n            this.selector = Creator.selector(this);\n            this.interaction = Creator.interaction(this, canvas, this.selector, config);\n            if (this.interaction) {\n                this.__controllers.unshift(this.interaction);\n                this.hitCanvasManager = Creator.hitCanvasManager();\n            }\n            this.canvasManager = new CanvasManager();\n            start = config.start;\n        }\n        this.hittable = config.hittable;\n        this.fill = config.fill;\n        this.canvasManager.add(canvas);\n        this.__listenEvents();\n        if (start)\n            this.__startTimer = setTimeout(this.start.bind(this));\n        WaitHelper.run(this.__initWait);\n        this.onInit();\n    }\n    onInit() { }\n    initType(_type) { }\n    set(data) {\n        this.waitInit(() => { super.set(data); });\n    }\n    start() {\n        clearTimeout(this.__startTimer);\n        if (!this.running && this.canvas) {\n            this.ready ? this.emitLeafer(LeaferEvent.RESTART) : this.emitLeafer(LeaferEvent.START);\n            this.__controllers.forEach(item => item.start());\n            if (!this.isApp)\n                this.renderer.render();\n            this.running = true;\n        }\n    }\n    stop() {\n        clearTimeout(this.__startTimer);\n        if (this.running && this.canvas) {\n            this.__controllers.forEach(item => item.stop());\n            this.running = false;\n            this.emitLeafer(LeaferEvent.STOP);\n        }\n    }\n    unlockLayout() {\n        this.layouter.start();\n        this.updateLayout();\n    }\n    lockLayout() {\n        this.updateLayout();\n        this.layouter.stop();\n    }\n    resize(size) {\n        const data = DataHelper.copyAttrs({}, size, canvasSizeAttrs);\n        Object.keys(data).forEach(key => this[key] = data[key]);\n    }\n    forceRender(bounds) {\n        this.renderer.addBlock(bounds ? new Bounds(bounds) : this.canvas.bounds);\n        if (this.viewReady)\n            this.renderer.update();\n    }\n    updateCursor(cursor) {\n        const i = this.interaction;\n        if (i)\n            cursor ? i.setCursor(cursor) : i.updateCursor();\n    }\n    updateLazyBounds() {\n        this.lazyBounds = this.canvas.bounds.clone().spread(this.config.lazySpeard);\n    }\n    __doResize(size) {\n        const { canvas } = this;\n        if (!canvas || canvas.isSameSize(size))\n            return;\n        const old = DataHelper.copyAttrs({}, this.canvas, canvasSizeAttrs);\n        canvas.resize(size);\n        this.updateLazyBounds();\n        this.__onResize(new ResizeEvent(size, old));\n    }\n    __onResize(event) {\n        this.emitEvent(event);\n        DataHelper.copyAttrs(this.__, event, canvasSizeAttrs);\n        if (!event.width || !event.height)\n            debug.warn('w = 0 or h = 0');\n        setTimeout(() => { if (this.canvasManager)\n            this.canvasManager.clearRecycled(); }, 0);\n    }\n    __setApp() { }\n    __bindApp(app) {\n        this.selector = app.selector;\n        this.interaction = app.interaction;\n        this.canvasManager = app.canvasManager;\n        this.hitCanvasManager = app.hitCanvasManager;\n    }\n    __setLeafer(leafer) {\n        this.leafer = leafer;\n        this.__level = 1;\n    }\n    __checkAutoLayout(config) {\n        if (!config.width || !config.height) {\n            this.autoLayout = new AutoBounds(config);\n            this.canvas.startAutoLayout(this.autoLayout, this.__onResize.bind(this));\n        }\n    }\n    __setAttr(attrName, newValue) {\n        if (this.canvas) {\n            if (canvasSizeAttrs.includes(attrName)) {\n                if (!newValue)\n                    debug.warn(attrName + ' is 0');\n                this.__changeCanvasSize(attrName, newValue);\n            }\n            else if (attrName === 'fill') {\n                this.__changeFill(newValue);\n            }\n            else if (attrName === 'hittable') {\n                if (!this.parent)\n                    this.canvas.hittable = newValue;\n            }\n            else if (attrName === 'zIndex') {\n                this.canvas.zIndex = newValue;\n                setTimeout(() => this.parent && this.parent.__updateSortChildren());\n            }\n        }\n        return super.__setAttr(attrName, newValue);\n    }\n    __getAttr(attrName) {\n        if (this.canvas && canvasSizeAttrs.includes(attrName))\n            return this.canvas[attrName];\n        return super.__getAttr(attrName);\n    }\n    __changeCanvasSize(attrName, newValue) {\n        const data = DataHelper.copyAttrs({}, this.canvas, canvasSizeAttrs);\n        data[attrName] = this.config[attrName] = newValue;\n        if (newValue)\n            this.canvas.stopAutoLayout();\n        this.__doResize(data);\n    }\n    __changeFill(newValue) {\n        this.config.fill = newValue;\n        if (this.canvas.allowBackgroundColor) {\n            this.canvas.backgroundColor = newValue;\n        }\n        else {\n            this.forceRender();\n        }\n    }\n    __onCreated() {\n        this.created = true;\n    }\n    __onReady() {\n        if (this.ready)\n            return;\n        this.ready = true;\n        this.emitLeafer(LeaferEvent.BEFORE_READY);\n        this.emitLeafer(LeaferEvent.READY);\n        this.emitLeafer(LeaferEvent.AFTER_READY);\n        WaitHelper.run(this.__readyWait);\n    }\n    __onViewReady() {\n        if (this.viewReady)\n            return;\n        this.viewReady = true;\n        this.emitLeafer(LeaferEvent.VIEW_READY);\n        WaitHelper.run(this.__viewReadyWait);\n    }\n    __onNextRender() {\n        if (this.viewReady) {\n            WaitHelper.run(this.__nextRenderWait);\n            const { imageReady } = this;\n            if (imageReady && !this.viewCompleted)\n                this.__checkViewCompleted();\n            if (!imageReady)\n                this.viewCompleted = false;\n        }\n    }\n    __checkViewCompleted(emit = true) {\n        this.nextRender(() => {\n            if (this.imageReady) {\n                if (emit)\n                    this.emitLeafer(LeaferEvent.VIEW_COMPLETED);\n                WaitHelper.run(this.__viewCompletedWait);\n                this.viewCompleted = true;\n            }\n        });\n    }\n    __onWatchData() {\n        if (this.watcher.childrenChanged && this.interaction) {\n            this.nextRender(() => this.interaction.updateCursor());\n        }\n    }\n    waitInit(item, bind) {\n        if (bind)\n            item = item.bind(bind);\n        if (!this.__initWait)\n            this.__initWait = [];\n        this.canvas ? item() : this.__initWait.push(item);\n    }\n    waitReady(item, bind) {\n        if (bind)\n            item = item.bind(bind);\n        this.ready ? item() : this.__readyWait.push(item);\n    }\n    waitViewReady(item, bind) {\n        if (bind)\n            item = item.bind(bind);\n        this.viewReady ? item() : this.__viewReadyWait.push(item);\n    }\n    waitViewCompleted(item, bind) {\n        if (bind)\n            item = item.bind(bind);\n        this.__viewCompletedWait.push(item);\n        if (this.viewCompleted) {\n            this.__checkViewCompleted(false);\n        }\n        else {\n            if (!this.running)\n                this.start();\n        }\n    }\n    nextRender(item, bind, off) {\n        if (bind)\n            item = item.bind(bind);\n        const list = this.__nextRenderWait;\n        if (off) {\n            for (let i = 0; i < list.length; i++) {\n                if (list[i] === item) {\n                    list.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            list.push(item);\n        }\n    }\n    zoom(_zoomType, _padding, _fixedScale) { return undefined; }\n    getValidMove(moveX, moveY) { return { x: moveX, y: moveY }; }\n    getValidScale(changeScale) { return changeScale; }\n    getWorldPointByClient(clientPoint, updateClient) {\n        return this.interaction && this.interaction.getLocal(clientPoint, updateClient);\n    }\n    __checkUpdateLayout() {\n        this.__layout.update();\n    }\n    emitLeafer(type) {\n        this.emitEvent(new LeaferEvent(type, this));\n    }\n    __listenEvents() {\n        const runId = Run.start('FirstCreate ' + this.innerName);\n        this.once(LeaferEvent.START, () => Run.end(runId));\n        this.once(LayoutEvent.START, () => this.updateLazyBounds());\n        this.once(LayoutEvent.END, () => this.__onReady());\n        this.once(RenderEvent.START, () => this.__onCreated());\n        this.once(RenderEvent.END, () => this.__onViewReady());\n        this.__eventIds.push(this.on_(WatchEvent.DATA, this.__onWatchData, this), this.on_(RenderEvent.NEXT, this.__onNextRender, this), this.on_(LayoutEvent.CHECK_UPDATE, this.__checkUpdateLayout, this));\n    }\n    __removeListenEvents() {\n        this.off_(this.__eventIds);\n        this.__eventIds.length = 0;\n    }\n    destroy(sync) {\n        const doDestory = () => {\n            if (!this.destroyed) {\n                Leafer_1.list.remove(this);\n                try {\n                    this.stop();\n                    this.emitEvent(new LeaferEvent(LeaferEvent.END, this));\n                    this.__removeListenEvents();\n                    this.__controllers.forEach(item => {\n                        if (!(this.parent && item === this.interaction))\n                            item.destroy();\n                    });\n                    this.__controllers.length = 0;\n                    if (!this.parent) {\n                        if (this.selector)\n                            this.selector.destroy();\n                        if (this.hitCanvasManager)\n                            this.hitCanvasManager.destroy();\n                        this.canvasManager.destroy();\n                    }\n                    this.canvas.destroy();\n                    this.config.view = this.view = null;\n                    if (this.userConfig)\n                        this.userConfig.view = null;\n                    super.destroy();\n                    setTimeout(() => { ImageManager.clearRecycled(); }, 100);\n                }\n                catch (e) {\n                    debug.error(e);\n                }\n            }\n        };\n        sync ? doDestory() : setTimeout(doDestory);\n    }\n};\nLeafer.list = new LeafList();\n__decorate([\n    dataProcessor(LeaferData)\n], Leafer.prototype, \"__\", void 0);\n__decorate([\n    boundsType()\n], Leafer.prototype, \"pixelRatio\", void 0);\nLeafer = Leafer_1 = __decorate([\n    registerUI()\n], Leafer);\n\nlet Rect = class Rect extends UI {\n    get __tag() { return 'Rect'; }\n    constructor(data) {\n        super(data);\n    }\n};\n__decorate([\n    dataProcessor(RectData)\n], Rect.prototype, \"__\", void 0);\nRect = __decorate([\n    useModule(RectRender),\n    rewriteAble(),\n    registerUI()\n], Rect);\n\nconst rect = Rect.prototype;\nconst group = Group.prototype;\nconst childrenRenderBounds = {};\nconst { copy, add, includes: includes$1 } = BoundsHelper;\nlet Box = class Box extends Group {\n    get __tag() { return 'Box'; }\n    get isBranchLeaf() { return true; }\n    constructor(data) {\n        super(data);\n        this.__layout.renderChanged || this.__layout.renderChange();\n    }\n    __updateStrokeSpread() { return 0; }\n    __updateRectRenderSpread() { return 0; }\n    __updateRenderSpread() {\n        return this.__updateRectRenderSpread() || -1;\n    }\n    __updateRectBoxBounds() { }\n    __updateBoxBounds() {\n        const data = this.__;\n        if (this.children.length) {\n            if (data.__autoSide) {\n                if (this.leafer && this.leafer.ready)\n                    this.leafer.layouter.addExtra(this);\n                super.__updateBoxBounds();\n                if (!data.__autoSize) {\n                    const b = this.__layout.boxBounds;\n                    if (!data.__autoWidth)\n                        b.height += b.y, b.width = data.width, b.x = b.y = 0;\n                    if (!data.__autoHeight)\n                        b.width += b.x, b.height = data.height, b.y = b.x = 0;\n                }\n            }\n            else {\n                this.__updateRectBoxBounds();\n            }\n            if (data.flow)\n                this.__updateContentBounds();\n        }\n        else {\n            this.__updateRectBoxBounds();\n        }\n    }\n    __updateStrokeBounds() { }\n    __updateRenderBounds() {\n        let isOverflow;\n        const { renderBounds } = this.__layout;\n        if (this.children.length) {\n            super.__updateRenderBounds();\n            copy(childrenRenderBounds, renderBounds);\n            this.__updateRectRenderBounds();\n            isOverflow = !includes$1(renderBounds, childrenRenderBounds) || undefined;\n        }\n        else {\n            this.__updateRectRenderBounds();\n        }\n        this.isOverflow !== isOverflow && (this.isOverflow = isOverflow);\n        if (isOverflow && !(this.__.__drawAfterFill = this.__.overflow === 'hide'))\n            add(renderBounds, childrenRenderBounds);\n    }\n    __updateRectRenderBounds() { }\n    __updateRectChange() { }\n    __updateChange() {\n        super.__updateChange();\n        this.__updateRectChange();\n    }\n    __renderRect(_canvas, _options) { }\n    __renderGroup(_canvas, _options) { }\n    __render(canvas, options) {\n        if (this.__.__drawAfterFill) {\n            this.__renderRect(canvas, options);\n        }\n        else {\n            this.__renderRect(canvas, options);\n            if (this.children.length)\n                this.__renderGroup(canvas, options);\n        }\n    }\n    __drawAfterFill(canvas, options) {\n        const { length } = this.children;\n        if (this.isOverflow) {\n            canvas.save();\n            canvas.clip();\n            if (length)\n                this.__renderGroup(canvas, options);\n            canvas.restore();\n        }\n        else {\n            if (length)\n                this.__renderGroup(canvas, options);\n        }\n        if (this.__.stroke && length) {\n            canvas.setWorld(this.__nowWorld);\n            this.__drawRenderPath(canvas);\n        }\n    }\n};\n__decorate([\n    dataProcessor(BoxData)\n], Box.prototype, \"__\", void 0);\n__decorate([\n    dataType(false)\n], Box.prototype, \"resizeChildren\", void 0);\n__decorate([\n    affectRenderBoundsType('show')\n], Box.prototype, \"overflow\", void 0);\n__decorate([\n    rewrite(rect.__updateStrokeSpread)\n], Box.prototype, \"__updateStrokeSpread\", null);\n__decorate([\n    rewrite(rect.__updateRenderSpread)\n], Box.prototype, \"__updateRectRenderSpread\", null);\n__decorate([\n    rewrite(rect.__updateBoxBounds)\n], Box.prototype, \"__updateRectBoxBounds\", null);\n__decorate([\n    rewrite(rect.__updateStrokeBounds)\n], Box.prototype, \"__updateStrokeBounds\", null);\n__decorate([\n    rewrite(rect.__updateRenderBounds)\n], Box.prototype, \"__updateRectRenderBounds\", null);\n__decorate([\n    rewrite(rect.__updateChange)\n], Box.prototype, \"__updateRectChange\", null);\n__decorate([\n    rewrite(rect.__render)\n], Box.prototype, \"__renderRect\", null);\n__decorate([\n    rewrite(group.__render)\n], Box.prototype, \"__renderGroup\", null);\nBox = __decorate([\n    rewriteAble(),\n    registerUI()\n], Box);\n\nlet Frame = class Frame extends Box {\n    get __tag() { return 'Frame'; }\n    get isFrame() { return true; }\n    constructor(data) {\n        super(data);\n    }\n};\n__decorate([\n    dataProcessor(FrameData)\n], Frame.prototype, \"__\", void 0);\n__decorate([\n    surfaceType('#FFFFFF')\n], Frame.prototype, \"fill\", void 0);\n__decorate([\n    affectRenderBoundsType('hide')\n], Frame.prototype, \"overflow\", void 0);\nFrame = __decorate([\n    registerUI()\n], Frame);\n\nconst { moveTo: moveTo$3, closePath: closePath$2, ellipse } = PathCommandDataHelper;\nlet Ellipse = class Ellipse extends UI {\n    get __tag() { return 'Ellipse'; }\n    constructor(data) {\n        super(data);\n    }\n    __updatePath() {\n        const { width, height, innerRadius, startAngle, endAngle } = this.__;\n        const rx = width / 2, ry = height / 2;\n        const path = this.__.path = [];\n        if (innerRadius) {\n            if (startAngle || endAngle) {\n                if (innerRadius < 1)\n                    ellipse(path, rx, ry, rx * innerRadius, ry * innerRadius, 0, startAngle, endAngle, false);\n                ellipse(path, rx, ry, rx, ry, 0, endAngle, startAngle, true);\n                if (innerRadius < 1)\n                    closePath$2(path);\n            }\n            else {\n                if (innerRadius < 1) {\n                    ellipse(path, rx, ry, rx * innerRadius, ry * innerRadius);\n                    moveTo$3(path, width, ry);\n                }\n                ellipse(path, rx, ry, rx, ry, 0, 360, 0, true);\n            }\n            if (Platform.ellipseToCurve)\n                this.__.path = this.getPath(true);\n        }\n        else {\n            if (startAngle || endAngle) {\n                moveTo$3(path, rx, ry);\n                ellipse(path, rx, ry, rx, ry, 0, startAngle, endAngle, false);\n                closePath$2(path);\n            }\n            else {\n                ellipse(path, rx, ry, rx, ry);\n            }\n        }\n    }\n};\n__decorate([\n    dataProcessor(EllipseData)\n], Ellipse.prototype, \"__\", void 0);\n__decorate([\n    pathType(0)\n], Ellipse.prototype, \"innerRadius\", void 0);\n__decorate([\n    pathType(0)\n], Ellipse.prototype, \"startAngle\", void 0);\n__decorate([\n    pathType(0)\n], Ellipse.prototype, \"endAngle\", void 0);\nEllipse = __decorate([\n    registerUI()\n], Ellipse);\n\nconst { moveTo: moveTo$2, lineTo: lineTo$2, drawPoints: drawPoints$1 } = PathCommandDataHelper;\nconst { rotate, getAngle, getDistance, defaultPoint } = PointHelper;\nconst { toBounds } = PathBounds;\nlet Line = class Line extends UI {\n    get __tag() { return 'Line'; }\n    get toPoint() {\n        const { width, rotation } = this.__;\n        const to = getPointData();\n        if (width)\n            to.x = width;\n        if (rotation)\n            rotate(to, rotation);\n        return to;\n    }\n    set toPoint(value) {\n        this.width = getDistance(defaultPoint, value);\n        this.rotation = getAngle(defaultPoint, value);\n        if (this.height)\n            this.height = 0;\n    }\n    constructor(data) {\n        super(data);\n    }\n    __updatePath() {\n        const data = this.__;\n        const path = data.path = [];\n        if (data.points) {\n            drawPoints$1(path, data.points, false, data.closed);\n        }\n        else {\n            moveTo$2(path, 0, 0);\n            lineTo$2(path, this.width, 0);\n        }\n    }\n    __updateRenderPath() {\n        const data = this.__;\n        if (!this.pathInputed && data.points && data.curve) {\n            drawPoints$1(data.__pathForRender = [], data.points, data.curve, data.closed);\n            if (data.__useArrow)\n                PathArrow.addArrows(this, false);\n        }\n        else {\n            super.__updateRenderPath();\n        }\n    }\n    __updateBoxBounds() {\n        if (this.points) {\n            toBounds(this.__.__pathForRender, this.__layout.boxBounds);\n        }\n        else {\n            super.__updateBoxBounds();\n        }\n    }\n};\n__decorate([\n    dataProcessor(LineData)\n], Line.prototype, \"__\", void 0);\n__decorate([\n    affectStrokeBoundsType('center')\n], Line.prototype, \"strokeAlign\", void 0);\n__decorate([\n    boundsType(0)\n], Line.prototype, \"height\", void 0);\n__decorate([\n    pathType()\n], Line.prototype, \"points\", void 0);\n__decorate([\n    pathType(0)\n], Line.prototype, \"curve\", void 0);\n__decorate([\n    pathType(false)\n], Line.prototype, \"closed\", void 0);\nLine = __decorate([\n    registerUI()\n], Line);\n\nconst { sin: sin$1, cos: cos$1, PI: PI$1 } = Math;\nconst { moveTo: moveTo$1, lineTo: lineTo$1, closePath: closePath$1, drawPoints } = PathCommandDataHelper;\nconst line = Line.prototype;\nlet Polygon = class Polygon extends UI {\n    get __tag() { return 'Polygon'; }\n    constructor(data) {\n        super(data);\n    }\n    __updatePath() {\n        const path = this.__.path = [];\n        if (this.__.points) {\n            drawPoints(path, this.__.points, false, true);\n        }\n        else {\n            const { width, height, sides } = this.__;\n            const rx = width / 2, ry = height / 2;\n            moveTo$1(path, rx, 0);\n            for (let i = 1; i < sides; i++) {\n                lineTo$1(path, rx + rx * sin$1((i * 2 * PI$1) / sides), ry - ry * cos$1((i * 2 * PI$1) / sides));\n            }\n        }\n        closePath$1(path);\n    }\n    __updateRenderPath() { }\n    __updateBoxBounds() { }\n};\n__decorate([\n    dataProcessor(PolygonData)\n], Polygon.prototype, \"__\", void 0);\n__decorate([\n    pathType(3)\n], Polygon.prototype, \"sides\", void 0);\n__decorate([\n    pathType()\n], Polygon.prototype, \"points\", void 0);\n__decorate([\n    pathType(0)\n], Polygon.prototype, \"curve\", void 0);\n__decorate([\n    rewrite(line.__updateRenderPath)\n], Polygon.prototype, \"__updateRenderPath\", null);\n__decorate([\n    rewrite(line.__updateBoxBounds)\n], Polygon.prototype, \"__updateBoxBounds\", null);\nPolygon = __decorate([\n    rewriteAble(),\n    registerUI()\n], Polygon);\n\nconst { sin, cos, PI } = Math;\nconst { moveTo, lineTo, closePath } = PathCommandDataHelper;\nlet Star = class Star extends UI {\n    get __tag() { return 'Star'; }\n    constructor(data) {\n        super(data);\n    }\n    __updatePath() {\n        const { width, height, corners, innerRadius } = this.__;\n        const rx = width / 2, ry = height / 2;\n        const path = this.__.path = [];\n        moveTo(path, rx, 0);\n        for (let i = 1; i < corners * 2; i++) {\n            lineTo(path, rx + (i % 2 === 0 ? rx : rx * innerRadius) * sin((i * PI) / corners), ry - (i % 2 === 0 ? ry : ry * innerRadius) * cos((i * PI) / corners));\n        }\n        closePath(path);\n    }\n};\n__decorate([\n    dataProcessor(StarData)\n], Star.prototype, \"__\", void 0);\n__decorate([\n    pathType(5)\n], Star.prototype, \"corners\", void 0);\n__decorate([\n    pathType(0.382)\n], Star.prototype, \"innerRadius\", void 0);\nStar = __decorate([\n    registerUI()\n], Star);\n\nlet Image = class Image extends Rect {\n    get __tag() { return 'Image'; }\n    get ready() { return this.image ? this.image.ready : false; }\n    constructor(data) {\n        super(data);\n        this.on(ImageEvent.LOADED, (e) => {\n            if (e.attrName === 'fill' && e.attrValue.url === this.url)\n                this.image = e.image;\n        });\n    }\n    destroy() {\n        this.image = null;\n        super.destroy();\n    }\n};\n__decorate([\n    dataProcessor(ImageData)\n], Image.prototype, \"__\", void 0);\n__decorate([\n    boundsType('')\n], Image.prototype, \"url\", void 0);\nImage = __decorate([\n    registerUI()\n], Image);\n\nlet Canvas = class Canvas extends Rect {\n    get __tag() { return 'Canvas'; }\n    constructor(data) {\n        super(data);\n        this.canvas = Creator.canvas(this.__);\n        this.context = this.canvas.context;\n        this.__.__isCanvas = this.__.__drawAfterFill = true;\n    }\n    draw(ui, offset, scale, rotation) {\n        ui.__layout.update();\n        const matrix = new Matrix(ui.__world).invert();\n        const m = new Matrix();\n        if (offset)\n            m.translate(offset.x, offset.y);\n        if (scale)\n            typeof scale === 'number' ? m.scale(scale) : m.scale(scale.x, scale.y);\n        if (rotation)\n            m.rotate(rotation);\n        matrix.multiplyParent(m);\n        ui.__render(this.canvas, { matrix: matrix.withScale() });\n        this.paint();\n    }\n    paint() {\n        this.forceUpdate('fill');\n    }\n    __drawAfterFill(canvas, _options) {\n        const origin = this.canvas.view;\n        const { width, height } = this;\n        if (this.__.cornerRadius || this.pathInputed) {\n            canvas.save();\n            canvas.clip();\n            canvas.drawImage(this.canvas.view, 0, 0, origin.width, origin.height, 0, 0, width, height);\n            canvas.restore();\n        }\n        else {\n            canvas.drawImage(this.canvas.view, 0, 0, origin.width, origin.height, 0, 0, width, height);\n        }\n    }\n    __updateSize() {\n        const { canvas } = this;\n        if (canvas) {\n            const { smooth } = this.__;\n            if (canvas.smooth !== smooth)\n                canvas.smooth = smooth;\n            canvas.resize(this.__);\n        }\n    }\n    destroy() {\n        if (this.canvas) {\n            this.canvas.destroy();\n            this.canvas = null;\n            this.context = null;\n        }\n        super.destroy();\n    }\n};\n__decorate([\n    dataProcessor(CanvasData)\n], Canvas.prototype, \"__\", void 0);\n__decorate([\n    resizeType(100)\n], Canvas.prototype, \"width\", void 0);\n__decorate([\n    resizeType(100)\n], Canvas.prototype, \"height\", void 0);\n__decorate([\n    resizeType(Platform.devicePixelRatio)\n], Canvas.prototype, \"pixelRatio\", void 0);\n__decorate([\n    resizeType(true)\n], Canvas.prototype, \"smooth\", void 0);\n__decorate([\n    resizeType()\n], Canvas.prototype, \"contextSettings\", void 0);\nCanvas = __decorate([\n    registerUI()\n], Canvas);\n\nconst { copyAndSpread, includes, isSame, spread, setList } = BoundsHelper;\nlet Text = class Text extends UI {\n    get __tag() { return 'Text'; }\n    get editInner() { return 'TextEditor'; }\n    get textDrawData() {\n        this.__layout.update();\n        return this.__.__textDrawData;\n    }\n    constructor(data) {\n        super(data);\n    }\n    __drawHitPath(canvas) {\n        const { __lineHeight, __baseLine, __textDrawData: data } = this.__;\n        canvas.beginPath();\n        if (this.__.__letterSpacing < 0) {\n            this.__drawPathByData(canvas);\n        }\n        else {\n            data.rows.forEach(row => canvas.rect(row.x, row.y - __baseLine, row.width, __lineHeight));\n        }\n    }\n    __drawPathByData(drawer, _data) {\n        const { x, y, width, height } = this.__layout.boxBounds;\n        drawer.rect(x, y, width, height);\n    }\n    __drawRenderPath(canvas) {\n        canvas.font = this.__.__font;\n    }\n    __updateTextDrawData() {\n        const data = this.__;\n        data.__textDrawData = TextConvert.getDrawData(data.text, this.__);\n    }\n    __updateBoxBounds() {\n        const data = this.__;\n        const layout = this.__layout;\n        const { lineHeight, letterSpacing, fontFamily, fontSize, fontWeight, italic, textCase, textOverflow, padding } = data;\n        const autoWidth = data.__autoWidth;\n        const autoHeight = data.__autoHeight;\n        data.__lineHeight = UnitConvert.number(lineHeight, fontSize);\n        data.__letterSpacing = UnitConvert.number(letterSpacing, fontSize);\n        data.__padding = padding ? MathHelper.fourNumber(padding) : undefined;\n        data.__baseLine = data.__lineHeight - (data.__lineHeight - fontSize * 0.7) / 2;\n        data.__font = `${italic ? 'italic ' : ''}${textCase === 'small-caps' ? 'small-caps ' : ''}${fontWeight !== 'normal' ? fontWeight + ' ' : ''}${fontSize}px ${fontFamily}`;\n        data.__clipText = textOverflow !== 'show' && !data.__autoSize;\n        this.__updateTextDrawData();\n        const { bounds } = data.__textDrawData;\n        const b = layout.boxBounds;\n        if (data.__lineHeight < fontSize)\n            spread(bounds, fontSize / 2);\n        if (autoWidth || autoHeight) {\n            b.x = autoWidth ? bounds.x : 0;\n            b.y = autoHeight ? bounds.y : 0;\n            b.width = autoWidth ? bounds.width : data.width;\n            b.height = autoHeight ? bounds.height : data.height;\n            if (padding) {\n                const [top, right, bottom, left] = data.__padding;\n                if (autoWidth) {\n                    b.x -= left;\n                    b.width += (right + left);\n                }\n                if (autoHeight) {\n                    b.y -= top;\n                    b.height += (bottom + top);\n                }\n            }\n            this.__updateNaturalSize();\n        }\n        else {\n            super.__updateBoxBounds();\n        }\n        if (italic)\n            b.width += fontSize * 0.16;\n        const contentBounds = includes(b, bounds) ? b : bounds;\n        if (!isSame(contentBounds, layout.contentBounds)) {\n            layout.contentBounds = contentBounds;\n            layout.renderChanged = true;\n            setList(data.__textBoxBounds = {}, [b, bounds]);\n        }\n        else {\n            data.__textBoxBounds = contentBounds;\n        }\n    }\n    __updateRenderSpread() {\n        let width = super.__updateRenderSpread();\n        if (!width)\n            width = this.__layout.boxBounds === this.__layout.contentBounds ? 0 : 1;\n        return width;\n    }\n    __updateRenderBounds() {\n        copyAndSpread(this.__layout.renderBounds, this.__.__textBoxBounds, this.__layout.renderSpread);\n    }\n};\n__decorate([\n    dataProcessor(TextData)\n], Text.prototype, \"__\", void 0);\n__decorate([\n    boundsType(0)\n], Text.prototype, \"width\", void 0);\n__decorate([\n    boundsType(0)\n], Text.prototype, \"height\", void 0);\n__decorate([\n    dataType(false)\n], Text.prototype, \"resizeFontSize\", void 0);\n__decorate([\n    surfaceType('#000000')\n], Text.prototype, \"fill\", void 0);\n__decorate([\n    affectStrokeBoundsType('outside')\n], Text.prototype, \"strokeAlign\", void 0);\n__decorate([\n    hitType('all')\n], Text.prototype, \"hitFill\", void 0);\n__decorate([\n    boundsType('')\n], Text.prototype, \"text\", void 0);\n__decorate([\n    boundsType('L')\n], Text.prototype, \"fontFamily\", void 0);\n__decorate([\n    boundsType(12)\n], Text.prototype, \"fontSize\", void 0);\n__decorate([\n    boundsType('normal')\n], Text.prototype, \"fontWeight\", void 0);\n__decorate([\n    boundsType(false)\n], Text.prototype, \"italic\", void 0);\n__decorate([\n    boundsType('none')\n], Text.prototype, \"textCase\", void 0);\n__decorate([\n    boundsType('none')\n], Text.prototype, \"textDecoration\", void 0);\n__decorate([\n    boundsType(0)\n], Text.prototype, \"letterSpacing\", void 0);\n__decorate([\n    boundsType({ type: 'percent', value: 1.5 })\n], Text.prototype, \"lineHeight\", void 0);\n__decorate([\n    boundsType(0)\n], Text.prototype, \"paraIndent\", void 0);\n__decorate([\n    boundsType(0)\n], Text.prototype, \"paraSpacing\", void 0);\n__decorate([\n    boundsType('left')\n], Text.prototype, \"textAlign\", void 0);\n__decorate([\n    boundsType('top')\n], Text.prototype, \"verticalAlign\", void 0);\n__decorate([\n    boundsType('normal')\n], Text.prototype, \"textWrap\", void 0);\n__decorate([\n    boundsType('show')\n], Text.prototype, \"textOverflow\", void 0);\nText = __decorate([\n    registerUI()\n], Text);\n\nlet Path = class Path extends UI {\n    get __tag() { return 'Path'; }\n    constructor(data) {\n        super(data);\n        this.__.__pathInputed = 2;\n    }\n};\n__decorate([\n    dataProcessor(PathData)\n], Path.prototype, \"__\", void 0);\n__decorate([\n    affectStrokeBoundsType('center')\n], Path.prototype, \"strokeAlign\", void 0);\nPath = __decorate([\n    registerUI()\n], Path);\n\nlet Pen = class Pen extends Group {\n    get __tag() { return 'Pen'; }\n    constructor(data) {\n        super(data);\n    }\n    setStyle(data) {\n        const path = this.pathElement = new Path(data);\n        this.pathStyle = data;\n        this.__path = path.path || (path.path = []);\n        this.add(path);\n        return this;\n    }\n    beginPath() {\n        this.__path.length = 0;\n        this.paint();\n        return this;\n    }\n    moveTo(_x, _y) { return this; }\n    lineTo(_x, _y) { return this; }\n    bezierCurveTo(_x1, _y1, _x2, _y2, _x, _y) { return this; }\n    quadraticCurveTo(_x1, _y1, _x, _y) { return this; }\n    closePath() { return this; }\n    rect(_x, _y, _width, _height) { return this; }\n    roundRect(_x, _y, _width, _height, _cornerRadius) { return this; }\n    ellipse(_x, _y, _radiusX, _radiusY, _rotation, _startAngle, _endAngle, _anticlockwise) { return this; }\n    arc(_x, _y, _radius, _startAngle, _endAngle, _anticlockwise) { return this; }\n    arcTo(_x1, _y1, _x2, _y2, _radius) { return this; }\n    drawEllipse(_x, _y, _radiusX, _radiusY, _rotation, _startAngle, _endAngle, _anticlockwise) { return this; }\n    drawArc(_x, _y, _radius, _startAngle, _endAngle, _anticlockwise) { return this; }\n    drawPoints(_points, _curve, _close) { return this; }\n    clearPath() { return this; }\n    paint() {\n        this.pathElement.forceUpdate('path');\n    }\n};\n__decorate([\n    dataProcessor(PenData)\n], Pen.prototype, \"__\", void 0);\n__decorate([\n    penPathType()\n], Pen.prototype, \"path\", void 0);\nPen = __decorate([\n    useModule(PathCreator, ['set', 'beginPath', 'path']),\n    registerUI()\n], Pen);\nfunction penPathType() {\n    return (target, key) => {\n        defineKey(target, key, {\n            get() { return this.__path; }\n        });\n    };\n}\n\nexport { Box, BoxData, Canvas, CanvasData, ColorConvert, Effect, Ellipse, EllipseData, Export, Frame, FrameData, Group, GroupData, Image, ImageData, Leafer, LeaferData, Line, LineData, Paint, PaintGradient, PaintImage, Path, PathArrow, PathData, Pen, PenData, Polygon, PolygonData, Rect, RectData, RectRender, Star, StarData, State, Text, TextConvert, TextData, UI, UIBounds, UIData, UIRender, UnitConvert, arrowType, effectType, resizeType, stateType, zoomLayerType };\n","import { Leafer, State, UI, ImageManager, Rect, Group } from '@leafer-ui/draw';\nexport * from '@leafer-ui/draw';\nimport { registerUI, Creator, PropertyEvent, Debug, DataHelper, canvasSizeAttrs, LayoutEvent, RenderEvent, Event, EventCreator, registerUIEvent, LeafList, BoundsHelper, PointHelper, Bounds, ResizeEvent, LeaferEvent, CanvasManager, Leaf, Matrix, Platform, tempBounds, LeaferCanvasBase } from '@leafer/core';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nlet App = class App extends Leafer {\n    get __tag() { return 'App'; }\n    get isApp() { return true; }\n    constructor(userConfig, data) {\n        super(userConfig, data);\n    }\n    init(userConfig, parentApp) {\n        super.init(userConfig, parentApp);\n        if (userConfig) {\n            const { ground, tree, sky, editor } = userConfig;\n            if (ground)\n                this.ground = this.addLeafer(ground);\n            if (tree || editor)\n                this.tree = this.addLeafer(tree);\n            if (sky || editor)\n                this.sky = this.addLeafer(sky || { type: 'draw', usePartRender: false });\n            if (editor) {\n                this.editor = Creator.editor(editor);\n                this.sky.add(this.editor);\n            }\n        }\n    }\n    __setApp() {\n        const { canvas } = this;\n        const { realCanvas, view } = this.config;\n        if (realCanvas || view === this.canvas.view || !canvas.parentView) {\n            this.realCanvas = true;\n        }\n        else {\n            canvas.unrealCanvas();\n        }\n        this.leafer = this;\n        this.watcher.disable();\n        this.layouter.disable();\n        this.__eventIds.push(this.on_(PropertyEvent.CHANGE, this.__onPropertyChange, this));\n    }\n    start() {\n        super.start();\n        this.children.forEach(leafer => leafer.start());\n    }\n    stop() {\n        this.children.forEach(leafer => leafer.stop());\n        super.stop();\n    }\n    unlockLayout() {\n        super.unlockLayout();\n        this.children.forEach(leafer => leafer.unlockLayout());\n    }\n    lockLayout() {\n        super.lockLayout();\n        this.children.forEach(leafer => leafer.lockLayout());\n    }\n    forceRender(bounds) {\n        this.children.forEach(leafer => leafer.forceRender(bounds));\n    }\n    addLeafer(merge) {\n        const leafer = new Leafer(merge);\n        this.add(leafer);\n        return leafer;\n    }\n    add(leafer, index) {\n        if (!leafer.view) {\n            if (this.realCanvas && !this.canvas.bounds) {\n                setTimeout(() => this.add(leafer, index), 10);\n                return;\n            }\n            leafer.init(this.__getChildConfig(leafer.userConfig), this);\n        }\n        super.add(leafer, index);\n        if (index !== undefined)\n            leafer.canvas.childIndex = index;\n        this.__listenChildEvents(leafer);\n    }\n    __onPropertyChange() {\n        if (Debug.showHitView)\n            this.children.forEach(leafer => leafer.forceUpdate('surface'));\n    }\n    __onCreated() {\n        this.created = this.children.every(child => child.created);\n    }\n    __onReady() {\n        if (this.children.every(child => child.ready))\n            super.__onReady();\n    }\n    __onViewReady() {\n        if (this.children.every(child => child.viewReady))\n            super.__onViewReady();\n    }\n    __onChildRenderEnd(e) {\n        this.renderer.addBlock(e.renderBounds);\n        if (this.viewReady)\n            this.renderer.update();\n    }\n    __render(canvas, options) {\n        if (options.matrix) {\n            const { a, b, c, d, e, f } = options.matrix;\n            canvas.setTransform(a, b, c, d, e, f);\n        }\n        this.children.forEach(leafer => canvas.copyWorld(leafer.canvas));\n    }\n    __onResize(event) {\n        this.children.forEach(leafer => leafer.resize(event));\n        super.__onResize(event);\n    }\n    __checkUpdateLayout() {\n        this.children.forEach(leafer => leafer.__layout.update());\n    }\n    __getChildConfig(userConfig) {\n        let config = Object.assign({}, this.config);\n        config.hittable = config.realCanvas = undefined;\n        if (userConfig)\n            DataHelper.assign(config, userConfig);\n        if (this.autoLayout)\n            DataHelper.copyAttrs(config, this, canvasSizeAttrs);\n        config.view = this.realCanvas ? undefined : this.view;\n        config.fill = undefined;\n        return config;\n    }\n    __listenChildEvents(leafer) {\n        leafer.once(LayoutEvent.END, () => this.__onReady());\n        leafer.once(RenderEvent.START, () => this.__onCreated());\n        leafer.once(RenderEvent.END, () => this.__onViewReady());\n        if (this.realCanvas)\n            this.__eventIds.push(leafer.on_(RenderEvent.END, this.__onChildRenderEnd, this));\n    }\n};\nApp = __decorate([\n    registerUI()\n], App);\n\nconst downKeyMap = {};\nconst Keyboard = {\n    isHoldSpaceKey() {\n        return Keyboard.isHold('Space');\n    },\n    isHold(code) {\n        return downKeyMap[code];\n    },\n    setDownCode(code) {\n        if (!downKeyMap[code])\n            downKeyMap[code] = true;\n    },\n    setUpCode(code) {\n        downKeyMap[code] = false;\n    }\n};\n\nconst PointerButton = {\n    LEFT: 1,\n    RIGHT: 2,\n    MIDDLE: 4,\n    defaultLeft(event) { if (!event.buttons)\n        event.buttons = 1; },\n    left(event) { return event.buttons === 1; },\n    right(event) { return event.buttons === 2; },\n    middle(event) { return event.buttons === 4; }\n};\n\nclass UIEvent extends Event {\n    get spaceKey() { return Keyboard.isHoldSpaceKey(); }\n    get left() { return PointerButton.left(this); }\n    get right() { return PointerButton.right(this); }\n    get middle() { return PointerButton.middle(this); }\n    constructor(params) {\n        super(params.type);\n        this.bubbles = true;\n        Object.assign(this, params);\n    }\n    getPage() {\n        return this.current.getPagePoint(this);\n    }\n    getInner(relative) {\n        if (!relative)\n            relative = this.current;\n        return relative.getInnerPoint(this);\n    }\n    getLocal(relative) {\n        if (!relative)\n            relative = this.current;\n        return relative.getLocalPoint(this);\n    }\n    static changeName(oldName, newName) {\n        EventCreator.changeName(oldName, newName);\n    }\n}\n\nlet PointerEvent = class PointerEvent extends UIEvent {\n};\nPointerEvent.POINTER = 'pointer';\nPointerEvent.BEFORE_DOWN = 'pointer.before_down';\nPointerEvent.BEFORE_MOVE = 'pointer.before_move';\nPointerEvent.BEFORE_UP = 'pointer.before_up';\nPointerEvent.DOWN = 'pointer.down';\nPointerEvent.MOVE = 'pointer.move';\nPointerEvent.UP = 'pointer.up';\nPointerEvent.OVER = 'pointer.over';\nPointerEvent.OUT = 'pointer.out';\nPointerEvent.ENTER = 'pointer.enter';\nPointerEvent.LEAVE = 'pointer.leave';\nPointerEvent.TAP = 'tap';\nPointerEvent.DOUBLE_TAP = 'double_tap';\nPointerEvent.CLICK = 'click';\nPointerEvent.DOUBLE_CLICK = 'double_click';\nPointerEvent.LONG_PRESS = 'long_press';\nPointerEvent.LONG_TAP = 'long_tap';\nPointerEvent.MENU = 'pointer.menu';\nPointerEvent.MENU_TAP = 'pointer.menu_tap';\nPointerEvent = __decorate([\n    registerUIEvent()\n], PointerEvent);\n\nconst move = {};\nlet DragEvent = class DragEvent extends PointerEvent {\n    static setList(data) {\n        this.list = data instanceof LeafList ? data : new LeafList(data);\n    }\n    static setData(data) {\n        this.data = data;\n    }\n    static getValidMove(leaf, start, total) {\n        const { draggable, dragBounds, x, y } = leaf;\n        const move = leaf.getLocalPoint(total, null, true);\n        move.x += start.x - x;\n        move.y += start.y - y;\n        if (dragBounds)\n            this.getMoveInDragBounds(leaf.__local, dragBounds === 'parent' ? leaf.parent.boxBounds : dragBounds, move, true);\n        if (draggable === 'x')\n            move.y = 0;\n        if (draggable === 'y')\n            move.x = 0;\n        return move;\n    }\n    static getMoveInDragBounds(childBox, dragBounds, move, change) {\n        const x = childBox.x + move.x, y = childBox.y + move.y;\n        const right = x + childBox.width, bottom = y + childBox.height;\n        const boundsRight = dragBounds.x + dragBounds.width, boundsBottom = dragBounds.y + dragBounds.height;\n        if (!change)\n            move = Object.assign({}, move);\n        if (BoundsHelper.includes(childBox, dragBounds)) {\n            if (x > dragBounds.x)\n                move.x += dragBounds.x - x;\n            else if (right < boundsRight)\n                move.x += boundsRight - right;\n            if (y > dragBounds.y)\n                move.y += dragBounds.y - y;\n            else if (bottom < boundsBottom)\n                move.y += boundsBottom - bottom;\n        }\n        else {\n            if (x < dragBounds.x)\n                move.x += dragBounds.x - x;\n            else if (right > boundsRight)\n                move.x += boundsRight - right;\n            if (y < dragBounds.y)\n                move.y += dragBounds.y - y;\n            else if (bottom > boundsBottom)\n                move.y += boundsBottom - bottom;\n        }\n        return move;\n    }\n    getPageMove(total) {\n        this.assignMove(total);\n        return this.current.getPagePoint(move, null, true);\n    }\n    getInnerMove(relative, total) {\n        if (!relative)\n            relative = this.current;\n        this.assignMove(total);\n        return relative.getInnerPoint(move, null, true);\n    }\n    getLocalMove(relative, total) {\n        if (!relative)\n            relative = this.current;\n        this.assignMove(total);\n        return relative.getLocalPoint(move, null, true);\n    }\n    getPageTotal() {\n        return this.getPageMove(true);\n    }\n    getInnerTotal(relative) {\n        return this.getInnerMove(relative, true);\n    }\n    getLocalTotal(relative) {\n        return this.getLocalMove(relative, true);\n    }\n    getPageBounds() {\n        const total = this.getPageTotal();\n        const start = this.getPage();\n        const bounds = {};\n        BoundsHelper.set(bounds, start.x - total.x, start.y - total.y, total.x, total.y);\n        BoundsHelper.unsign(bounds);\n        return bounds;\n    }\n    assignMove(total) {\n        move.x = total ? this.totalX : this.moveX;\n        move.y = total ? this.totalY : this.moveY;\n    }\n};\nDragEvent.BEFORE_DRAG = 'drag.before_drag';\nDragEvent.START = 'drag.start';\nDragEvent.DRAG = 'drag';\nDragEvent.END = 'drag.end';\nDragEvent.OVER = 'drag.over';\nDragEvent.OUT = 'drag.out';\nDragEvent.ENTER = 'drag.enter';\nDragEvent.LEAVE = 'drag.leave';\nDragEvent = __decorate([\n    registerUIEvent()\n], DragEvent);\n\nlet DropEvent = class DropEvent extends PointerEvent {\n    static setList(data) {\n        DragEvent.setList(data);\n    }\n    static setData(data) {\n        DragEvent.setData(data);\n    }\n};\nDropEvent.DROP = 'drop';\nDropEvent = __decorate([\n    registerUIEvent()\n], DropEvent);\n\nlet MoveEvent = class MoveEvent extends DragEvent {\n};\nMoveEvent.BEFORE_MOVE = 'move.before_move';\nMoveEvent.START = 'move.start';\nMoveEvent.MOVE = 'move';\nMoveEvent.END = 'move.end';\nMoveEvent = __decorate([\n    registerUIEvent()\n], MoveEvent);\n\nlet RotateEvent = class RotateEvent extends UIEvent {\n};\nRotateEvent.BEFORE_ROTATE = 'rotate.before_rotate';\nRotateEvent.START = 'rotate.start';\nRotateEvent.ROTATE = 'rotate';\nRotateEvent.END = 'rotate.end';\nRotateEvent = __decorate([\n    registerUIEvent()\n], RotateEvent);\n\nlet SwipeEvent = class SwipeEvent extends DragEvent {\n};\nSwipeEvent.SWIPE = 'swipe';\nSwipeEvent.LEFT = 'swipe.left';\nSwipeEvent.RIGHT = 'swipe.right';\nSwipeEvent.UP = 'swipe.up';\nSwipeEvent.DOWN = 'swipe.down';\nSwipeEvent = __decorate([\n    registerUIEvent()\n], SwipeEvent);\n\nlet ZoomEvent = class ZoomEvent extends UIEvent {\n};\nZoomEvent.BEFORE_ZOOM = 'zoom.before_zoom';\nZoomEvent.START = 'zoom.start';\nZoomEvent.ZOOM = 'zoom';\nZoomEvent.END = 'zoom.end';\nZoomEvent = __decorate([\n    registerUIEvent()\n], ZoomEvent);\n\nlet KeyEvent = class KeyEvent extends UIEvent {\n};\nKeyEvent.DOWN = 'key.down';\nKeyEvent.HOLD = 'key.hold';\nKeyEvent.UP = 'key.up';\nKeyEvent = __decorate([\n    registerUIEvent()\n], KeyEvent);\n\nfunction addInteractionWindow(leafer) {\n    if (leafer.isApp)\n        return;\n    leafer.__eventIds.push(leafer.on_(MoveEvent.BEFORE_MOVE, (e) => {\n        leafer.zoomLayer.move(leafer.getValidMove(e.moveX, e.moveY));\n    }), leafer.on_(ZoomEvent.BEFORE_ZOOM, (e) => {\n        const { zoomLayer } = leafer;\n        const changeScale = leafer.getValidScale(e.scale);\n        if (changeScale !== 1) {\n            PointHelper.scaleOf(zoomLayer, e, changeScale);\n            zoomLayer.scale = zoomLayer.__.scaleX * changeScale;\n        }\n    }));\n}\n\nfunction document(leafer) {\n    addInteractionWindow(leafer);\n    leafer.config.move.scroll = 'limit';\n    leafer.config.zoom.min = 1;\n}\n\nconst debug$1 = Debug.get('LeaferTypeCreator');\nconst LeaferTypeCreator = {\n    list: {},\n    register(name, fn) {\n        if (list[name]) {\n            debug$1.repeat(name);\n        }\n        else {\n            list[name] = fn;\n        }\n    },\n    run(name, leafer) {\n        const fn = list[name];\n        if (fn) {\n            fn(leafer);\n        }\n        else {\n            debug$1.error('no', name);\n        }\n    }\n};\nconst { list, register } = LeaferTypeCreator;\nregister('draw', () => { });\nregister('custom', () => { });\nregister('design', addInteractionWindow);\nregister('document', document);\n\nconst leafer = Leafer.prototype;\nleafer.initType = function (type) {\n    LeaferTypeCreator.run(type, this);\n};\nleafer.getValidMove = function (moveX, moveY) {\n    const { scroll, disabled } = this.app.config.move;\n    if (scroll) {\n        if (Math.abs(moveX) > Math.abs(moveY))\n            moveY = 0;\n        else\n            moveX = 0;\n        if (scroll === 'limit') {\n            const { x, y, width, height } = new Bounds(this.__world).addPoint(this.zoomLayer);\n            const right = x + width - this.width, bottom = y + height - this.height;\n            if (x >= 0 && right <= 0)\n                moveX = 0;\n            else if (moveX > 0) {\n                if (x + moveX > 0)\n                    moveX = -x;\n            }\n            else if (moveX < 0 && right + moveX < 0)\n                moveX = -right;\n            if (y >= 0 && bottom <= 0)\n                moveY = 0;\n            else if (moveY > 0) {\n                if (y + moveY > 0)\n                    moveY = -y;\n            }\n            else if (moveY < 0 && bottom + moveY < 0)\n                moveY = -bottom;\n        }\n    }\n    return { x: disabled ? 0 : moveX, y: disabled ? 0 : moveY };\n};\nleafer.getValidScale = function (changeScale) {\n    const { scaleX } = this.zoomLayer.__, { min, max, disabled } = this.app.config.zoom, absScale = Math.abs(scaleX * changeScale);\n    if (absScale < min)\n        changeScale = min / scaleX;\n    else if (absScale > max)\n        changeScale = max / scaleX;\n    return disabled ? 1 : changeScale;\n};\n\nclass Transformer {\n    constructor(interaction) {\n        this.interaction = interaction;\n    }\n    move(data) {\n        const { interaction } = this;\n        if (!this.moveData) {\n            const { path } = interaction.selector.getByPoint(data, interaction.hitRadius);\n            data.path = path;\n            this.moveData = Object.assign(Object.assign({}, data), { moveX: 0, moveY: 0 });\n            interaction.cancelHover();\n            interaction.emit(MoveEvent.START, this.moveData);\n        }\n        data.path = this.moveData.path;\n        interaction.emit(MoveEvent.BEFORE_MOVE, data);\n        interaction.emit(MoveEvent.MOVE, data);\n        this.transformEndWait();\n    }\n    zoom(data) {\n        const { interaction } = this;\n        if (!this.zoomData) {\n            const { path } = interaction.selector.getByPoint(data, interaction.hitRadius);\n            data.path = path;\n            this.zoomData = Object.assign(Object.assign({}, data), { scale: 1 });\n            interaction.cancelHover();\n            interaction.emit(ZoomEvent.START, this.zoomData);\n        }\n        data.path = this.zoomData.path;\n        interaction.emit(ZoomEvent.BEFORE_ZOOM, data);\n        interaction.emit(ZoomEvent.ZOOM, data);\n        this.transformEndWait();\n    }\n    rotate(data) {\n        const { interaction } = this;\n        if (!this.rotateData) {\n            const { path } = interaction.selector.getByPoint(data, interaction.hitRadius);\n            data.path = path;\n            this.rotateData = Object.assign(Object.assign({}, data), { rotation: 0 });\n            interaction.cancelHover();\n            interaction.emit(RotateEvent.START, this.rotateData);\n        }\n        data.path = this.rotateData.path;\n        interaction.emit(RotateEvent.BEFORE_ROTATE, data);\n        interaction.emit(RotateEvent.ROTATE, data);\n        this.transformEndWait();\n    }\n    transformEndWait() {\n        clearTimeout(this.transformTimer);\n        this.transformTimer = setTimeout(() => {\n            this.transformEnd();\n        }, this.interaction.config.pointer.transformTime);\n    }\n    transformEnd() {\n        this.moveEnd();\n        this.zoomEnd();\n        this.rotateEnd();\n    }\n    moveEnd() {\n        if (this.moveData) {\n            this.interaction.emit(MoveEvent.END, this.moveData);\n            this.moveData = null;\n        }\n    }\n    zoomEnd() {\n        if (this.zoomData) {\n            this.interaction.emit(ZoomEvent.END, this.zoomData);\n            this.zoomData = null;\n        }\n    }\n    rotateEnd() {\n        if (this.rotateData) {\n            this.interaction.emit(RotateEvent.END, this.rotateData);\n            this.rotateData = null;\n        }\n    }\n    destroy() {\n        this.zoomData = this.moveData = this.rotateData = null;\n    }\n}\n\nconst InteractionHelper = {\n    getMoveEventData(center, move, event) {\n        return Object.assign(Object.assign({}, event), { x: center.x, y: center.y, moveX: move.x, moveY: move.y });\n    },\n    getRotateEventData(center, angle, event) {\n        return Object.assign(Object.assign({}, event), { x: center.x, y: center.y, rotation: angle });\n    },\n    getZoomEventData(center, scale, event) {\n        return Object.assign(Object.assign({}, event), { x: center.x, y: center.y, scale });\n    },\n    getDragEventData(startPoint, lastPoint, event) {\n        return Object.assign(Object.assign({}, event), { x: event.x, y: event.y, moveX: event.x - lastPoint.x, moveY: event.y - lastPoint.y, totalX: event.x - startPoint.x, totalY: event.y - startPoint.y });\n    },\n    getDropEventData(event, list, data) {\n        return Object.assign(Object.assign({}, event), { list,\n            data });\n    },\n    getSwipeDirection(angle) {\n        if (angle < -45 && angle > -135) {\n            return SwipeEvent.UP;\n        }\n        else if (angle > 45 && angle < 135) {\n            return SwipeEvent.DOWN;\n        }\n        else if (angle <= 45 && angle >= -45) {\n            return SwipeEvent.RIGHT;\n        }\n        else {\n            return SwipeEvent.LEFT;\n        }\n    },\n    getSwipeEventData(startPoint, lastDragData, event) {\n        return Object.assign(Object.assign({}, event), { moveX: lastDragData.moveX, moveY: lastDragData.moveY, totalX: event.x - startPoint.x, totalY: event.y - startPoint.y, type: I.getSwipeDirection(PointHelper.getAngle(startPoint, event)) });\n    },\n    getBase(e) {\n        const pointerUpButtons = e.button === 1 ? 4 : e.button;\n        return {\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n            shiftKey: e.shiftKey,\n            metaKey: e.metaKey,\n            buttons: e.buttons === undefined ? 1 : (e.buttons === 0 ? pointerUpButtons : e.buttons),\n            origin: e\n        };\n    },\n    pathHasEventType(path, type) {\n        const { list } = path;\n        for (let i = 0, len = list.length; i < len; i++) {\n            if (list[i].hasEvent(type))\n                return true;\n        }\n        return false;\n    },\n    filterPathByEventType(path, type) {\n        const find = new LeafList();\n        const { list } = path;\n        for (let i = 0, len = list.length; i < len; i++) {\n            if (list[i].hasEvent(type))\n                find.add(list[i]);\n        }\n        return find;\n    }\n};\nconst I = InteractionHelper;\n\nconst emptyList = new LeafList();\nconst { getDragEventData, getDropEventData, getSwipeEventData } = InteractionHelper;\nclass Dragger {\n    constructor(interaction) {\n        this.interaction = interaction;\n    }\n    setDragData(data) {\n        if (this.animateWait)\n            this.dragEndReal();\n        this.downData = this.interaction.downData;\n        this.dragData = getDragEventData(data, data, data);\n        this.canAnimate = this.canDragOut = true;\n    }\n    getList() {\n        const { proxy } = this.interaction.selector;\n        return this.dragging && (!proxy || !proxy.list.length) ? (DragEvent.list || this.dragableList || emptyList) : emptyList;\n    }\n    checkDrag(data, canDrag) {\n        const { interaction } = this;\n        if (this.moving && data.buttons < 1) {\n            this.canAnimate = false;\n            interaction.pointerCancel();\n            return;\n        }\n        if (!this.moving && canDrag) {\n            if (this.moving = interaction.canMove(this.downData) || interaction.isHoldRightKey || interaction.isMobileDragEmpty)\n                interaction.emit(MoveEvent.START, this.dragData);\n        }\n        if (!this.moving) {\n            this.dragStart(data, canDrag);\n        }\n        this.drag(data);\n    }\n    dragStart(data, canDrag) {\n        if (!this.dragging) {\n            this.dragging = canDrag && PointerButton.left(data);\n            if (this.dragging) {\n                this.interaction.emit(DragEvent.START, this.dragData);\n                this.getDragableList(this.dragData.path);\n                this.setDragStartPoints(this.realDragableList = this.getList());\n            }\n        }\n    }\n    setDragStartPoints(list) {\n        this.dragStartPoints = {};\n        list.forEach(leaf => this.dragStartPoints[leaf.innerId] = { x: leaf.x, y: leaf.y });\n    }\n    getDragableList(path) {\n        let leaf;\n        for (let i = 0, len = path.length; i < len; i++) {\n            leaf = path.list[i];\n            if ((leaf.__.draggable || leaf.__.editable) && leaf.__.hitSelf && !leaf.__.locked) {\n                this.dragableList = new LeafList(leaf);\n                break;\n            }\n        }\n    }\n    drag(data) {\n        const { interaction, dragData, downData } = this;\n        const { path, throughPath } = downData;\n        this.dragData = getDragEventData(downData, dragData, data);\n        if (throughPath)\n            this.dragData.throughPath = throughPath;\n        this.dragData.path = path;\n        if (this.moving) {\n            interaction.emit(MoveEvent.BEFORE_MOVE, this.dragData);\n            interaction.emit(MoveEvent.MOVE, this.dragData);\n        }\n        else if (this.dragging) {\n            this.dragReal();\n            interaction.emit(DragEvent.BEFORE_DRAG, this.dragData);\n            interaction.emit(DragEvent.DRAG, this.dragData);\n        }\n    }\n    dragReal() {\n        const { running } = this.interaction;\n        const list = this.realDragableList;\n        if (list.length && running) {\n            const { totalX, totalY } = this.dragData;\n            list.forEach(leaf => leaf.draggable && leaf.move(DragEvent.getValidMove(leaf, this.dragStartPoints[leaf.innerId], { x: totalX, y: totalY })));\n        }\n    }\n    dragOverOrOut(data) {\n        const { interaction } = this;\n        const { dragOverPath } = this;\n        const { path } = data;\n        this.dragOverPath = path;\n        if (dragOverPath) {\n            if (path.indexAt(0) !== dragOverPath.indexAt(0)) {\n                interaction.emit(DragEvent.OUT, data, dragOverPath);\n                interaction.emit(DragEvent.OVER, data, path);\n            }\n        }\n        else {\n            interaction.emit(DragEvent.OVER, data, path);\n        }\n    }\n    dragEnterOrLeave(data) {\n        const { interaction } = this;\n        const { dragEnterPath } = this;\n        const { path } = data;\n        interaction.emit(DragEvent.LEAVE, data, dragEnterPath, path);\n        interaction.emit(DragEvent.ENTER, data, path, dragEnterPath);\n        this.dragEnterPath = path;\n    }\n    dragEnd(data, speed) {\n        if (!this.dragging && !this.moving)\n            return;\n        const { moveX, moveY } = this.dragData;\n        if (this.interaction.config.move.dragAnimate && this.canAnimate && this.moving && (Math.abs(moveX) > 1 || Math.abs(moveY) > 1)) {\n            data = Object.assign({}, data);\n            speed = (speed || (data.pointerType === 'touch' ? 2 : 1)) * 0.9;\n            PointHelper.move(data, moveX * speed, moveY * speed);\n            this.drag(data);\n            this.animate(() => { this.dragEnd(data, 1); });\n        }\n        else {\n            this.dragEndReal(data);\n        }\n    }\n    dragEndReal(data) {\n        const { interaction, downData, dragData } = this;\n        if (!data)\n            data = dragData;\n        const { path, throughPath } = downData;\n        const endDragData = getDragEventData(downData, data, data);\n        if (throughPath)\n            endDragData.throughPath = throughPath;\n        endDragData.path = path;\n        if (this.moving) {\n            this.moving = false;\n            interaction.emit(MoveEvent.END, endDragData);\n        }\n        if (this.dragging) {\n            const dropList = this.getList();\n            this.dragging = false;\n            interaction.emit(DragEvent.END, endDragData);\n            this.swipe(data, downData, dragData, endDragData);\n            this.drop(data, dropList, this.dragEnterPath);\n        }\n        this.autoMoveCancel();\n        this.dragReset();\n        this.animate(null, 'off');\n    }\n    animate(func, off) {\n        const animateWait = func || this.animateWait;\n        if (animateWait)\n            this.interaction.target.nextRender(animateWait, null, off);\n        this.animateWait = func;\n    }\n    swipe(data, downData, dragData, endDragData) {\n        const { interaction } = this;\n        if (PointHelper.getDistance(downData, data) > interaction.config.pointer.swipeDistance) {\n            const swipeData = getSwipeEventData(downData, dragData, endDragData);\n            this.interaction.emit(swipeData.type, swipeData);\n        }\n    }\n    drop(data, dropList, dragEnterPath) {\n        const dropData = getDropEventData(data, dropList, DragEvent.data);\n        dropData.path = dragEnterPath;\n        this.interaction.emit(DropEvent.DROP, dropData);\n        this.interaction.emit(DragEvent.LEAVE, data, dragEnterPath);\n    }\n    dragReset() {\n        DragEvent.list = DragEvent.data = this.dragableList = this.dragData = this.downData = this.dragOverPath = this.dragEnterPath = null;\n    }\n    checkDragOut(data) {\n        const { interaction } = this;\n        this.autoMoveCancel();\n        if (this.dragging && !interaction.shrinkCanvasBounds.hitPoint(data))\n            this.autoMoveOnDragOut(data);\n    }\n    autoMoveOnDragOut(data) {\n        const { interaction, downData, canDragOut } = this;\n        const { autoDistance, dragOut } = interaction.config.move;\n        if (!dragOut || !canDragOut || !autoDistance)\n            return;\n        const bounds = interaction.shrinkCanvasBounds;\n        const { x, y } = bounds;\n        const right = BoundsHelper.maxX(bounds);\n        const bottom = BoundsHelper.maxY(bounds);\n        const moveX = data.x < x ? autoDistance : (right < data.x ? -autoDistance : 0);\n        const moveY = data.y < y ? autoDistance : (bottom < data.y ? -autoDistance : 0);\n        let totalX = 0, totalY = 0;\n        this.autoMoveTimer = setInterval(() => {\n            totalX += moveX;\n            totalY += moveY;\n            PointHelper.move(downData, moveX, moveY);\n            PointHelper.move(this.dragData, moveX, moveY);\n            interaction.move(Object.assign(Object.assign({}, data), { moveX, moveY, totalX, totalY }));\n            interaction.pointerMoveReal(data);\n        }, 10);\n    }\n    autoMoveCancel() {\n        if (this.autoMoveTimer) {\n            clearInterval(this.autoMoveTimer);\n            this.autoMoveTimer = 0;\n        }\n    }\n    destroy() {\n        this.dragReset();\n    }\n}\n\nconst debug = Debug.get('emit');\nfunction emit(type, data, path, excludePath) {\n    if (!path && !data.path)\n        return;\n    let leaf;\n    data.type = type;\n    if (path) {\n        data = Object.assign(Object.assign({}, data), { path });\n    }\n    else {\n        path = data.path;\n    }\n    data.target = path.indexAt(0);\n    try {\n        for (let i = path.length - 1; i > -1; i--) {\n            leaf = path.list[i];\n            if (emitEvent(leaf, type, data, true, excludePath))\n                return;\n            if (leaf.isApp)\n                emitAppChildren(leaf, type, data, true, excludePath);\n        }\n        for (let i = 0, len = path.length; i < len; i++) {\n            leaf = path.list[i];\n            if (leaf.isApp)\n                emitAppChildren(leaf, type, data, false, excludePath);\n            if (emitEvent(leaf, type, data, false, excludePath))\n                return;\n        }\n    }\n    catch (e) {\n        debug.error(e);\n    }\n}\nconst allowTypes = ['move', 'zoom', 'rotate', 'key'];\nfunction emitAppChildren(leaf, type, data, capture, excludePath) {\n    if (allowTypes.some(name => type.startsWith(name)) && leaf.__.hitChildren && !exclude(leaf, excludePath)) {\n        let child;\n        for (let i = 0, len = leaf.children.length; i < len; i++) {\n            child = leaf.children[i];\n            if (!data.path.has(child) && child.__.hittable)\n                emitEvent(child, type, data, capture, excludePath);\n        }\n    }\n}\nfunction emitEvent(leaf, type, data, capture, excludePath) {\n    if (leaf.destroyed)\n        return false;\n    if (leaf.__.hitSelf && !exclude(leaf, excludePath)) {\n        if (State.updateEventStyle)\n            State.updateEventStyle(leaf, type);\n        if (leaf.hasEvent(type, capture)) {\n            data.phase = capture ? 1 : ((leaf === data.target) ? 2 : 3);\n            const event = EventCreator.get(type, data);\n            leaf.emitEvent(event, capture);\n            if (event.isStop)\n                return true;\n        }\n    }\n    return false;\n}\nfunction exclude(leaf, excludePath) {\n    return excludePath && excludePath.has(leaf);\n}\n\nconst MultiTouchHelper = {\n    getData(list) {\n        const a = list[0];\n        const b = list[1];\n        const lastCenter = PointHelper.getCenter(a.from, b.from);\n        const center = PointHelper.getCenter(a.to, b.to);\n        const move = { x: center.x - lastCenter.x, y: center.y - lastCenter.y };\n        const lastDistance = PointHelper.getDistance(a.from, b.from);\n        const distance = PointHelper.getDistance(a.to, b.to);\n        const scale = distance / lastDistance;\n        const angle = PointHelper.getRotation(a.from, b.from, a.to, b.to);\n        return { move, scale, angle, center };\n    }\n};\n\nconst config = {\n    wheel: {\n        zoomSpeed: 0.5,\n        moveSpeed: 0.5,\n        rotateSpeed: 0.5,\n        delta: { x: 80 / 4, y: 8.0 },\n        preventDefault: true\n    },\n    pointer: {\n        hitRadius: 5,\n        tapTime: 120,\n        longPressTime: 800,\n        transformTime: 500,\n        hover: true,\n        dragHover: true,\n        dragDistance: 2,\n        swipeDistance: 20,\n        preventDefaultMenu: true\n    },\n    cursor: true,\n    keyEvent: true\n};\n\nconst { pathHasEventType, getMoveEventData, getZoomEventData, getRotateEventData } = InteractionHelper;\nclass InteractionBase {\n    get dragging() { return this.dragger.dragging; }\n    get moveMode() { return this.config.move.drag || this.isHoldSpaceKey || this.isHoldMiddleKey || (this.isHoldRightKey && this.dragger.moving) || this.isDragEmpty; }\n    get isDragEmpty() { return this.config.move.dragEmpty && this.isRootPath(this.hoverData) && (!this.downData || this.isRootPath(this.downData)); }\n    get isMobileDragEmpty() { return this.config.move.dragEmpty && !this.config.pointer.hover && this.downData && this.isTreePath(this.downData); }\n    get isHoldMiddleKey() { return this.config.move.holdMiddleKey && this.downData && PointerButton.middle(this.downData); }\n    get isHoldRightKey() { return this.config.move.holdRightKey && this.downData && PointerButton.right(this.downData); }\n    get isHoldSpaceKey() { return this.config.move.holdSpaceKey && Keyboard.isHoldSpaceKey(); }\n    get hitRadius() { return this.config.pointer.hitRadius; }\n    constructor(target, canvas, selector, userConfig) {\n        this.config = config;\n        this.tapCount = 0;\n        this.downKeyMap = {};\n        this.target = target;\n        this.canvas = canvas;\n        this.selector = selector;\n        this.defaultPath = new LeafList(target);\n        this.transformer = new Transformer(this);\n        this.dragger = new Dragger(this);\n        if (userConfig)\n            this.config = DataHelper.default(userConfig, this.config);\n        this.__listenEvents();\n    }\n    start() {\n        this.running = true;\n    }\n    stop() {\n        this.running = false;\n    }\n    receive(_event) { }\n    pointerDown(data, useDefaultPath) {\n        if (!data)\n            data = this.hoverData;\n        if (!data)\n            return;\n        PointerButton.defaultLeft(data);\n        this.updateDownData(data);\n        this.checkPath(data, useDefaultPath);\n        this.downTime = Date.now();\n        this.emit(PointerEvent.BEFORE_DOWN, data);\n        this.emit(PointerEvent.DOWN, data);\n        if (PointerButton.left(data)) {\n            this.tapWait();\n            this.longPressWait(data);\n        }\n        this.waitMenuTap = PointerButton.right(data);\n        this.dragger.setDragData(data);\n        if (!this.isHoldRightKey)\n            this.updateCursor(data);\n    }\n    pointerMove(data) {\n        if (!data)\n            data = this.hoverData;\n        if (!data)\n            return;\n        const { downData } = this;\n        if (downData)\n            PointerButton.defaultLeft(data);\n        const hit = this.canvas.bounds.hitPoint(data);\n        if (hit || downData) {\n            this.pointerMoveReal(data);\n            if (downData)\n                this.dragger.checkDragOut(data);\n        }\n    }\n    pointerMoveReal(data) {\n        const { dragHover, dragDistance } = this.config.pointer;\n        this.emit(PointerEvent.BEFORE_MOVE, data, this.defaultPath);\n        if (this.downData) {\n            const canDrag = PointHelper.getDistance(this.downData, data) > dragDistance;\n            if (canDrag) {\n                if (this.waitTap)\n                    this.pointerWaitCancel();\n                this.waitMenuTap = false;\n            }\n            this.dragger.checkDrag(data, canDrag);\n        }\n        if (!this.dragger.moving) {\n            this.updateHoverData(data);\n            this.checkPath(data);\n            this.emit(PointerEvent.MOVE, data);\n            if (!(this.dragging && !dragHover))\n                this.pointerHover(data);\n            if (this.dragger.dragging) {\n                this.dragger.dragOverOrOut(data);\n                this.dragger.dragEnterOrLeave(data);\n            }\n        }\n        this.updateCursor(this.downData || data);\n    }\n    pointerUp(data) {\n        const { downData } = this;\n        if (!data)\n            data = downData;\n        if (!downData)\n            return;\n        PointerButton.defaultLeft(data);\n        this.findPath(data);\n        const upData = Object.assign(Object.assign({}, data), { path: data.path.clone() });\n        data.path.addList(downData.path.list);\n        this.checkPath(data);\n        this.downData = null;\n        this.emit(PointerEvent.BEFORE_UP, data);\n        this.emit(PointerEvent.UP, data);\n        this.touchLeave(data);\n        if (!data.isCancel) {\n            this.tap(data);\n            this.menuTap(data);\n        }\n        this.dragger.dragEnd(data);\n        this.updateCursor(upData);\n    }\n    pointerCancel() {\n        const data = Object.assign({}, this.dragger.dragData);\n        data.isCancel = true;\n        this.pointerUp(data);\n    }\n    multiTouch(data, list) {\n        const { move, angle, scale, center } = MultiTouchHelper.getData(list);\n        this.rotate(getRotateEventData(center, angle, data));\n        this.zoom(getZoomEventData(center, scale, data));\n        this.move(getMoveEventData(center, move, data));\n    }\n    menu(data) {\n        this.findPath(data);\n        this.emit(PointerEvent.MENU, data);\n    }\n    menuTap(data) {\n        if (this.waitMenuTap)\n            this.emit(PointerEvent.MENU_TAP, data);\n    }\n    move(data) {\n        this.transformer.move(data);\n    }\n    zoom(data) {\n        this.transformer.zoom(data);\n    }\n    rotate(data) {\n        this.transformer.rotate(data);\n    }\n    transformEnd() {\n        this.transformer.transformEnd();\n    }\n    keyDown(data) {\n        if (!this.config.keyEvent)\n            return;\n        const { code } = data;\n        if (!this.downKeyMap[code]) {\n            this.downKeyMap[code] = true;\n            Keyboard.setDownCode(code);\n            this.emit(KeyEvent.HOLD, data, this.defaultPath);\n            if (this.moveMode) {\n                this.cancelHover();\n                this.updateCursor();\n            }\n        }\n        this.emit(KeyEvent.DOWN, data, this.defaultPath);\n    }\n    keyUp(data) {\n        if (!this.config.keyEvent)\n            return;\n        const { code } = data;\n        this.downKeyMap[code] = false;\n        Keyboard.setUpCode(code);\n        this.emit(KeyEvent.UP, data, this.defaultPath);\n        if (this.cursor === 'grab')\n            this.updateCursor();\n    }\n    pointerHover(data) {\n        if (this.config.pointer.hover) {\n            this.pointerOverOrOut(data);\n            this.pointerEnterOrLeave(data);\n        }\n    }\n    pointerOverOrOut(data) {\n        const { path } = data;\n        const { overPath } = this;\n        this.overPath = path;\n        if (overPath) {\n            if (path.indexAt(0) !== overPath.indexAt(0)) {\n                this.emit(PointerEvent.OUT, data, overPath);\n                this.emit(PointerEvent.OVER, data, path);\n            }\n        }\n        else {\n            this.emit(PointerEvent.OVER, data, path);\n        }\n    }\n    pointerEnterOrLeave(data) {\n        let { path } = data;\n        if (this.downData && !this.moveMode) {\n            path = path.clone();\n            this.downData.path.forEach(leaf => path.add(leaf));\n        }\n        const { enterPath } = this;\n        this.enterPath = path;\n        this.emit(PointerEvent.LEAVE, data, enterPath, path);\n        this.emit(PointerEvent.ENTER, data, path, enterPath);\n    }\n    touchLeave(data) {\n        if (data.pointerType === 'touch') {\n            if (this.enterPath) {\n                this.emit(PointerEvent.LEAVE, data);\n                if (this.dragger.dragging)\n                    this.emit(DropEvent.LEAVE, data);\n            }\n        }\n    }\n    tap(data) {\n        const { pointer } = this.config;\n        const hasLong = this.longTap(data);\n        if (!pointer.tapMore && hasLong)\n            return;\n        if (!this.waitTap)\n            return;\n        if (pointer.tapMore)\n            this.emitTap(data);\n        const useTime = Date.now() - this.downTime;\n        const hasDouble = [PointerEvent.DOUBLE_TAP, PointerEvent.DOUBLE_CLICK].some(type => pathHasEventType(data.path, type));\n        if (useTime < pointer.tapTime + 50 && hasDouble) {\n            this.tapCount++;\n            if (this.tapCount === 2) {\n                this.tapWaitCancel();\n                this.emitDoubleTap(data);\n            }\n            else {\n                clearTimeout(this.tapTimer);\n                this.tapTimer = setTimeout(() => {\n                    if (!pointer.tapMore) {\n                        this.tapWaitCancel();\n                        this.emitTap(data);\n                    }\n                }, pointer.tapTime);\n            }\n        }\n        else {\n            if (!pointer.tapMore) {\n                this.tapWaitCancel();\n                this.emitTap(data);\n            }\n        }\n    }\n    findPath(data, options) {\n        const { hitRadius, through } = this.config.pointer;\n        const { bottomList } = this;\n        const find = this.selector.getByPoint(data, hitRadius, Object.assign({ bottomList, name: data.type }, (options || { through })));\n        if (find.throughPath)\n            data.throughPath = find.throughPath;\n        data.path = find.path;\n        return find.path;\n    }\n    isRootPath(data) {\n        return data && data.path.list[0].isLeafer;\n    }\n    isTreePath(data) {\n        const app = this.target.app;\n        if (!app || !app.isApp)\n            return false;\n        return app.editor && (!data.path.has(app.editor) && data.path.has(app.tree) && !data.target.syncEventer);\n    }\n    checkPath(data, useDefaultPath) {\n        if (useDefaultPath || this.canMove(data))\n            data.path = this.defaultPath;\n    }\n    canMove(data) {\n        return this.moveMode && data && data.path.list.every(item => !item.isOutside);\n    }\n    isDrag(leaf) {\n        return this.dragger.getList().has(leaf);\n    }\n    isPress(leaf) {\n        return this.downData && this.downData.path.has(leaf);\n    }\n    isHover(leaf) {\n        return this.enterPath && this.enterPath.has(leaf);\n    }\n    isFocus(leaf) {\n        return this.focusData === leaf;\n    }\n    cancelHover() {\n        const { hoverData } = this;\n        if (hoverData) {\n            hoverData.path = this.defaultPath;\n            this.pointerHover(hoverData);\n        }\n    }\n    updateDownData(data, options, merge) {\n        const { downData } = this;\n        if (!data && downData)\n            data = downData;\n        if (!data)\n            return;\n        this.findPath(data, options);\n        if (merge && downData)\n            data.path.addList(downData.path.list);\n        this.downData = data;\n    }\n    updateHoverData(data) {\n        if (!data)\n            data = this.hoverData;\n        if (!data)\n            return;\n        this.findPath(data, { exclude: this.dragger.getList(), name: PointerEvent.MOVE });\n        this.hoverData = data;\n    }\n    updateCursor(data) {\n        if (!this.config.cursor || !this.config.pointer.hover)\n            return;\n        if (!data) {\n            this.updateHoverData();\n            data = this.downData || this.hoverData;\n        }\n        if (this.dragger.moving) {\n            return this.setCursor('grabbing');\n        }\n        else if (this.canMove(data)) {\n            return this.setCursor(this.downData ? 'grabbing' : 'grab');\n        }\n        else if (!data)\n            return;\n        let leaf, cursor;\n        const { path } = data;\n        for (let i = 0, len = path.length; i < len; i++) {\n            leaf = path.list[i];\n            cursor = leaf.syncEventer ? leaf.syncEventer.cursor : leaf.cursor;\n            if (cursor)\n                break;\n        }\n        this.setCursor(cursor);\n    }\n    setCursor(cursor) {\n        this.cursor = cursor;\n    }\n    getLocal(clientPoint, updateClient) {\n        const clientBounds = this.canvas.getClientBounds(updateClient);\n        return { x: clientPoint.clientX - clientBounds.x, y: clientPoint.clientY - clientBounds.y };\n    }\n    emitTap(data) {\n        this.emit(PointerEvent.TAP, data);\n        this.emit(PointerEvent.CLICK, data);\n    }\n    emitDoubleTap(data) {\n        this.emit(PointerEvent.DOUBLE_TAP, data);\n        this.emit(PointerEvent.DOUBLE_CLICK, data);\n    }\n    pointerWaitCancel() {\n        this.tapWaitCancel();\n        this.longPressWaitCancel();\n    }\n    tapWait() {\n        clearTimeout(this.tapTimer);\n        this.waitTap = true;\n    }\n    tapWaitCancel() {\n        clearTimeout(this.tapTimer);\n        this.waitTap = false;\n        this.tapCount = 0;\n    }\n    longPressWait(data) {\n        clearTimeout(this.longPressTimer);\n        this.longPressTimer = setTimeout(() => {\n            this.longPressed = true;\n            this.emit(PointerEvent.LONG_PRESS, data);\n        }, this.config.pointer.longPressTime);\n    }\n    longTap(data) {\n        let hasLong;\n        if (this.longPressed) {\n            this.emit(PointerEvent.LONG_TAP, data);\n            if (pathHasEventType(data.path, PointerEvent.LONG_TAP) || pathHasEventType(data.path, PointerEvent.LONG_PRESS))\n                hasLong = true;\n        }\n        this.longPressWaitCancel();\n        return hasLong;\n    }\n    longPressWaitCancel() {\n        clearTimeout(this.longPressTimer);\n        this.longPressed = false;\n    }\n    __onResize() {\n        this.shrinkCanvasBounds = new Bounds(this.canvas.bounds);\n        this.shrinkCanvasBounds.spread(-2);\n    }\n    __listenEvents() {\n        const { target } = this;\n        this.__eventIds = [target.on_(ResizeEvent.RESIZE, this.__onResize, this)];\n        target.once(LeaferEvent.READY, () => this.__onResize());\n    }\n    __removeListenEvents() {\n        this.target.off_(this.__eventIds);\n        this.__eventIds.length = 0;\n    }\n    emit(type, data, path, excludePath) {\n        if (this.running)\n            emit(type, data, path, excludePath);\n    }\n    destroy() {\n        if (this.__eventIds.length) {\n            this.stop();\n            this.__removeListenEvents();\n            this.dragger.destroy();\n            this.transformer.destroy();\n            this.downData = this.overPath = this.enterPath = null;\n        }\n    }\n}\n\nclass Cursor {\n    static set(name, value) {\n        this.custom[name] = value;\n    }\n    static get(name) {\n        return this.custom[name];\n    }\n}\nCursor.custom = {};\n\nclass HitCanvasManager extends CanvasManager {\n    constructor() {\n        super(...arguments);\n        this.maxTotal = 1000;\n        this.pathList = new LeafList();\n        this.pixelList = new LeafList();\n    }\n    getPixelType(leaf, config) {\n        this.__autoClear();\n        this.pixelList.add(leaf);\n        return Creator.hitCanvas(config);\n    }\n    getPathType(leaf) {\n        this.__autoClear();\n        this.pathList.add(leaf);\n        return Creator.hitCanvas();\n    }\n    clearImageType() {\n        this.__clearLeafList(this.pixelList);\n    }\n    clearPathType() {\n        this.__clearLeafList(this.pathList);\n    }\n    __clearLeafList(leafList) {\n        if (leafList.length) {\n            leafList.forEach(leaf => {\n                if (leaf.__hitCanvas) {\n                    leaf.__hitCanvas.destroy();\n                    leaf.__hitCanvas = null;\n                }\n            });\n            leafList.reset();\n        }\n    }\n    __autoClear() {\n        if (this.pathList.length + this.pixelList.length > this.maxTotal)\n            this.clear();\n    }\n    clear() {\n        this.clearPathType();\n        this.clearImageType();\n    }\n}\n\nconst { toInnerRadiusPointOf, copy, setRadius } = PointHelper;\nconst inner = {};\nconst leaf = Leaf.prototype;\nleaf.__hitWorld = function (point) {\n    if (!this.__.hitSelf)\n        return false;\n    if (this.__.hitRadius) {\n        copy(inner, point), point = inner;\n        setRadius(point, this.__.hitRadius);\n    }\n    toInnerRadiusPointOf(point, this.__world, inner);\n    const { width, height } = this.__world;\n    const isSmall = width < 10 && height < 10;\n    if (this.__.hitBox || isSmall) {\n        if (BoundsHelper.hitRadiusPoint(this.__layout.boxBounds, inner))\n            return true;\n        if (isSmall)\n            return false;\n    }\n    if (this.__layout.hitCanvasChanged || !this.__hitCanvas) {\n        this.__updateHitCanvas();\n        if (!this.__layout.boundsChanged)\n            this.__layout.hitCanvasChanged = false;\n    }\n    return this.__hit(inner);\n};\nleaf.__hitFill = function (inner) { var _a; return (_a = this.__hitCanvas) === null || _a === void 0 ? void 0 : _a.hitFill(inner, this.__.windingRule); };\nleaf.__hitStroke = function (inner, strokeWidth) { var _a; return (_a = this.__hitCanvas) === null || _a === void 0 ? void 0 : _a.hitStroke(inner, strokeWidth); };\nleaf.__hitPixel = function (inner) { var _a; return (_a = this.__hitCanvas) === null || _a === void 0 ? void 0 : _a.hitPixel(inner, this.__layout.renderBounds, this.__hitCanvas.hitScale); };\nleaf.__drawHitPath = function (canvas) { if (canvas)\n    this.__drawRenderPath(canvas); };\n\nconst matrix = new Matrix();\nconst ui$2 = UI.prototype;\nui$2.__updateHitCanvas = function () {\n    const data = this.__, { hitCanvasManager } = this.leafer;\n    const isHitPixelFill = (data.__pixelFill || data.__isCanvas) && data.hitFill === 'pixel';\n    const isHitPixelStroke = data.__pixelStroke && data.hitStroke === 'pixel';\n    const isHitPixel = isHitPixelFill || isHitPixelStroke;\n    if (!this.__hitCanvas)\n        this.__hitCanvas = isHitPixel ? hitCanvasManager.getPixelType(this, { contextSettings: { willReadFrequently: true } }) : hitCanvasManager.getPathType(this);\n    const h = this.__hitCanvas;\n    if (isHitPixel) {\n        const { renderBounds } = this.__layout;\n        const size = Platform.image.hitCanvasSize;\n        const scale = h.hitScale = tempBounds.set(0, 0, size, size).getFitMatrix(renderBounds, 0.5).a;\n        const { x, y, width, height } = tempBounds.set(renderBounds).scale(scale);\n        h.resize({ width, height, pixelRatio: 1 });\n        h.clear();\n        ImageManager.patternLocked = true;\n        this.__renderShape(h, { matrix: matrix.setWith(this.__world).scaleWith(1 / scale).invertWith().translate(-x, -y) }, !isHitPixelFill, !isHitPixelStroke);\n        ImageManager.patternLocked = false;\n        h.resetTransform();\n        data.__isHitPixel = true;\n    }\n    else {\n        data.__isHitPixel && (data.__isHitPixel = false);\n    }\n    this.__drawHitPath(h);\n    h.setStrokeOptions(data);\n};\nui$2.__hit = function (inner) {\n    if (Platform.name === 'miniapp')\n        this.__drawHitPath(this.__hitCanvas);\n    const data = this.__;\n    if (data.__isHitPixel && this.__hitPixel(inner))\n        return true;\n    const { hitFill } = data;\n    const needHitFillPath = ((data.fill || data.__isCanvas) && (hitFill === 'path' || (hitFill === 'pixel' && !(data.__pixelFill || data.__isCanvas)))) || hitFill === 'all';\n    if (needHitFillPath && this.__hitFill(inner))\n        return true;\n    const { hitStroke, __strokeWidth } = data;\n    const needHitStrokePath = (data.stroke && (hitStroke === 'path' || (hitStroke === 'pixel' && !data.__pixelStroke))) || hitStroke === 'all';\n    if (!needHitFillPath && !needHitStrokePath)\n        return false;\n    const radiusWidth = inner.radiusX * 2;\n    let hitWidth = radiusWidth;\n    if (needHitStrokePath) {\n        switch (data.strokeAlign) {\n            case 'inside':\n                hitWidth += __strokeWidth * 2;\n                if (!needHitFillPath && this.__hitFill(inner) && this.__hitStroke(inner, hitWidth))\n                    return true;\n                hitWidth = radiusWidth;\n                break;\n            case 'center':\n                hitWidth += __strokeWidth;\n                break;\n            case 'outside':\n                hitWidth += __strokeWidth * 2;\n                if (!needHitFillPath) {\n                    if (!this.__hitFill(inner) && this.__hitStroke(inner, hitWidth))\n                        return true;\n                    hitWidth = radiusWidth;\n                }\n                break;\n        }\n    }\n    return hitWidth ? this.__hitStroke(inner, hitWidth) : false;\n};\n\nconst ui$1 = new UI();\nconst rect = Rect.prototype;\nrect.__updateHitCanvas = function () {\n    if (this.stroke || this.cornerRadius || ((this.fill || this.__.__isCanvas) && this.hitFill === 'pixel') || this.hitStroke === 'all')\n        ui$1.__updateHitCanvas.call(this);\n    else if (this.__hitCanvas)\n        this.__hitCanvas = null;\n};\nrect.__hitFill = function (inner) {\n    return this.__hitCanvas ? ui$1.__hitFill.call(this, inner) : BoundsHelper.hitRadiusPoint(this.__layout.boxBounds, inner);\n};\n\nconst ui = UI.prototype, group = Group.prototype;\nui.find = function (condition, options) {\n    return this.leafer ? this.leafer.selector.getBy(condition, this, false, options) : [];\n};\nui.findOne = function (condition, options) {\n    return this.leafer ? this.leafer.selector.getBy(condition, this, true, options) : null;\n};\ngroup.pick = function (hitPoint, options) {\n    this.__layout.update();\n    if (!options)\n        options = {};\n    return this.leafer ? this.leafer.selector.getByPoint(hitPoint, options.hitRadius || 0, Object.assign(Object.assign({}, options), { target: this })) : null;\n};\n\nconst canvas = LeaferCanvasBase.prototype;\ncanvas.hitFill = function (point, fillRule) {\n    return fillRule ? this.context.isPointInPath(point.x, point.y, fillRule) : this.context.isPointInPath(point.x, point.y);\n};\ncanvas.hitStroke = function (point, strokeWidth) {\n    this.strokeWidth = strokeWidth;\n    return this.context.isPointInStroke(point.x, point.y);\n};\ncanvas.hitPixel = function (radiusPoint, offset, scale = 1) {\n    let { x, y, radiusX, radiusY } = radiusPoint;\n    if (offset)\n        x -= offset.x, y -= offset.y;\n    tempBounds.set(x - radiusX, y - radiusY, radiusX * 2, radiusY * 2).scale(scale).ceil();\n    const { data } = this.context.getImageData(tempBounds.x, tempBounds.y, tempBounds.width || 1, tempBounds.height || 1);\n    for (let i = 0, len = data.length; i < len; i += 4) {\n        if (data[i + 3] > 0)\n            return true;\n    }\n    return data[3] > 0;\n};\n\nexport { App, Cursor, DragEvent, DropEvent, HitCanvasManager, InteractionBase, InteractionHelper, KeyEvent, Keyboard, LeaferTypeCreator, MoveEvent, MultiTouchHelper, PointerButton, PointerEvent, RotateEvent, SwipeEvent, UIEvent, ZoomEvent, addInteractionWindow };\n","import { Debug, LeaferCanvasBase, Platform, DataHelper, canvasSizeAttrs, ResizeEvent, canvasPatch, Creator, LeaferImage, FileHelper, LeafList, RenderEvent, ChildEvent, WatchEvent, PropertyEvent, LeafHelper, BranchHelper, Bounds, LeafBoundsHelper, LeafLevelList, LayoutEvent, Run, ImageManager, AnimateEvent, BoundsHelper, Answer, MathHelper, MatrixHelper, AlignHelper, ImageEvent, AroundHelper, PointHelper, Direction4, TwoPointBoundsHelper, TaskProcessor, Matrix } from '@leafer/core';\nexport * from '@leafer/core';\nexport { LeaferImage } from '@leafer/core';\nimport { InteractionHelper, InteractionBase, Cursor, HitCanvasManager } from '@leafer-ui/core';\nexport * from '@leafer-ui/core';\nimport { PaintImage, ColorConvert, PaintGradient, Export, Group, TextConvert, Paint, Effect } from '@leafer-ui/draw';\n\nconst debug$3 = Debug.get('LeaferCanvas');\nclass LeaferCanvas extends LeaferCanvasBase {\n    set zIndex(zIndex) {\n        const { style } = this.view;\n        style.zIndex = zIndex;\n        this.setAbsolute(this.view);\n    }\n    set childIndex(index) {\n        const { view, parentView } = this;\n        if (view && parentView) {\n            const beforeNode = parentView.children[index];\n            if (beforeNode) {\n                this.setAbsolute(beforeNode);\n                parentView.insertBefore(view, beforeNode);\n            }\n            else {\n                parentView.appendChild(beforeNode);\n            }\n        }\n    }\n    init() {\n        const { view } = this.config;\n        view ? this.__createViewFrom(view) : this.__createView();\n        const { style } = this.view;\n        style.display || (style.display = 'block');\n        this.parentView = this.view.parentElement;\n        if (this.parentView) {\n            const pStyle = this.parentView.style;\n            pStyle.webkitUserSelect = pStyle.userSelect = 'none';\n        }\n        if (Platform.syncDomFont && !this.parentView) {\n            style.display = 'none';\n            document.body.appendChild(this.view);\n        }\n        this.__createContext();\n        if (!this.autoLayout)\n            this.resize(this.config);\n    }\n    set backgroundColor(color) { this.view.style.backgroundColor = color; }\n    get backgroundColor() { return this.view.style.backgroundColor; }\n    set hittable(hittable) { this.view.style.pointerEvents = hittable ? 'auto' : 'none'; }\n    get hittable() { return this.view.style.pointerEvents !== 'none'; }\n    __createView() {\n        this.view = document.createElement('canvas');\n    }\n    __createViewFrom(inputView) {\n        let find = (typeof inputView === 'string') ? document.getElementById(inputView) : inputView;\n        if (find) {\n            if (find instanceof HTMLCanvasElement) {\n                this.view = find;\n            }\n            else {\n                let parent = find;\n                if (find === window || find === document) {\n                    const div = document.createElement('div');\n                    const { style } = div;\n                    style.position = 'absolute';\n                    style.top = style.bottom = style.left = style.right = '0px';\n                    document.body.appendChild(div);\n                    parent = div;\n                }\n                this.__createView();\n                const view = this.view;\n                if (parent.hasChildNodes()) {\n                    this.setAbsolute(view);\n                    parent.style.position || (parent.style.position = 'relative');\n                }\n                parent.appendChild(view);\n            }\n        }\n        else {\n            debug$3.error(`no id: ${inputView}`);\n            this.__createView();\n        }\n    }\n    setAbsolute(view) {\n        const { style } = view;\n        style.position = 'absolute';\n        style.top = style.left = '0px';\n    }\n    updateViewSize() {\n        const { width, height, pixelRatio } = this;\n        const { style } = this.view;\n        style.width = width + 'px';\n        style.height = height + 'px';\n        this.view.width = Math.ceil(width * pixelRatio);\n        this.view.height = Math.ceil(height * pixelRatio);\n    }\n    updateClientBounds() {\n        this.clientBounds = this.view.getBoundingClientRect();\n    }\n    startAutoLayout(autoBounds, listener) {\n        this.autoBounds = autoBounds;\n        this.resizeListener = listener;\n        try {\n            this.resizeObserver = new ResizeObserver((entries) => {\n                this.updateClientBounds();\n                for (const entry of entries)\n                    this.checkAutoBounds(entry.contentRect);\n            });\n            const parent = this.parentView;\n            if (parent) {\n                this.resizeObserver.observe(parent);\n                this.checkAutoBounds(parent.getBoundingClientRect());\n            }\n            else {\n                this.checkAutoBounds(this.view);\n                debug$3.warn('no parent');\n            }\n        }\n        catch (_a) {\n            this.imitateResizeObserver();\n        }\n    }\n    imitateResizeObserver() {\n        if (this.autoLayout) {\n            if (this.parentView)\n                this.checkAutoBounds(this.parentView.getBoundingClientRect());\n            Platform.requestRender(this.imitateResizeObserver.bind(this));\n        }\n    }\n    checkAutoBounds(parentSize) {\n        const view = this.view;\n        const { x, y, width, height } = this.autoBounds.getBoundsFrom(parentSize);\n        if (width !== this.width || height !== this.height) {\n            const { style } = view;\n            const { pixelRatio } = this;\n            style.marginLeft = x + 'px';\n            style.marginTop = y + 'px';\n            const size = { width, height, pixelRatio };\n            const oldSize = {};\n            DataHelper.copyAttrs(oldSize, this, canvasSizeAttrs);\n            this.resize(size);\n            if (this.width !== undefined)\n                this.resizeListener(new ResizeEvent(size, oldSize));\n        }\n    }\n    stopAutoLayout() {\n        this.autoLayout = false;\n        this.resizeListener = null;\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n            this.resizeObserver = null;\n        }\n    }\n    unrealCanvas() {\n        if (!this.unreal && this.parentView) {\n            const view = this.view;\n            if (view)\n                view.remove();\n            this.view = this.parentView;\n            this.unreal = true;\n        }\n    }\n    destroy() {\n        if (this.view) {\n            this.stopAutoLayout();\n            if (!this.unreal) {\n                const view = this.view;\n                if (view.parentElement)\n                    view.remove();\n            }\n            super.destroy();\n        }\n    }\n}\n\ncanvasPatch(CanvasRenderingContext2D.prototype);\ncanvasPatch(Path2D.prototype);\n\nconst { mineType, fileType } = FileHelper;\nObject.assign(Creator, {\n    canvas: (options, manager) => new LeaferCanvas(options, manager),\n    image: (options) => new LeaferImage(options)\n});\nfunction useCanvas(_canvasType, _power) {\n    Platform.origin = {\n        createCanvas(width, height) {\n            const canvas = document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        },\n        canvasToDataURL: (canvas, type, quality) => canvas.toDataURL(mineType(type), quality),\n        canvasToBolb: (canvas, type, quality) => new Promise((resolve) => canvas.toBlob(resolve, mineType(type), quality)),\n        canvasSaveAs: (canvas, filename, quality) => {\n            const url = canvas.toDataURL(mineType(fileType(filename)), quality);\n            return Platform.origin.download(url, filename);\n        },\n        download(url, filename) {\n            return new Promise((resolve) => {\n                let el = document.createElement('a');\n                el.href = url;\n                el.download = filename;\n                document.body.appendChild(el);\n                el.click();\n                document.body.removeChild(el);\n                resolve();\n            });\n        },\n        loadImage(src) {\n            return new Promise((resolve, reject) => {\n                const img = new Image();\n                const { crossOrigin } = Platform.image;\n                if (crossOrigin) {\n                    img.setAttribute('crossOrigin', crossOrigin);\n                    img.crossOrigin = crossOrigin;\n                }\n                img.onload = () => { resolve(img); };\n                img.onerror = (e) => { reject(e); };\n                img.src = Platform.image.getRealURL(src);\n            });\n        }\n    };\n    Platform.event = {\n        stopDefault(origin) { origin.preventDefault(); },\n        stopNow(origin) { origin.stopImmediatePropagation(); },\n        stop(origin) { origin.stopPropagation(); }\n    };\n    Platform.canvas = Creator.canvas();\n    Platform.conicGradientSupport = !!Platform.canvas.context.createConicGradient;\n}\nPlatform.name = 'web';\nPlatform.isMobile = 'ontouchstart' in window;\nPlatform.requestRender = function (render) { window.requestAnimationFrame(render); };\nPlatform.devicePixelRatio = Math.max(1, devicePixelRatio);\nconst { userAgent } = navigator;\nif (userAgent.indexOf(\"Firefox\") > -1) {\n    Platform.conicGradientRotate90 = true;\n    Platform.intWheelDeltaY = true;\n    Platform.syncDomFont = true;\n}\nelse if (userAgent.indexOf(\"Safari\") > -1 && userAgent.indexOf(\"Chrome\") === -1) {\n    Platform.fullImageShadow = true;\n}\nif (userAgent.indexOf('Windows') > -1) {\n    Platform.os = 'Windows';\n    Platform.intWheelDeltaY = true;\n}\nelse if (userAgent.indexOf('Mac') > -1) {\n    Platform.os = 'Mac';\n}\nelse if (userAgent.indexOf('Linux') > -1) {\n    Platform.os = 'Linux';\n}\n\nclass Watcher {\n    get childrenChanged() { return this.hasAdd || this.hasRemove || this.hasVisible; }\n    get updatedList() {\n        if (this.hasRemove) {\n            const updatedList = new LeafList();\n            this.__updatedList.list.forEach(item => { if (item.leafer)\n                updatedList.add(item); });\n            return updatedList;\n        }\n        else {\n            return this.__updatedList;\n        }\n    }\n    constructor(target, userConfig) {\n        this.totalTimes = 0;\n        this.config = {};\n        this.__updatedList = new LeafList();\n        this.target = target;\n        if (userConfig)\n            this.config = DataHelper.default(userConfig, this.config);\n        this.__listenEvents();\n    }\n    start() {\n        if (this.disabled)\n            return;\n        this.running = true;\n    }\n    stop() {\n        this.running = false;\n    }\n    disable() {\n        this.stop();\n        this.__removeListenEvents();\n        this.disabled = true;\n    }\n    update() {\n        this.changed = true;\n        if (this.running)\n            this.target.emit(RenderEvent.REQUEST);\n    }\n    __onAttrChange(event) {\n        this.__updatedList.add(event.target);\n        this.update();\n    }\n    __onChildEvent(event) {\n        if (event.type === ChildEvent.ADD) {\n            this.hasAdd = true;\n            this.__pushChild(event.child);\n        }\n        else {\n            this.hasRemove = true;\n            this.__updatedList.add(event.parent);\n        }\n        this.update();\n    }\n    __pushChild(child) {\n        this.__updatedList.add(child);\n        if (child.isBranch)\n            this.__loopChildren(child);\n    }\n    __loopChildren(parent) {\n        const { children } = parent;\n        for (let i = 0, len = children.length; i < len; i++)\n            this.__pushChild(children[i]);\n    }\n    __onRquestData() {\n        this.target.emitEvent(new WatchEvent(WatchEvent.DATA, { updatedList: this.updatedList }));\n        this.__updatedList = new LeafList();\n        this.totalTimes++;\n        this.changed = false;\n        this.hasVisible = false;\n        this.hasRemove = false;\n        this.hasAdd = false;\n    }\n    __listenEvents() {\n        const { target } = this;\n        this.__eventIds = [\n            target.on_(PropertyEvent.CHANGE, this.__onAttrChange, this),\n            target.on_([ChildEvent.ADD, ChildEvent.REMOVE], this.__onChildEvent, this),\n            target.on_(WatchEvent.REQUEST, this.__onRquestData, this)\n        ];\n    }\n    __removeListenEvents() {\n        this.target.off_(this.__eventIds);\n    }\n    destroy() {\n        if (this.target) {\n            this.stop();\n            this.__removeListenEvents();\n            this.target = null;\n            this.__updatedList = null;\n        }\n    }\n}\n\nconst { updateAllMatrix: updateAllMatrix$1, updateBounds: updateOneBounds, updateAllWorldOpacity } = LeafHelper;\nconst { pushAllChildBranch, pushAllParent } = BranchHelper;\nfunction updateMatrix(updateList, levelList) {\n    let layout;\n    updateList.list.forEach(leaf => {\n        layout = leaf.__layout;\n        if (levelList.without(leaf) && !layout.proxyZoom) {\n            if (layout.matrixChanged) {\n                updateAllMatrix$1(leaf, true);\n                levelList.add(leaf);\n                if (leaf.isBranch)\n                    pushAllChildBranch(leaf, levelList);\n                pushAllParent(leaf, levelList);\n            }\n            else if (layout.boundsChanged) {\n                levelList.add(leaf);\n                if (leaf.isBranch)\n                    leaf.__tempNumber = 0;\n                pushAllParent(leaf, levelList);\n            }\n        }\n    });\n}\nfunction updateBounds(boundsList) {\n    let list, branch, children;\n    boundsList.sort(true);\n    boundsList.levels.forEach(level => {\n        list = boundsList.levelMap[level];\n        for (let i = 0, len = list.length; i < len; i++) {\n            branch = list[i];\n            if (branch.isBranch && branch.__tempNumber) {\n                children = branch.children;\n                for (let j = 0, jLen = children.length; j < jLen; j++) {\n                    if (!children[j].isBranch) {\n                        updateOneBounds(children[j]);\n                    }\n                }\n            }\n            updateOneBounds(branch);\n        }\n    });\n}\nfunction updateChange(updateList) {\n    updateList.list.forEach(leaf => {\n        if (leaf.__layout.opacityChanged)\n            updateAllWorldOpacity(leaf);\n        leaf.__updateChange();\n    });\n}\n\nconst { worldBounds } = LeafBoundsHelper;\nconst bigBounds = { x: 0, y: 0, width: 100000, height: 100000 };\nclass LayoutBlockData {\n    constructor(list) {\n        this.updatedBounds = new Bounds();\n        this.beforeBounds = new Bounds();\n        this.afterBounds = new Bounds();\n        if (list instanceof Array)\n            list = new LeafList(list);\n        this.updatedList = list;\n    }\n    setBefore() {\n        this.beforeBounds.setListWithFn(this.updatedList.list, worldBounds);\n    }\n    setAfter() {\n        const { list } = this.updatedList;\n        if (list.some(leaf => leaf.noBounds)) {\n            this.afterBounds.set(bigBounds);\n        }\n        else {\n            this.afterBounds.setListWithFn(list, worldBounds);\n        }\n        this.updatedBounds.setList([this.beforeBounds, this.afterBounds]);\n    }\n    merge(data) {\n        this.updatedList.addList(data.updatedList.list);\n        this.beforeBounds.add(data.beforeBounds);\n        this.afterBounds.add(data.afterBounds);\n        this.updatedBounds.add(data.updatedBounds);\n    }\n    destroy() {\n        this.updatedList = null;\n    }\n}\n\nconst { updateAllMatrix, updateAllChange } = LeafHelper;\nconst debug$2 = Debug.get('Layouter');\nclass Layouter {\n    constructor(target, userConfig) {\n        this.totalTimes = 0;\n        this.config = {};\n        this.__levelList = new LeafLevelList();\n        this.target = target;\n        if (userConfig)\n            this.config = DataHelper.default(userConfig, this.config);\n        this.__listenEvents();\n    }\n    start() {\n        if (this.disabled)\n            return;\n        this.running = true;\n    }\n    stop() {\n        this.running = false;\n    }\n    disable() {\n        this.stop();\n        this.__removeListenEvents();\n        this.disabled = true;\n    }\n    layout() {\n        if (!this.running)\n            return;\n        const { target } = this;\n        this.times = 0;\n        try {\n            target.emit(LayoutEvent.START);\n            this.layoutOnce();\n            target.emitEvent(new LayoutEvent(LayoutEvent.END, this.layoutedBlocks, this.times));\n        }\n        catch (e) {\n            debug$2.error(e);\n        }\n        this.layoutedBlocks = null;\n    }\n    layoutAgain() {\n        if (this.layouting) {\n            this.waitAgain = true;\n        }\n        else {\n            this.layoutOnce();\n        }\n    }\n    layoutOnce() {\n        if (this.layouting)\n            return debug$2.warn('layouting');\n        if (this.times > 3)\n            return debug$2.warn('layout max times');\n        this.times++;\n        this.totalTimes++;\n        this.layouting = true;\n        this.target.emit(WatchEvent.REQUEST);\n        if (this.totalTimes > 1) {\n            this.partLayout();\n        }\n        else {\n            this.fullLayout();\n        }\n        this.layouting = false;\n        if (this.waitAgain) {\n            this.waitAgain = false;\n            this.layoutOnce();\n        }\n    }\n    partLayout() {\n        var _a;\n        if (!((_a = this.__updatedList) === null || _a === void 0 ? void 0 : _a.length))\n            return;\n        const t = Run.start('PartLayout');\n        const { target, __updatedList: updateList } = this;\n        const { BEFORE, LAYOUT, AFTER } = LayoutEvent;\n        const blocks = this.getBlocks(updateList);\n        blocks.forEach(item => item.setBefore());\n        target.emitEvent(new LayoutEvent(BEFORE, blocks, this.times));\n        this.extraBlock = null;\n        updateList.sort();\n        updateMatrix(updateList, this.__levelList);\n        updateBounds(this.__levelList);\n        updateChange(updateList);\n        if (this.extraBlock)\n            blocks.push(this.extraBlock);\n        blocks.forEach(item => item.setAfter());\n        target.emitEvent(new LayoutEvent(LAYOUT, blocks, this.times));\n        target.emitEvent(new LayoutEvent(AFTER, blocks, this.times));\n        this.addBlocks(blocks);\n        this.__levelList.reset();\n        this.__updatedList = null;\n        Run.end(t);\n    }\n    fullLayout() {\n        const t = Run.start('FullLayout');\n        const { target } = this;\n        const { BEFORE, LAYOUT, AFTER } = LayoutEvent;\n        const blocks = this.getBlocks(new LeafList(target));\n        target.emitEvent(new LayoutEvent(BEFORE, blocks, this.times));\n        Layouter.fullLayout(target);\n        blocks.forEach(item => { item.setAfter(); });\n        target.emitEvent(new LayoutEvent(LAYOUT, blocks, this.times));\n        target.emitEvent(new LayoutEvent(AFTER, blocks, this.times));\n        this.addBlocks(blocks);\n        Run.end(t);\n    }\n    static fullLayout(target) {\n        updateAllMatrix(target, true);\n        if (target.isBranch) {\n            BranchHelper.updateBounds(target);\n        }\n        else {\n            LeafHelper.updateBounds(target);\n        }\n        updateAllChange(target);\n    }\n    addExtra(leaf) {\n        if (!this.__updatedList.has(leaf)) {\n            const { updatedList, beforeBounds } = this.extraBlock || (this.extraBlock = new LayoutBlockData([]));\n            updatedList.length ? beforeBounds.add(leaf.__world) : beforeBounds.set(leaf.__world);\n            updatedList.add(leaf);\n        }\n    }\n    createBlock(data) {\n        return new LayoutBlockData(data);\n    }\n    getBlocks(list) {\n        return [this.createBlock(list)];\n    }\n    addBlocks(current) {\n        this.layoutedBlocks ? this.layoutedBlocks.push(...current) : this.layoutedBlocks = current;\n    }\n    __onReceiveWatchData(event) {\n        this.__updatedList = event.data.updatedList;\n    }\n    __listenEvents() {\n        const { target } = this;\n        this.__eventIds = [\n            target.on_(LayoutEvent.REQUEST, this.layout, this),\n            target.on_(LayoutEvent.AGAIN, this.layoutAgain, this),\n            target.on_(WatchEvent.DATA, this.__onReceiveWatchData, this)\n        ];\n    }\n    __removeListenEvents() {\n        this.target.off_(this.__eventIds);\n    }\n    destroy() {\n        if (this.target) {\n            this.stop();\n            this.__removeListenEvents();\n            this.target = this.config = null;\n        }\n    }\n}\n\nconst debug$1 = Debug.get('Renderer');\nclass Renderer {\n    get needFill() { return !!(!this.canvas.allowBackgroundColor && this.config.fill); }\n    constructor(target, canvas, userConfig) {\n        this.FPS = 60;\n        this.totalTimes = 0;\n        this.times = 0;\n        this.config = {\n            usePartRender: true,\n            maxFPS: 60\n        };\n        this.target = target;\n        this.canvas = canvas;\n        if (userConfig)\n            this.config = DataHelper.default(userConfig, this.config);\n        this.__listenEvents();\n        this.__requestRender();\n    }\n    start() {\n        this.running = true;\n    }\n    stop() {\n        this.running = false;\n    }\n    update() {\n        this.changed = true;\n    }\n    requestLayout() {\n        this.target.emit(LayoutEvent.REQUEST);\n    }\n    render(callback) {\n        if (!(this.running && this.canvas.view)) {\n            this.changed = true;\n            return;\n        }\n        const { target } = this;\n        this.times = 0;\n        this.totalBounds = new Bounds();\n        debug$1.log(target.innerName, '--->');\n        try {\n            this.emitRender(RenderEvent.START);\n            this.renderOnce(callback);\n            this.emitRender(RenderEvent.END, this.totalBounds);\n            ImageManager.clearRecycled();\n        }\n        catch (e) {\n            this.rendering = false;\n            debug$1.error(e);\n        }\n        debug$1.log('-------------|');\n    }\n    renderAgain() {\n        if (this.rendering) {\n            this.waitAgain = true;\n        }\n        else {\n            this.renderOnce();\n        }\n    }\n    renderOnce(callback) {\n        if (this.rendering)\n            return debug$1.warn('rendering');\n        if (this.times > 3)\n            return debug$1.warn('render max times');\n        this.times++;\n        this.totalTimes++;\n        this.rendering = true;\n        this.changed = false;\n        this.renderBounds = new Bounds();\n        this.renderOptions = {};\n        if (callback) {\n            this.emitRender(RenderEvent.BEFORE);\n            callback();\n        }\n        else {\n            this.requestLayout();\n            if (this.ignore) {\n                this.ignore = this.rendering = false;\n                return;\n            }\n            this.emitRender(RenderEvent.BEFORE);\n            if (this.config.usePartRender && this.totalTimes > 1) {\n                this.partRender();\n            }\n            else {\n                this.fullRender();\n            }\n        }\n        this.emitRender(RenderEvent.RENDER, this.renderBounds, this.renderOptions);\n        this.emitRender(RenderEvent.AFTER, this.renderBounds, this.renderOptions);\n        this.updateBlocks = null;\n        this.rendering = false;\n        if (this.waitAgain) {\n            this.waitAgain = false;\n            this.renderOnce();\n        }\n    }\n    partRender() {\n        const { canvas, updateBlocks: list } = this;\n        if (!list)\n            return debug$1.warn('PartRender: need update attr');\n        this.mergeBlocks();\n        list.forEach(block => { if (canvas.bounds.hit(block) && !block.isEmpty())\n            this.clipRender(block); });\n    }\n    clipRender(block) {\n        const t = Run.start('PartRender');\n        const { canvas } = this;\n        const bounds = block.getIntersect(canvas.bounds);\n        const includes = block.includes(this.target.__world);\n        const realBounds = new Bounds(bounds);\n        canvas.save();\n        if (includes && !Debug.showRepaint) {\n            canvas.clear();\n        }\n        else {\n            bounds.spread(10 + 1 / this.canvas.pixelRatio).ceil();\n            canvas.clearWorld(bounds, true);\n            canvas.clipWorld(bounds, true);\n        }\n        this.__render(bounds, includes, realBounds);\n        canvas.restore();\n        Run.end(t);\n    }\n    fullRender() {\n        const t = Run.start('FullRender');\n        const { canvas } = this;\n        canvas.save();\n        canvas.clear();\n        this.__render(canvas.bounds, true);\n        canvas.restore();\n        Run.end(t);\n    }\n    __render(bounds, includes, realBounds) {\n        const options = bounds.includes(this.target.__world) ? { includes } : { bounds, includes };\n        if (this.needFill)\n            this.canvas.fillWorld(bounds, this.config.fill);\n        if (Debug.showRepaint)\n            this.canvas.strokeWorld(bounds, 'red');\n        this.target.__render(this.canvas, options);\n        this.renderBounds = realBounds || bounds;\n        this.renderOptions = options;\n        this.totalBounds.isEmpty() ? this.totalBounds = this.renderBounds : this.totalBounds.add(this.renderBounds);\n        if (Debug.showHitView)\n            this.renderHitView(options);\n        if (Debug.showBoundsView)\n            this.renderBoundsView(options);\n        this.canvas.updateRender();\n    }\n    renderHitView(_options) { }\n    renderBoundsView(_options) { }\n    addBlock(block) {\n        if (!this.updateBlocks)\n            this.updateBlocks = [];\n        this.updateBlocks.push(block);\n    }\n    mergeBlocks() {\n        const { updateBlocks: list } = this;\n        if (list) {\n            const bounds = new Bounds();\n            bounds.setList(list);\n            list.length = 0;\n            list.push(bounds);\n        }\n    }\n    __requestRender() {\n        const startTime = Date.now();\n        Platform.requestRender(() => {\n            this.FPS = Math.min(60, Math.ceil(1000 / (Date.now() - startTime)));\n            if (this.running) {\n                this.target.emit(AnimateEvent.FRAME);\n                if (this.changed && this.canvas.view)\n                    this.render();\n                this.target.emit(RenderEvent.NEXT);\n            }\n            if (this.target)\n                this.__requestRender();\n        });\n    }\n    __onResize(e) {\n        if (this.canvas.unreal)\n            return;\n        if (e.bigger || !e.samePixelRatio) {\n            const { width, height } = e.old;\n            const bounds = new Bounds(0, 0, width, height);\n            if (!bounds.includes(this.target.__world) || this.needFill || !e.samePixelRatio) {\n                this.addBlock(this.canvas.bounds);\n                this.target.forceUpdate('surface');\n                return;\n            }\n        }\n        this.addBlock(new Bounds(0, 0, 1, 1));\n        this.changed = true;\n    }\n    __onLayoutEnd(event) {\n        if (event.data)\n            event.data.map(item => {\n                let empty;\n                if (item.updatedList)\n                    item.updatedList.list.some(leaf => {\n                        empty = (!leaf.__world.width || !leaf.__world.height);\n                        if (empty) {\n                            if (!leaf.isLeafer)\n                                debug$1.tip(leaf.innerName, ': empty');\n                            empty = (!leaf.isBranch || leaf.isBranchLeaf);\n                        }\n                        return empty;\n                    });\n                this.addBlock(empty ? this.canvas.bounds : item.updatedBounds);\n            });\n    }\n    emitRender(type, bounds, options) {\n        this.target.emitEvent(new RenderEvent(type, this.times, bounds, options));\n    }\n    __listenEvents() {\n        const { target } = this;\n        this.__eventIds = [\n            target.on_(RenderEvent.REQUEST, this.update, this),\n            target.on_(LayoutEvent.END, this.__onLayoutEnd, this),\n            target.on_(RenderEvent.AGAIN, this.renderAgain, this),\n            target.on_(ResizeEvent.RESIZE, this.__onResize, this)\n        ];\n    }\n    __removeListenEvents() {\n        this.target.off_(this.__eventIds);\n    }\n    destroy() {\n        if (this.target) {\n            this.stop();\n            this.__removeListenEvents();\n            this.target = this.canvas = this.config = null;\n        }\n    }\n}\n\nconst { hitRadiusPoint } = BoundsHelper;\nclass Picker {\n    constructor(target, selector) {\n        this.target = target;\n        this.selector = selector;\n    }\n    getByPoint(hitPoint, hitRadius, options) {\n        if (!hitRadius)\n            hitRadius = 0;\n        if (!options)\n            options = {};\n        const through = options.through || false;\n        const ignoreHittable = options.ignoreHittable || false;\n        const target = options.target || this.target;\n        this.exclude = options.exclude || null;\n        this.point = { x: hitPoint.x, y: hitPoint.y, radiusX: hitRadius, radiusY: hitRadius };\n        this.findList = new LeafList(options.findList);\n        if (!options.findList)\n            this.hitBranch(target);\n        const { list } = this.findList;\n        const leaf = this.getBestMatchLeaf(list, options.bottomList, ignoreHittable);\n        const path = ignoreHittable ? this.getPath(leaf) : this.getHitablePath(leaf);\n        this.clear();\n        return through ? { path, target: leaf, throughPath: list.length ? this.getThroughPath(list) : path } : { path, target: leaf };\n    }\n    getBestMatchLeaf(list, bottomList, ignoreHittable) {\n        if (list.length) {\n            let find;\n            this.findList = new LeafList();\n            const { x, y } = this.point;\n            const point = { x, y, radiusX: 0, radiusY: 0 };\n            for (let i = 0, len = list.length; i < len; i++) {\n                find = list[i];\n                if (ignoreHittable || LeafHelper.worldHittable(find)) {\n                    this.hitChild(find, point);\n                    if (this.findList.length)\n                        return this.findList.list[0];\n                }\n            }\n        }\n        if (bottomList) {\n            for (let i = 0, len = bottomList.length; i < len; i++) {\n                this.hitChild(bottomList[i].target, this.point, bottomList[i].proxy);\n                if (this.findList.length)\n                    return this.findList.list[0];\n            }\n        }\n        return list[0];\n    }\n    getPath(leaf) {\n        const path = new LeafList();\n        while (leaf) {\n            path.add(leaf);\n            leaf = leaf.parent;\n        }\n        path.add(this.target);\n        return path;\n    }\n    getHitablePath(leaf) {\n        const path = this.getPath(leaf && leaf.hittable ? leaf : null);\n        let item, hittablePath = new LeafList();\n        for (let i = path.list.length - 1; i > -1; i--) {\n            item = path.list[i];\n            if (!item.__.hittable)\n                break;\n            hittablePath.addAt(item, 0);\n            if (!item.__.hitChildren)\n                break;\n        }\n        return hittablePath;\n    }\n    getThroughPath(list) {\n        const throughPath = new LeafList();\n        const pathList = [];\n        for (let i = list.length - 1; i > -1; i--) {\n            pathList.push(this.getPath(list[i]));\n        }\n        let path, nextPath, leaf;\n        for (let i = 0, len = pathList.length; i < len; i++) {\n            path = pathList[i], nextPath = pathList[i + 1];\n            for (let j = 0, jLen = path.length; j < jLen; j++) {\n                leaf = path.list[j];\n                if (nextPath && nextPath.has(leaf))\n                    break;\n                throughPath.add(leaf);\n            }\n        }\n        return throughPath;\n    }\n    hitBranch(branch) {\n        this.eachFind(branch.children, branch.__onlyHitMask);\n    }\n    eachFind(children, hitMask) {\n        let child, hit;\n        const { point } = this, len = children.length;\n        for (let i = len - 1; i > -1; i--) {\n            child = children[i];\n            if (!child.__.visible || (hitMask && !child.__.mask))\n                continue;\n            hit = child.__.hitRadius ? true : hitRadiusPoint(child.__world, point);\n            if (child.isBranch) {\n                if (hit || child.__ignoreHitWorld) {\n                    this.eachFind(child.children, child.__onlyHitMask);\n                    if (child.isBranchLeaf && !this.findList.length)\n                        this.hitChild(child, point);\n                }\n            }\n            else {\n                if (hit)\n                    this.hitChild(child, point);\n            }\n        }\n    }\n    hitChild(child, point, proxy) {\n        if (this.exclude && this.exclude.has(child))\n            return;\n        if (child.__hitWorld(point)) {\n            const { parent } = child;\n            if (parent && parent.__hasMask && !child.__.mask && !parent.children.some(item => item.__.mask && item.__hitWorld(point)))\n                return;\n            this.findList.add(proxy || child);\n        }\n    }\n    clear() {\n        this.point = null;\n        this.findList = null;\n        this.exclude = null;\n    }\n    destroy() {\n        this.clear();\n    }\n}\n\nconst { Yes, NoAndSkip, YesAndSkip } = Answer;\nconst idCondition = {}, classNameCondition = {}, tagCondition = {};\nclass Selector {\n    constructor(target, userConfig) {\n        this.config = {};\n        this.innerIdMap = {};\n        this.idMap = {};\n        this.methods = {\n            id: (leaf, name) => leaf.id === name ? (this.idMap[name] = leaf, 1) : 0,\n            innerId: (leaf, innerId) => leaf.innerId === innerId ? (this.innerIdMap[innerId] = leaf, 1) : 0,\n            className: (leaf, name) => leaf.className === name ? 1 : 0,\n            tag: (leaf, name) => leaf.__tag === name ? 1 : 0,\n            tags: (leaf, nameMap) => nameMap[leaf.__tag] ? 1 : 0\n        };\n        this.target = target;\n        if (userConfig)\n            this.config = DataHelper.default(userConfig, this.config);\n        this.picker = new Picker(target, this);\n        this.__listenEvents();\n    }\n    getBy(condition, branch, one, options) {\n        switch (typeof condition) {\n            case 'number':\n                const leaf = this.getByInnerId(condition, branch);\n                return one ? leaf : (leaf ? [leaf] : []);\n            case 'string':\n                switch (condition[0]) {\n                    case '#':\n                        idCondition.id = condition.substring(1), condition = idCondition;\n                        break;\n                    case '.':\n                        classNameCondition.className = condition.substring(1), condition = classNameCondition;\n                        break;\n                    default:\n                        tagCondition.tag = condition, condition = tagCondition;\n                }\n            case 'object':\n                if (condition.id !== undefined) {\n                    const leaf = this.getById(condition.id, branch);\n                    return one ? leaf : (leaf ? [leaf] : []);\n                }\n                else if (condition.tag) {\n                    const { tag } = condition, isArray = tag instanceof Array;\n                    return this.getByMethod(isArray ? this.methods.tags : this.methods.tag, branch, one, isArray ? DataHelper.toMap(tag) : tag);\n                }\n                else {\n                    return this.getByMethod(this.methods.className, branch, one, condition.className);\n                }\n            case 'function':\n                return this.getByMethod(condition, branch, one, options);\n        }\n    }\n    getByPoint(hitPoint, hitRadius, options) {\n        if (Platform.name === 'node')\n            this.target.emit(LayoutEvent.CHECK_UPDATE);\n        return this.picker.getByPoint(hitPoint, hitRadius, options);\n    }\n    getByInnerId(innerId, branch) {\n        const cache = this.innerIdMap[innerId];\n        if (cache)\n            return cache;\n        this.eachFind(this.toChildren(branch), this.methods.innerId, null, innerId);\n        return this.findLeaf;\n    }\n    getById(id, branch) {\n        const cache = this.idMap[id];\n        if (cache && LeafHelper.hasParent(cache, branch || this.target))\n            return cache;\n        this.eachFind(this.toChildren(branch), this.methods.id, null, id);\n        return this.findLeaf;\n    }\n    getByClassName(className, branch) {\n        return this.getByMethod(this.methods.className, branch, false, className);\n    }\n    getByTag(tag, branch) {\n        return this.getByMethod(this.methods.tag, branch, false, tag);\n    }\n    getByMethod(method, branch, one, options) {\n        const list = one ? null : [];\n        this.eachFind(this.toChildren(branch), method, list, options);\n        return list || this.findLeaf;\n    }\n    eachFind(children, method, list, options) {\n        let child, result;\n        for (let i = 0, len = children.length; i < len; i++) {\n            child = children[i];\n            result = method(child, options);\n            if (result === Yes || result === YesAndSkip) {\n                if (list) {\n                    list.push(child);\n                }\n                else {\n                    this.findLeaf = child;\n                    return;\n                }\n            }\n            if (child.isBranch && result < NoAndSkip)\n                this.eachFind(child.children, method, list, options);\n        }\n    }\n    toChildren(branch) {\n        this.findLeaf = null;\n        return [branch || this.target];\n    }\n    __onRemoveChild(event) {\n        const { id, innerId } = event.child;\n        if (this.idMap[id])\n            delete this.idMap[id];\n        if (this.innerIdMap[innerId])\n            delete this.innerIdMap[innerId];\n    }\n    __checkIdChange(event) {\n        if (event.attrName === 'id') {\n            const id = event.oldValue;\n            if (this.idMap[id])\n                delete this.idMap[id];\n        }\n    }\n    __listenEvents() {\n        this.__eventIds = [\n            this.target.on_(ChildEvent.REMOVE, this.__onRemoveChild, this),\n            this.target.on_(PropertyEvent.CHANGE, this.__checkIdChange, this)\n        ];\n    }\n    __removeListenEvents() {\n        this.target.off_(this.__eventIds);\n        this.__eventIds.length = 0;\n    }\n    destroy() {\n        if (this.__eventIds.length) {\n            this.__removeListenEvents();\n            this.picker.destroy();\n            this.findLeaf = null;\n            this.innerIdMap = {};\n            this.idMap = {};\n        }\n    }\n}\n\nObject.assign(Creator, {\n    watcher: (target, options) => new Watcher(target, options),\n    layouter: (target, options) => new Layouter(target, options),\n    renderer: (target, canvas, options) => new Renderer(target, canvas, options),\n    selector: (target, options) => new Selector(target, options)\n});\nPlatform.layout = Layouter.fullLayout;\n\nconst PointerEventHelper = {\n    convert(e, local) {\n        const base = InteractionHelper.getBase(e);\n        const data = Object.assign(Object.assign({}, base), { x: local.x, y: local.y, width: e.width, height: e.height, pointerType: e.pointerType, pressure: e.pressure });\n        if (data.pointerType === 'pen') {\n            data.tangentialPressure = e.tangentialPressure;\n            data.tiltX = e.tiltX;\n            data.tiltY = e.tiltY;\n            data.twist = e.twist;\n        }\n        return data;\n    },\n    convertMouse(e, local) {\n        const base = InteractionHelper.getBase(e);\n        return Object.assign(Object.assign({}, base), { x: local.x, y: local.y, width: 1, height: 1, pointerType: 'mouse', pressure: 0.5 });\n    },\n    convertTouch(e, local) {\n        const touch = PointerEventHelper.getTouch(e);\n        const base = InteractionHelper.getBase(e);\n        return Object.assign(Object.assign({}, base), { x: local.x, y: local.y, width: 1, height: 1, pointerType: 'touch', pressure: touch.force });\n    },\n    getTouch(e) {\n        return e.targetTouches[0] || e.changedTouches[0];\n    }\n};\n\nconst WheelEventHelper = {\n    getMove(e, config) {\n        let { moveSpeed } = config;\n        let { deltaX, deltaY } = e;\n        if (e.shiftKey && !deltaX) {\n            deltaX = deltaY;\n            deltaY = 0;\n        }\n        if (deltaX > 50)\n            deltaX = Math.max(50, deltaX / 3);\n        if (deltaY > 50)\n            deltaY = Math.max(50, deltaY / 3);\n        return { x: -deltaX * moveSpeed * 2, y: -deltaY * moveSpeed * 2 };\n    },\n    getScale(e, config) {\n        let zoom;\n        let scale = 1;\n        let { zoomMode, zoomSpeed } = config;\n        const delta = e.deltaY || e.deltaX;\n        if (zoomMode) {\n            zoom = (zoomMode === 'mouse') ? true : (!e.deltaX && (Platform.intWheelDeltaY ? Math.abs(delta) > 17 : Math.ceil(delta) !== delta));\n            if (e.shiftKey || e.metaKey || e.ctrlKey)\n                zoom = true;\n        }\n        else {\n            zoom = !e.shiftKey && (e.metaKey || e.ctrlKey);\n        }\n        if (zoom) {\n            zoomSpeed = MathHelper.within(zoomSpeed, 0, 1);\n            const min = e.deltaY ? config.delta.y : config.delta.x;\n            scale = 1 - delta / (min * 4) * zoomSpeed;\n            if (scale < 0.5)\n                scale = 0.5;\n            if (scale >= 1.5)\n                scale = 1.5;\n        }\n        return scale;\n    }\n};\n\nconst KeyEventHelper = {\n    convert(e) {\n        const base = InteractionHelper.getBase(e);\n        const data = Object.assign(Object.assign({}, base), { code: e.code, key: e.key });\n        return data;\n    }\n};\n\nconst { getMoveEventData, getZoomEventData, getRotateEventData } = InteractionHelper;\nclass Interaction extends InteractionBase {\n    __listenEvents() {\n        super.__listenEvents();\n        const view = this.view = this.canvas.view;\n        this.viewEvents = {\n            'pointerdown': this.onPointerDown,\n            'mousedown': this.onMouseDown,\n            'touchstart': this.onTouchStart,\n            'contextmenu': this.onContextMenu,\n            'wheel': this.onWheel,\n            'gesturestart': this.onGesturestart,\n            'gesturechange': this.onGesturechange,\n            'gestureend': this.onGestureend\n        };\n        this.windowEvents = {\n            'pointermove': this.onPointerMove,\n            'pointerup': this.onPointerUp,\n            'pointercancel': this.onPointerCancel,\n            'mousemove': this.onMouseMove,\n            'mouseup': this.onMouseUp,\n            'touchmove': this.onTouchMove,\n            'touchend': this.onTouchEnd,\n            'touchcancel': this.onTouchCancel,\n            'keydown': this.onKeyDown,\n            'keyup': this.onKeyUp,\n            'scroll': this.onScroll\n        };\n        const { viewEvents, windowEvents } = this;\n        for (let name in viewEvents) {\n            viewEvents[name] = viewEvents[name].bind(this);\n            view.addEventListener(name, viewEvents[name]);\n        }\n        for (let name in windowEvents) {\n            windowEvents[name] = windowEvents[name].bind(this);\n            window.addEventListener(name, windowEvents[name]);\n        }\n    }\n    __removeListenEvents() {\n        super.__removeListenEvents();\n        const { viewEvents, windowEvents } = this;\n        for (let name in viewEvents) {\n            this.view.removeEventListener(name, viewEvents[name]);\n            this.viewEvents = {};\n        }\n        for (let name in windowEvents) {\n            window.removeEventListener(name, windowEvents[name]);\n            this.windowEvents = {};\n        }\n    }\n    getTouches(touches) {\n        const list = [];\n        for (let i = 0, len = touches.length; i < len; i++) {\n            list.push(touches[i]);\n        }\n        return list;\n    }\n    preventDefaultPointer(e) {\n        const { pointer } = this.config;\n        if (pointer.preventDefault)\n            e.preventDefault();\n    }\n    preventDefaultWheel(e) {\n        const { wheel } = this.config;\n        if (wheel.preventDefault)\n            e.preventDefault();\n    }\n    preventWindowPointer(e) {\n        return !this.downData && e.target !== this.view;\n    }\n    onKeyDown(e) {\n        this.keyDown(KeyEventHelper.convert(e));\n    }\n    onKeyUp(e) {\n        this.keyUp(KeyEventHelper.convert(e));\n    }\n    onContextMenu(e) {\n        if (this.config.pointer.preventDefaultMenu)\n            e.preventDefault();\n        this.menu(PointerEventHelper.convert(e, this.getLocal(e)));\n    }\n    onScroll() {\n        this.canvas.updateClientBounds();\n    }\n    onPointerDown(e) {\n        this.preventDefaultPointer(e);\n        this.usePointer || (this.usePointer = true);\n        if (this.useMultiTouch)\n            return;\n        this.pointerDown(PointerEventHelper.convert(e, this.getLocal(e)));\n    }\n    onPointerMove(e) {\n        this.usePointer || (this.usePointer = true);\n        if (this.useMultiTouch || this.preventWindowPointer(e))\n            return;\n        this.pointerMove(PointerEventHelper.convert(e, this.getLocal(e, true)));\n    }\n    onPointerUp(e) {\n        if (this.downData)\n            this.preventDefaultPointer(e);\n        if (this.useMultiTouch || this.preventWindowPointer(e))\n            return;\n        this.pointerUp(PointerEventHelper.convert(e, this.getLocal(e)));\n    }\n    onPointerCancel() {\n        if (this.useMultiTouch)\n            return;\n        this.pointerCancel();\n    }\n    onMouseDown(e) {\n        this.preventDefaultPointer(e);\n        if (this.useTouch || this.usePointer)\n            return;\n        this.pointerDown(PointerEventHelper.convertMouse(e, this.getLocal(e)));\n    }\n    onMouseMove(e) {\n        if (this.useTouch || this.usePointer || this.preventWindowPointer(e))\n            return;\n        this.pointerMove(PointerEventHelper.convertMouse(e, this.getLocal(e, true)));\n    }\n    onMouseUp(e) {\n        if (this.downData)\n            this.preventDefaultPointer(e);\n        if (this.useTouch || this.usePointer || this.preventWindowPointer(e))\n            return;\n        this.pointerUp(PointerEventHelper.convertMouse(e, this.getLocal(e)));\n    }\n    onMouseCancel() {\n        if (this.useTouch || this.usePointer)\n            return;\n        this.pointerCancel();\n    }\n    onTouchStart(e) {\n        e.preventDefault();\n        this.multiTouchStart(e);\n        if (this.usePointer)\n            return;\n        if (this.touchTimer) {\n            window.clearTimeout(this.touchTimer);\n            this.touchTimer = 0;\n        }\n        this.useTouch = true;\n        const touch = PointerEventHelper.getTouch(e);\n        this.pointerDown(PointerEventHelper.convertTouch(e, this.getLocal(touch, true)));\n    }\n    onTouchMove(e) {\n        this.multiTouchMove(e);\n        if (this.usePointer || this.preventWindowPointer(e))\n            return;\n        const touch = PointerEventHelper.getTouch(e);\n        this.pointerMove(PointerEventHelper.convertTouch(e, this.getLocal(touch)));\n    }\n    onTouchEnd(e) {\n        this.multiTouchEnd();\n        if (this.usePointer || this.preventWindowPointer(e))\n            return;\n        if (this.touchTimer)\n            clearTimeout(this.touchTimer);\n        this.touchTimer = setTimeout(() => {\n            this.useTouch = false;\n        }, 500);\n        const touch = PointerEventHelper.getTouch(e);\n        this.pointerUp(PointerEventHelper.convertTouch(e, this.getLocal(touch)));\n    }\n    onTouchCancel() {\n        if (this.usePointer)\n            return;\n        this.pointerCancel();\n    }\n    multiTouchStart(e) {\n        this.useMultiTouch = (e.touches.length >= 2);\n        this.touches = this.useMultiTouch ? this.getTouches(e.touches) : undefined;\n        if (this.useMultiTouch)\n            this.pointerCancel();\n    }\n    multiTouchMove(e) {\n        if (!this.useMultiTouch)\n            return;\n        if (e.touches.length > 1) {\n            const touches = this.getTouches(e.touches);\n            const list = this.getKeepTouchList(this.touches, touches);\n            if (list.length > 1) {\n                this.multiTouch(InteractionHelper.getBase(e), list);\n                this.touches = touches;\n            }\n        }\n    }\n    multiTouchEnd() {\n        this.touches = null;\n        this.useMultiTouch = false;\n        this.transformEnd();\n    }\n    getKeepTouchList(old, touches) {\n        let to;\n        const list = [];\n        old.forEach(from => {\n            to = touches.find(touch => touch.identifier === from.identifier);\n            if (to)\n                list.push({ from: this.getLocal(from), to: this.getLocal(to) });\n        });\n        return list;\n    }\n    getLocalTouchs(points) {\n        return points.map(point => this.getLocal(point));\n    }\n    onWheel(e) {\n        this.preventDefaultWheel(e);\n        const { wheel } = this.config;\n        if (wheel.disabled)\n            return;\n        const scale = wheel.getScale ? wheel.getScale(e, wheel) : WheelEventHelper.getScale(e, wheel);\n        const local = this.getLocal(e);\n        const eventBase = InteractionHelper.getBase(e);\n        scale !== 1 ? this.zoom(getZoomEventData(local, scale, eventBase)) : this.move(getMoveEventData(local, wheel.getMove ? wheel.getMove(e, wheel) : WheelEventHelper.getMove(e, wheel), eventBase));\n    }\n    onGesturestart(e) {\n        if (this.useMultiTouch)\n            return;\n        this.preventDefaultWheel(e);\n        this.lastGestureScale = 1;\n        this.lastGestureRotation = 0;\n    }\n    onGesturechange(e) {\n        if (this.useMultiTouch)\n            return;\n        this.preventDefaultWheel(e);\n        const local = this.getLocal(e);\n        const eventBase = InteractionHelper.getBase(e);\n        const changeScale = e.scale / this.lastGestureScale;\n        const changeAngle = e.rotation - this.lastGestureRotation;\n        let { rotateSpeed } = this.config.wheel;\n        rotateSpeed = MathHelper.within(rotateSpeed, 0, 1);\n        this.zoom(getZoomEventData(local, changeScale * changeScale, eventBase));\n        this.rotate(getRotateEventData(local, changeAngle / Math.PI * 180 * (rotateSpeed / 4 + 0.1), eventBase));\n        this.lastGestureScale = e.scale;\n        this.lastGestureRotation = e.rotation;\n    }\n    onGestureend(e) {\n        if (this.useMultiTouch)\n            return;\n        this.preventDefaultWheel(e);\n        this.transformEnd();\n    }\n    setCursor(cursor) {\n        super.setCursor(cursor);\n        const list = [];\n        this.eachCursor(cursor, list);\n        if (typeof list[list.length - 1] === 'object')\n            list.push('default');\n        this.canvas.view.style.cursor = list.map(item => (typeof item === 'object') ? `url(${item.url}) ${item.x || 0} ${item.y || 0}` : item).join(',');\n    }\n    eachCursor(cursor, list, level = 0) {\n        level++;\n        if (cursor instanceof Array) {\n            cursor.forEach(item => this.eachCursor(item, list, level));\n        }\n        else {\n            const custom = typeof cursor === 'string' && Cursor.get(cursor);\n            if (custom && level < 2) {\n                this.eachCursor(custom, list, level);\n            }\n            else {\n                list.push(cursor);\n            }\n        }\n    }\n    destroy() {\n        if (this.view) {\n            super.destroy();\n            this.view = null;\n            this.touches = null;\n        }\n    }\n}\n\nfunction fillText(ui, canvas) {\n    let row;\n    const { rows, decorationY, decorationHeight } = ui.__.__textDrawData;\n    for (let i = 0, len = rows.length; i < len; i++) {\n        row = rows[i];\n        if (row.text) {\n            canvas.fillText(row.text, row.x, row.y);\n        }\n        else if (row.data) {\n            row.data.forEach(charData => {\n                canvas.fillText(charData.char, charData.x, row.y);\n            });\n        }\n        if (decorationY)\n            canvas.fillRect(row.x, row.y + decorationY, row.width, decorationHeight);\n    }\n}\n\nfunction fill(fill, ui, canvas) {\n    canvas.fillStyle = fill;\n    ui.__.__font ? fillText(ui, canvas) : (ui.__.windingRule ? canvas.fill(ui.__.windingRule) : canvas.fill());\n}\nfunction fills(fills, ui, canvas) {\n    let item;\n    const { windingRule, __font } = ui.__;\n    for (let i = 0, len = fills.length; i < len; i++) {\n        item = fills[i];\n        if (item.image && PaintImage.checkImage(ui, canvas, item, !__font))\n            continue;\n        if (item.style) {\n            canvas.fillStyle = item.style;\n            if (item.transform) {\n                canvas.save();\n                canvas.transform(item.transform);\n                if (item.blendMode)\n                    canvas.blendMode = item.blendMode;\n                __font ? fillText(ui, canvas) : (windingRule ? canvas.fill(windingRule) : canvas.fill());\n                canvas.restore();\n            }\n            else {\n                if (item.blendMode) {\n                    canvas.saveBlendMode(item.blendMode);\n                    __font ? fillText(ui, canvas) : (windingRule ? canvas.fill(windingRule) : canvas.fill());\n                    canvas.restoreBlendMode();\n                }\n                else {\n                    __font ? fillText(ui, canvas) : (windingRule ? canvas.fill(windingRule) : canvas.fill());\n                }\n            }\n        }\n    }\n}\n\nfunction strokeText(stroke, ui, canvas) {\n    const { strokeAlign } = ui.__;\n    const isStrokes = typeof stroke !== 'string';\n    switch (strokeAlign) {\n        case 'center':\n            canvas.setStroke(isStrokes ? undefined : stroke, ui.__.strokeWidth, ui.__);\n            isStrokes ? drawStrokesStyle(stroke, true, ui, canvas) : drawTextStroke(ui, canvas);\n            break;\n        case 'inside':\n            drawAlignStroke('inside', stroke, isStrokes, ui, canvas);\n            break;\n        case 'outside':\n            drawAlignStroke('outside', stroke, isStrokes, ui, canvas);\n            break;\n    }\n}\nfunction drawAlignStroke(align, stroke, isStrokes, ui, canvas) {\n    const { __strokeWidth, __font } = ui.__;\n    const out = canvas.getSameCanvas(true, true);\n    out.setStroke(isStrokes ? undefined : stroke, __strokeWidth * 2, ui.__);\n    out.font = __font;\n    isStrokes ? drawStrokesStyle(stroke, true, ui, out) : drawTextStroke(ui, out);\n    out.blendMode = align === 'outside' ? 'destination-out' : 'destination-in';\n    fillText(ui, out);\n    out.blendMode = 'normal';\n    if (ui.__worldFlipped) {\n        canvas.copyWorldByReset(out, ui.__nowWorld);\n    }\n    else {\n        canvas.copyWorldToInner(out, ui.__nowWorld, ui.__layout.renderBounds);\n    }\n    out.recycle(ui.__nowWorld);\n}\nfunction drawTextStroke(ui, canvas) {\n    let row;\n    const { rows, decorationY, decorationHeight } = ui.__.__textDrawData;\n    for (let i = 0, len = rows.length; i < len; i++) {\n        row = rows[i];\n        if (row.text) {\n            canvas.strokeText(row.text, row.x, row.y);\n        }\n        else if (row.data) {\n            row.data.forEach(charData => {\n                canvas.strokeText(charData.char, charData.x, row.y);\n            });\n        }\n        if (decorationY)\n            canvas.strokeRect(row.x, row.y + decorationY, row.width, decorationHeight);\n    }\n}\nfunction drawStrokesStyle(strokes, isText, ui, canvas) {\n    let item;\n    for (let i = 0, len = strokes.length; i < len; i++) {\n        item = strokes[i];\n        if (item.image && PaintImage.checkImage(ui, canvas, item, false))\n            continue;\n        if (item.style) {\n            canvas.strokeStyle = item.style;\n            if (item.blendMode) {\n                canvas.saveBlendMode(item.blendMode);\n                isText ? drawTextStroke(ui, canvas) : canvas.stroke();\n                canvas.restoreBlendMode();\n            }\n            else {\n                isText ? drawTextStroke(ui, canvas) : canvas.stroke();\n            }\n        }\n    }\n}\n\nfunction stroke(stroke, ui, canvas) {\n    const options = ui.__;\n    const { __strokeWidth, strokeAlign, __font } = options;\n    if (!__strokeWidth)\n        return;\n    if (__font) {\n        strokeText(stroke, ui, canvas);\n    }\n    else {\n        switch (strokeAlign) {\n            case 'center':\n                canvas.setStroke(stroke, __strokeWidth, options);\n                canvas.stroke();\n                break;\n            case 'inside':\n                canvas.save();\n                canvas.setStroke(stroke, __strokeWidth * 2, options);\n                options.windingRule ? canvas.clip(options.windingRule) : canvas.clip();\n                canvas.stroke();\n                canvas.restore();\n                break;\n            case 'outside':\n                const out = canvas.getSameCanvas(true, true);\n                out.setStroke(stroke, __strokeWidth * 2, options);\n                ui.__drawRenderPath(out);\n                out.stroke();\n                options.windingRule ? out.clip(options.windingRule) : out.clip();\n                out.clearWorld(ui.__layout.renderBounds);\n                if (ui.__worldFlipped) {\n                    canvas.copyWorldByReset(out, ui.__nowWorld);\n                }\n                else {\n                    canvas.copyWorldToInner(out, ui.__nowWorld, ui.__layout.renderBounds);\n                }\n                out.recycle(ui.__nowWorld);\n                break;\n        }\n    }\n}\nfunction strokes(strokes, ui, canvas) {\n    const options = ui.__;\n    const { __strokeWidth, strokeAlign, __font } = options;\n    if (!__strokeWidth)\n        return;\n    if (__font) {\n        strokeText(strokes, ui, canvas);\n    }\n    else {\n        switch (strokeAlign) {\n            case 'center':\n                canvas.setStroke(undefined, __strokeWidth, options);\n                drawStrokesStyle(strokes, false, ui, canvas);\n                break;\n            case 'inside':\n                canvas.save();\n                canvas.setStroke(undefined, __strokeWidth * 2, options);\n                options.windingRule ? canvas.clip(options.windingRule) : canvas.clip();\n                drawStrokesStyle(strokes, false, ui, canvas);\n                canvas.restore();\n                break;\n            case 'outside':\n                const { renderBounds } = ui.__layout;\n                const out = canvas.getSameCanvas(true, true);\n                ui.__drawRenderPath(out);\n                out.setStroke(undefined, __strokeWidth * 2, options);\n                drawStrokesStyle(strokes, false, ui, out);\n                options.windingRule ? out.clip(options.windingRule) : out.clip();\n                out.clearWorld(renderBounds);\n                if (ui.__worldFlipped) {\n                    canvas.copyWorldByReset(out, ui.__nowWorld);\n                }\n                else {\n                    canvas.copyWorldToInner(out, ui.__nowWorld, renderBounds);\n                }\n                out.recycle(ui.__nowWorld);\n                break;\n        }\n    }\n}\n\nconst { getSpread, getOuterOf, getByMove, getIntersectData } = BoundsHelper;\nfunction shape(ui, current, options) {\n    const canvas = current.getSameCanvas();\n    const nowWorld = ui.__nowWorld;\n    let bounds, fitMatrix, shapeBounds, worldCanvas;\n    let { scaleX, scaleY } = nowWorld;\n    if (scaleX < 0)\n        scaleX = -scaleX;\n    if (scaleY < 0)\n        scaleY = -scaleY;\n    if (current.bounds.includes(nowWorld)) {\n        worldCanvas = canvas;\n        bounds = shapeBounds = nowWorld;\n    }\n    else {\n        const { renderShapeSpread: spread } = ui.__layout;\n        const worldClipBounds = getIntersectData(spread ? getSpread(current.bounds, scaleX === scaleY ? spread * scaleX : [spread * scaleY, spread * scaleX]) : current.bounds, nowWorld);\n        fitMatrix = current.bounds.getFitMatrix(worldClipBounds);\n        let { a: fitScaleX, d: fitScaleY } = fitMatrix;\n        if (fitMatrix.a < 1) {\n            worldCanvas = current.getSameCanvas();\n            ui.__renderShape(worldCanvas, options);\n            scaleX *= fitScaleX;\n            scaleY *= fitScaleY;\n        }\n        shapeBounds = getOuterOf(nowWorld, fitMatrix);\n        bounds = getByMove(shapeBounds, -fitMatrix.e, -fitMatrix.f);\n        if (options.matrix) {\n            const { matrix } = options;\n            fitMatrix.multiply(matrix);\n            fitScaleX *= matrix.scaleX;\n            fitScaleY *= matrix.scaleY;\n        }\n        options = Object.assign(Object.assign({}, options), { matrix: fitMatrix.withScale(fitScaleX, fitScaleY) });\n    }\n    ui.__renderShape(canvas, options);\n    return {\n        canvas, matrix: fitMatrix, bounds,\n        worldCanvas, shapeBounds, scaleX, scaleY\n    };\n}\n\nlet recycleMap;\nfunction compute(attrName, ui) {\n    const data = ui.__, leafPaints = [];\n    let paints = data.__input[attrName], hasOpacityPixel;\n    if (!(paints instanceof Array))\n        paints = [paints];\n    recycleMap = PaintImage.recycleImage(attrName, data);\n    for (let i = 0, len = paints.length, item; i < len; i++) {\n        item = getLeafPaint(attrName, paints[i], ui);\n        if (item)\n            leafPaints.push(item);\n    }\n    data['_' + attrName] = leafPaints.length ? leafPaints : undefined;\n    if (leafPaints.length && leafPaints[0].image)\n        hasOpacityPixel = leafPaints[0].image.hasOpacityPixel;\n    if (attrName === 'fill') {\n        data.__pixelFill = hasOpacityPixel;\n    }\n    else {\n        data.__pixelStroke = hasOpacityPixel;\n    }\n}\nfunction getLeafPaint(attrName, paint, ui) {\n    if (typeof paint !== 'object' || paint.visible === false || paint.opacity === 0)\n        return undefined;\n    const { boxBounds } = ui.__layout;\n    switch (paint.type) {\n        case 'solid':\n            let { type, blendMode, color, opacity } = paint;\n            return { type, blendMode, style: ColorConvert.string(color, opacity) };\n        case 'image':\n            return PaintImage.image(ui, attrName, paint, boxBounds, !recycleMap || !recycleMap[paint.url]);\n        case 'linear':\n            return PaintGradient.linearGradient(paint, boxBounds);\n        case 'radial':\n            return PaintGradient.radialGradient(paint, boxBounds);\n        case 'angular':\n            return PaintGradient.conicGradient(paint, boxBounds);\n        default:\n            return paint.r !== undefined ? { type: 'solid', style: ColorConvert.string(paint) } : undefined;\n    }\n}\n\nconst PaintModule = {\n    compute,\n    fill,\n    fills,\n    fillText,\n    stroke,\n    strokes,\n    strokeText,\n    drawTextStroke,\n    shape\n};\n\nlet origin = {};\nconst { get: get$3, rotateOfOuter: rotateOfOuter$1, translate: translate$1, scaleOfOuter: scaleOfOuter$1, scale: scaleHelper, rotate } = MatrixHelper;\nfunction fillOrFitMode(data, box, x, y, scaleX, scaleY, rotation) {\n    const transform = get$3();\n    translate$1(transform, box.x + x, box.y + y);\n    scaleHelper(transform, scaleX, scaleY);\n    if (rotation)\n        rotateOfOuter$1(transform, { x: box.x + box.width / 2, y: box.y + box.height / 2 }, rotation);\n    data.transform = transform;\n}\nfunction clipMode(data, box, x, y, scaleX, scaleY, rotation) {\n    const transform = get$3();\n    translate$1(transform, box.x + x, box.y + y);\n    if (scaleX)\n        scaleHelper(transform, scaleX, scaleY);\n    if (rotation)\n        rotate(transform, rotation);\n    data.transform = transform;\n}\nfunction repeatMode(data, box, width, height, x, y, scaleX, scaleY, rotation, align) {\n    const transform = get$3();\n    if (rotation) {\n        if (align === 'center') {\n            rotateOfOuter$1(transform, { x: width / 2, y: height / 2 }, rotation);\n        }\n        else {\n            rotate(transform, rotation);\n            switch (rotation) {\n                case 90:\n                    translate$1(transform, height, 0);\n                    break;\n                case 180:\n                    translate$1(transform, width, height);\n                    break;\n                case 270:\n                    translate$1(transform, 0, width);\n                    break;\n            }\n        }\n    }\n    origin.x = box.x + x;\n    origin.y = box.y + y;\n    translate$1(transform, origin.x, origin.y);\n    if (scaleX)\n        scaleOfOuter$1(transform, origin, scaleX, scaleY);\n    data.transform = transform;\n}\n\nconst { get: get$2, translate } = MatrixHelper;\nconst tempBox = new Bounds();\nconst tempPoint = {};\nfunction createData(leafPaint, image, paint, box) {\n    const { blendMode } = paint;\n    if (blendMode)\n        leafPaint.blendMode = blendMode;\n    leafPaint.data = getPatternData(paint, box, image);\n}\nfunction getPatternData(paint, box, image) {\n    let { width, height } = image;\n    if (paint.padding)\n        box = tempBox.set(box).shrink(paint.padding);\n    const { opacity, mode, align, offset, scale, size, rotation, repeat } = paint;\n    const sameBox = box.width === width && box.height === height;\n    const data = { mode };\n    const swapSize = align !== 'center' && (rotation || 0) % 180 === 90;\n    const swapWidth = swapSize ? height : width, swapHeight = swapSize ? width : height;\n    let x = 0, y = 0, scaleX, scaleY;\n    if (!mode || mode === 'cover' || mode === 'fit') {\n        if (!sameBox || rotation) {\n            const sw = box.width / swapWidth, sh = box.height / swapHeight;\n            scaleX = scaleY = mode === 'fit' ? Math.min(sw, sh) : Math.max(sw, sh);\n            x += (box.width - width * scaleX) / 2, y += (box.height - height * scaleY) / 2;\n        }\n    }\n    else if (size) {\n        scaleX = (typeof size === 'number' ? size : size.width) / width;\n        scaleY = (typeof size === 'number' ? size : size.height) / height;\n    }\n    else if (scale) {\n        scaleX = typeof scale === 'number' ? scale : scale.x;\n        scaleY = typeof scale === 'number' ? scale : scale.y;\n    }\n    if (align) {\n        const imageBounds = { x, y, width: swapWidth, height: swapHeight };\n        if (scaleX)\n            imageBounds.width *= scaleX, imageBounds.height *= scaleY;\n        AlignHelper.toPoint(align, imageBounds, box, tempPoint, true);\n        x += tempPoint.x, y += tempPoint.y;\n    }\n    if (offset)\n        x += offset.x, y += offset.y;\n    switch (mode) {\n        case 'strench':\n            if (!sameBox)\n                width = box.width, height = box.height;\n            break;\n        case 'normal':\n        case 'clip':\n            if (x || y || scaleX || rotation)\n                clipMode(data, box, x, y, scaleX, scaleY, rotation);\n            break;\n        case 'repeat':\n            if (!sameBox || scaleX || rotation)\n                repeatMode(data, box, width, height, x, y, scaleX, scaleY, rotation, align);\n            if (!repeat)\n                data.repeat = 'repeat';\n            break;\n        case 'fit':\n        case 'cover':\n        default:\n            if (scaleX)\n                fillOrFitMode(data, box, x, y, scaleX, scaleY, rotation);\n    }\n    if (!data.transform) {\n        if (box.x || box.y) {\n            data.transform = get$2();\n            translate(data.transform, box.x, box.y);\n        }\n    }\n    if (scaleX && mode !== 'strench') {\n        data.scaleX = scaleX;\n        data.scaleY = scaleY;\n    }\n    data.width = width;\n    data.height = height;\n    if (opacity)\n        data.opacity = opacity;\n    if (repeat)\n        data.repeat = typeof repeat === 'string' ? (repeat === 'x' ? 'repeat-x' : 'repeat-y') : 'repeat';\n    return data;\n}\n\nlet cache, box = new Bounds();\nconst { isSame } = BoundsHelper;\nfunction image(ui, attrName, paint, boxBounds, firstUse) {\n    let leafPaint, event;\n    const image = ImageManager.get(paint);\n    if (cache && paint === cache.paint && isSame(boxBounds, cache.boxBounds)) {\n        leafPaint = cache.leafPaint;\n    }\n    else {\n        leafPaint = { type: paint.type, image };\n        cache = image.use > 1 ? { leafPaint, paint, boxBounds: box.set(boxBounds) } : null;\n    }\n    if (firstUse || image.loading)\n        event = { image, attrName, attrValue: paint };\n    if (image.ready) {\n        checkSizeAndCreateData(ui, attrName, paint, image, leafPaint, boxBounds);\n        if (firstUse) {\n            onLoad(ui, event);\n            onLoadSuccess(ui, event);\n        }\n    }\n    else if (image.error) {\n        if (firstUse)\n            onLoadError(ui, event, image.error);\n    }\n    else {\n        ignoreRender(ui, true);\n        if (firstUse)\n            onLoad(ui, event);\n        leafPaint.loadId = image.load(() => {\n            ignoreRender(ui, false);\n            if (!ui.destroyed) {\n                if (checkSizeAndCreateData(ui, attrName, paint, image, leafPaint, boxBounds)) {\n                    if (image.hasOpacityPixel)\n                        ui.__layout.hitCanvasChanged = true;\n                    ui.forceUpdate('surface');\n                }\n                onLoadSuccess(ui, event);\n            }\n            leafPaint.loadId = null;\n        }, (error) => {\n            ignoreRender(ui, false);\n            onLoadError(ui, event, error);\n            leafPaint.loadId = null;\n        });\n    }\n    return leafPaint;\n}\nfunction checkSizeAndCreateData(ui, attrName, paint, image, leafPaint, boxBounds) {\n    if (attrName === 'fill' && !ui.__.__naturalWidth) {\n        const data = ui.__;\n        data.__naturalWidth = image.width / data.pixelRatio;\n        data.__naturalHeight = image.height / data.pixelRatio;\n        if (data.__autoSide) {\n            ui.forceUpdate('width');\n            if (ui.__proxyData) {\n                ui.setProxyAttr('width', data.width);\n                ui.setProxyAttr('height', data.height);\n            }\n            return false;\n        }\n    }\n    if (!leafPaint.data)\n        createData(leafPaint, image, paint, boxBounds);\n    return true;\n}\nfunction onLoad(ui, event) {\n    emit(ui, ImageEvent.LOAD, event);\n}\nfunction onLoadSuccess(ui, event) {\n    emit(ui, ImageEvent.LOADED, event);\n}\nfunction onLoadError(ui, event, error) {\n    event.error = error;\n    ui.forceUpdate('surface');\n    emit(ui, ImageEvent.ERROR, event);\n}\nfunction emit(ui, type, data) {\n    if (ui.hasEvent(type))\n        ui.emitEvent(new ImageEvent(type, data));\n}\nfunction ignoreRender(ui, value) {\n    const { leafer } = ui;\n    if (leafer && leafer.viewReady)\n        leafer.renderer.ignore = value;\n}\n\nconst { get: get$1, scale, copy: copy$1 } = MatrixHelper;\nconst { ceil, abs: abs$1 } = Math;\nfunction createPattern(ui, paint, pixelRatio) {\n    let { scaleX, scaleY } = ImageManager.patternLocked ? ui.__world : ui.__nowWorld;\n    const id = scaleX + '-' + scaleY;\n    if (paint.patternId !== id && !ui.destroyed) {\n        scaleX = abs$1(scaleX);\n        scaleY = abs$1(scaleY);\n        const { image, data } = paint;\n        let imageScale, imageMatrix, { width, height, scaleX: sx, scaleY: sy, opacity, transform, repeat } = data;\n        if (sx) {\n            imageMatrix = get$1();\n            copy$1(imageMatrix, transform);\n            scale(imageMatrix, 1 / sx, 1 / sy);\n            scaleX *= sx;\n            scaleY *= sy;\n        }\n        scaleX *= pixelRatio;\n        scaleY *= pixelRatio;\n        width *= scaleX;\n        height *= scaleY;\n        const size = width * height;\n        if (!repeat) {\n            if (size > Platform.image.maxCacheSize)\n                return false;\n        }\n        let maxSize = Platform.image.maxPatternSize;\n        if (!image.isSVG) {\n            const imageSize = image.width * image.height;\n            if (maxSize > imageSize)\n                maxSize = imageSize;\n        }\n        if (size > maxSize)\n            imageScale = Math.sqrt(size / maxSize);\n        if (imageScale) {\n            scaleX /= imageScale;\n            scaleY /= imageScale;\n            width /= imageScale;\n            height /= imageScale;\n        }\n        if (sx) {\n            scaleX /= sx;\n            scaleY /= sy;\n        }\n        if (transform || scaleX !== 1 || scaleY !== 1) {\n            if (!imageMatrix) {\n                imageMatrix = get$1();\n                if (transform)\n                    copy$1(imageMatrix, transform);\n            }\n            scale(imageMatrix, 1 / scaleX, 1 / scaleY);\n        }\n        const canvas = image.getCanvas(ceil(width) || 1, ceil(height) || 1, opacity);\n        const pattern = image.getPattern(canvas, repeat || (Platform.origin.noRepeat || 'no-repeat'), imageMatrix, paint);\n        paint.style = pattern;\n        paint.patternId = id;\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nconst { abs } = Math;\nfunction checkImage(ui, canvas, paint, allowPaint) {\n    const { scaleX, scaleY } = ImageManager.patternLocked ? ui.__world : ui.__nowWorld;\n    if (!paint.data || paint.patternId === scaleX + '-' + scaleY) {\n        return false;\n    }\n    else {\n        const { data } = paint;\n        if (allowPaint) {\n            if (!data.repeat) {\n                let { width, height } = data;\n                width *= abs(scaleX) * canvas.pixelRatio;\n                height *= abs(scaleY) * canvas.pixelRatio;\n                if (data.scaleX) {\n                    width *= data.scaleX;\n                    height *= data.scaleY;\n                }\n                allowPaint = (width * height > Platform.image.maxCacheSize) || Export.running;\n            }\n            else {\n                allowPaint = false;\n            }\n        }\n        if (allowPaint) {\n            canvas.save();\n            canvas.clip();\n            if (paint.blendMode)\n                canvas.blendMode = paint.blendMode;\n            if (data.opacity)\n                canvas.opacity *= data.opacity;\n            if (data.transform)\n                canvas.transform(data.transform);\n            canvas.drawImage(paint.image.view, 0, 0, data.width, data.height);\n            canvas.restore();\n            return true;\n        }\n        else {\n            if (!paint.style || Export.running) {\n                createPattern(ui, paint, canvas.pixelRatio);\n            }\n            else {\n                if (!paint.patternTask) {\n                    paint.patternTask = ImageManager.patternTasker.add(() => __awaiter(this, void 0, void 0, function* () {\n                        paint.patternTask = null;\n                        if (canvas.bounds.hit(ui.__nowWorld))\n                            createPattern(ui, paint, canvas.pixelRatio);\n                        ui.forceUpdate('surface');\n                    }), 300);\n                }\n            }\n            return false;\n        }\n    }\n}\n\nfunction recycleImage(attrName, data) {\n    const paints = data['_' + attrName];\n    if (paints instanceof Array) {\n        let image, recycleMap, input, url;\n        for (let i = 0, len = paints.length; i < len; i++) {\n            image = paints[i].image;\n            url = image && image.url;\n            if (url) {\n                if (!recycleMap)\n                    recycleMap = {};\n                recycleMap[url] = true;\n                ImageManager.recycle(image);\n                if (image.loading) {\n                    if (!input) {\n                        input = (data.__input && data.__input[attrName]) || [];\n                        if (!(input instanceof Array))\n                            input = [input];\n                    }\n                    image.unload(paints[i].loadId, !input.some((item) => item.url === url));\n                }\n            }\n        }\n        return recycleMap;\n    }\n    return null;\n}\n\nconst PaintImageModule = {\n    image,\n    checkImage,\n    createPattern,\n    recycleImage,\n    createData,\n    getPatternData,\n    fillOrFitMode,\n    clipMode,\n    repeatMode\n};\n\nconst { toPoint: toPoint$2 } = AroundHelper;\nconst realFrom$2 = {};\nconst realTo$2 = {};\nfunction linearGradient(paint, box) {\n    let { from, to, type, blendMode, opacity } = paint;\n    toPoint$2(from || 'top', box, realFrom$2);\n    toPoint$2(to || 'bottom', box, realTo$2);\n    const style = Platform.canvas.createLinearGradient(realFrom$2.x, realFrom$2.y, realTo$2.x, realTo$2.y);\n    applyStops(style, paint.stops, opacity);\n    const data = { type, style };\n    if (blendMode)\n        data.blendMode = blendMode;\n    return data;\n}\nfunction applyStops(gradient, stops, opacity) {\n    let stop;\n    for (let i = 0, len = stops.length; i < len; i++) {\n        stop = stops[i];\n        if (typeof stop === 'string') {\n            gradient.addColorStop(i / (len - 1), ColorConvert.string(stop, opacity));\n        }\n        else {\n            gradient.addColorStop(stop.offset, ColorConvert.string(stop.color, opacity));\n        }\n    }\n}\n\nconst { getAngle, getDistance: getDistance$1 } = PointHelper;\nconst { get, rotateOfOuter, scaleOfOuter } = MatrixHelper;\nconst { toPoint: toPoint$1 } = AroundHelper;\nconst realFrom$1 = {};\nconst realTo$1 = {};\nfunction radialGradient(paint, box) {\n    let { from, to, type, opacity, blendMode, stretch } = paint;\n    toPoint$1(from || 'center', box, realFrom$1);\n    toPoint$1(to || 'bottom', box, realTo$1);\n    const style = Platform.canvas.createRadialGradient(realFrom$1.x, realFrom$1.y, 0, realFrom$1.x, realFrom$1.y, getDistance$1(realFrom$1, realTo$1));\n    applyStops(style, paint.stops, opacity);\n    const data = { type, style };\n    const transform = getTransform(box, realFrom$1, realTo$1, stretch, true);\n    if (transform)\n        data.transform = transform;\n    if (blendMode)\n        data.blendMode = blendMode;\n    return data;\n}\nfunction getTransform(box, from, to, stretch, rotate90) {\n    let transform;\n    const { width, height } = box;\n    if (width !== height || stretch) {\n        const angle = getAngle(from, to);\n        transform = get();\n        if (rotate90) {\n            scaleOfOuter(transform, from, width / height * (stretch || 1), 1);\n            rotateOfOuter(transform, from, angle + 90);\n        }\n        else {\n            scaleOfOuter(transform, from, 1, width / height * (stretch || 1));\n            rotateOfOuter(transform, from, angle);\n        }\n    }\n    return transform;\n}\n\nconst { getDistance } = PointHelper;\nconst { toPoint } = AroundHelper;\nconst realFrom = {};\nconst realTo = {};\nfunction conicGradient(paint, box) {\n    let { from, to, type, opacity, blendMode, stretch } = paint;\n    toPoint(from || 'center', box, realFrom);\n    toPoint(to || 'bottom', box, realTo);\n    const style = Platform.conicGradientSupport ? Platform.canvas.createConicGradient(0, realFrom.x, realFrom.y) : Platform.canvas.createRadialGradient(realFrom.x, realFrom.y, 0, realFrom.x, realFrom.y, getDistance(realFrom, realTo));\n    applyStops(style, paint.stops, opacity);\n    const data = { type, style };\n    const transform = getTransform(box, realFrom, realTo, stretch || 1, Platform.conicGradientRotate90);\n    if (transform)\n        data.transform = transform;\n    if (blendMode)\n        data.blendMode = blendMode;\n    return data;\n}\n\nconst PaintGradientModule = {\n    linearGradient,\n    radialGradient,\n    conicGradient,\n    getTransform\n};\n\nconst { copy, toOffsetOutBounds: toOffsetOutBounds$1 } = BoundsHelper;\nconst tempBounds = {};\nconst offsetOutBounds$1 = {};\nfunction shadow(ui, current, shape) {\n    let copyBounds, spreadScale;\n    const { __nowWorld: nowWorld, __layout } = ui;\n    const { shadow } = ui.__;\n    const { worldCanvas, bounds, shapeBounds, scaleX, scaleY } = shape;\n    const other = current.getSameCanvas();\n    const end = shadow.length - 1;\n    toOffsetOutBounds$1(bounds, offsetOutBounds$1);\n    shadow.forEach((item, index) => {\n        other.setWorldShadow((offsetOutBounds$1.offsetX + item.x * scaleX), (offsetOutBounds$1.offsetY + item.y * scaleY), item.blur * scaleX, item.color);\n        spreadScale = item.spread ? 1 + item.spread * 2 / (__layout.boxBounds.width + (__layout.strokeBoxSpread || 0) * 2) : 0;\n        drawWorldShadow(other, offsetOutBounds$1, spreadScale, shape);\n        copyBounds = bounds;\n        if (item.box) {\n            other.restore();\n            other.save();\n            if (worldCanvas) {\n                other.copyWorld(other, bounds, nowWorld, 'copy');\n                copyBounds = nowWorld;\n            }\n            worldCanvas ? other.copyWorld(worldCanvas, nowWorld, nowWorld, 'destination-out') : other.copyWorld(shape.canvas, shapeBounds, bounds, 'destination-out');\n        }\n        if (ui.__worldFlipped) {\n            current.copyWorldByReset(other, copyBounds, nowWorld, item.blendMode);\n        }\n        else {\n            current.copyWorldToInner(other, copyBounds, __layout.renderBounds, item.blendMode);\n        }\n        if (end && index < end)\n            other.clearWorld(copyBounds, true);\n    });\n    other.recycle(copyBounds);\n}\nfunction drawWorldShadow(canvas, outBounds, spreadScale, shape) {\n    const { bounds, shapeBounds } = shape;\n    if (Platform.fullImageShadow) {\n        copy(tempBounds, canvas.bounds);\n        tempBounds.x += (outBounds.x - shapeBounds.x);\n        tempBounds.y += (outBounds.y - shapeBounds.y);\n        if (spreadScale) {\n            const { matrix } = shape;\n            tempBounds.x -= (bounds.x + (matrix ? matrix.e : 0) + bounds.width / 2) * (spreadScale - 1);\n            tempBounds.y -= (bounds.y + (matrix ? matrix.f : 0) + bounds.height / 2) * (spreadScale - 1);\n            tempBounds.width *= spreadScale;\n            tempBounds.height *= spreadScale;\n        }\n        canvas.copyWorld(shape.canvas, canvas.bounds, tempBounds);\n    }\n    else {\n        if (spreadScale) {\n            copy(tempBounds, outBounds);\n            tempBounds.x -= (outBounds.width / 2) * (spreadScale - 1);\n            tempBounds.y -= (outBounds.height / 2) * (spreadScale - 1);\n            tempBounds.width *= spreadScale;\n            tempBounds.height *= spreadScale;\n        }\n        canvas.copyWorld(shape.canvas, shapeBounds, spreadScale ? tempBounds : outBounds);\n    }\n}\n\nconst { toOffsetOutBounds } = BoundsHelper;\nconst offsetOutBounds = {};\nfunction innerShadow(ui, current, shape) {\n    let copyBounds, spreadScale;\n    const { __nowWorld: nowWorld, __layout: __layout } = ui;\n    const { innerShadow } = ui.__;\n    const { worldCanvas, bounds, shapeBounds, scaleX, scaleY } = shape;\n    const other = current.getSameCanvas();\n    const end = innerShadow.length - 1;\n    toOffsetOutBounds(bounds, offsetOutBounds);\n    innerShadow.forEach((item, index) => {\n        other.save();\n        other.setWorldShadow((offsetOutBounds.offsetX + item.x * scaleX), (offsetOutBounds.offsetY + item.y * scaleY), item.blur * scaleX);\n        spreadScale = item.spread ? 1 - item.spread * 2 / (__layout.boxBounds.width + (__layout.strokeBoxSpread || 0) * 2) : 0;\n        drawWorldShadow(other, offsetOutBounds, spreadScale, shape);\n        other.restore();\n        if (worldCanvas) {\n            other.copyWorld(other, bounds, nowWorld, 'copy');\n            other.copyWorld(worldCanvas, nowWorld, nowWorld, 'source-out');\n            copyBounds = nowWorld;\n        }\n        else {\n            other.copyWorld(shape.canvas, shapeBounds, bounds, 'source-out');\n            copyBounds = bounds;\n        }\n        other.fillWorld(copyBounds, item.color, 'source-in');\n        if (ui.__worldFlipped) {\n            current.copyWorldByReset(other, copyBounds, nowWorld, item.blendMode);\n        }\n        else {\n            current.copyWorldToInner(other, copyBounds, __layout.renderBounds, item.blendMode);\n        }\n        if (end && index < end)\n            other.clearWorld(copyBounds, true);\n    });\n    other.recycle(copyBounds);\n}\n\nfunction blur(ui, current, origin) {\n    const { blur } = ui.__;\n    origin.setWorldBlur(blur * ui.__nowWorld.a);\n    origin.copyWorldToInner(current, ui.__nowWorld, ui.__layout.renderBounds);\n    origin.filter = 'none';\n}\n\nfunction backgroundBlur(_ui, _current, _shape) {\n}\n\nconst EffectModule = {\n    shadow,\n    innerShadow,\n    blur,\n    backgroundBlur\n};\n\nconst { excludeRenderBounds } = LeafBoundsHelper;\nGroup.prototype.__renderMask = function (canvas, options) {\n    let child, maskCanvas, contentCanvas, maskOpacity, currentMask;\n    const { children } = this;\n    for (let i = 0, len = children.length; i < len; i++) {\n        child = children[i];\n        if (child.__.mask) {\n            if (currentMask) {\n                maskEnd(this, currentMask, canvas, contentCanvas, maskCanvas, maskOpacity);\n                maskCanvas = contentCanvas = null;\n            }\n            if (child.__.mask === 'path') {\n                if (child.opacity < 1) {\n                    currentMask = 'opacity-path';\n                    maskOpacity = child.opacity;\n                    if (!contentCanvas)\n                        contentCanvas = getCanvas(canvas);\n                }\n                else {\n                    currentMask = 'path';\n                    canvas.save();\n                }\n                child.__clip(contentCanvas || canvas, options);\n            }\n            else {\n                currentMask = 'alpha';\n                if (!maskCanvas)\n                    maskCanvas = getCanvas(canvas);\n                if (!contentCanvas)\n                    contentCanvas = getCanvas(canvas);\n                child.__render(maskCanvas, options);\n            }\n            if (child.__.mask !== 'clipping')\n                continue;\n        }\n        if (excludeRenderBounds(child, options))\n            continue;\n        child.__render(contentCanvas || canvas, options);\n    }\n    maskEnd(this, currentMask, canvas, contentCanvas, maskCanvas, maskOpacity);\n};\nfunction maskEnd(leaf, maskMode, canvas, contentCanvas, maskCanvas, maskOpacity) {\n    switch (maskMode) {\n        case 'alpha':\n            usePixelMask(leaf, canvas, contentCanvas, maskCanvas);\n            break;\n        case 'opacity-path':\n            copyContent(leaf, canvas, contentCanvas, maskOpacity);\n            break;\n        case 'path':\n            canvas.restore();\n    }\n}\nfunction getCanvas(canvas) {\n    return canvas.getSameCanvas(false, true);\n}\nfunction usePixelMask(leaf, canvas, content, mask) {\n    const realBounds = leaf.__nowWorld;\n    content.resetTransform();\n    content.opacity = 1;\n    content.useMask(mask, realBounds);\n    mask.recycle(realBounds);\n    copyContent(leaf, canvas, content, 1);\n}\nfunction copyContent(leaf, canvas, content, maskOpacity) {\n    const realBounds = leaf.__nowWorld;\n    canvas.resetTransform();\n    canvas.opacity = maskOpacity;\n    canvas.copyWorld(content, realBounds);\n    content.recycle(realBounds);\n}\n\nconst money = '¥￥＄€£￡¢￠';\nconst letter = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz';\nconst langBefore = '《（「〈『〖【〔｛┌＜‘“＝' + money;\nconst langAfter = '》）」〉』〗】〕｝┐＞’”！？，、。：；‰';\nconst langSymbol = '≮≯≈≠＝…';\nconst langBreak$1 = '—／～｜┆·';\nconst beforeChar = '{[(<\\'\"' + langBefore;\nconst afterChar = '>)]}%!?,.:;\\'\"' + langAfter;\nconst symbolChar = afterChar + '_#~&*+\\\\=|' + langSymbol;\nconst breakChar = '- ' + langBreak$1;\nconst cjkRangeList = [\n    [0x4E00, 0x9FFF],\n    [0x3400, 0x4DBF],\n    [0x20000, 0x2A6DF],\n    [0x2A700, 0x2B73F],\n    [0x2B740, 0x2B81F],\n    [0x2B820, 0x2CEAF],\n    [0x2CEB0, 0x2EBEF],\n    [0x30000, 0x3134F],\n    [0x31350, 0x323AF],\n    [0x2E80, 0x2EFF],\n    [0x2F00, 0x2FDF],\n    [0x2FF0, 0x2FFF],\n    [0x3000, 0x303F],\n    [0x31C0, 0x31EF],\n    [0x3200, 0x32FF],\n    [0x3300, 0x33FF],\n    [0xF900, 0xFAFF],\n    [0xFE30, 0xFE4F],\n    [0x1F200, 0x1F2FF],\n    [0x2F800, 0x2FA1F],\n];\nconst cjkReg = new RegExp(cjkRangeList.map(([start, end]) => `[\\\\u${start.toString(16)}-\\\\u${end.toString(16)}]`).join('|'));\nfunction mapChar(str) {\n    const map = {};\n    str.split('').forEach(char => map[char] = true);\n    return map;\n}\nconst letterMap = mapChar(letter);\nconst beforeMap = mapChar(beforeChar);\nconst afterMap = mapChar(afterChar);\nconst symbolMap = mapChar(symbolChar);\nconst breakMap = mapChar(breakChar);\nvar CharType;\n(function (CharType) {\n    CharType[CharType[\"Letter\"] = 0] = \"Letter\";\n    CharType[CharType[\"Single\"] = 1] = \"Single\";\n    CharType[CharType[\"Before\"] = 2] = \"Before\";\n    CharType[CharType[\"After\"] = 3] = \"After\";\n    CharType[CharType[\"Symbol\"] = 4] = \"Symbol\";\n    CharType[CharType[\"Break\"] = 5] = \"Break\";\n})(CharType || (CharType = {}));\nconst { Letter: Letter$1, Single: Single$1, Before: Before$1, After: After$1, Symbol: Symbol$1, Break: Break$1 } = CharType;\nfunction getCharType(char) {\n    if (letterMap[char]) {\n        return Letter$1;\n    }\n    else if (breakMap[char]) {\n        return Break$1;\n    }\n    else if (beforeMap[char]) {\n        return Before$1;\n    }\n    else if (afterMap[char]) {\n        return After$1;\n    }\n    else if (symbolMap[char]) {\n        return Symbol$1;\n    }\n    else if (cjkReg.test(char)) {\n        return Single$1;\n    }\n    else {\n        return Letter$1;\n    }\n}\n\nconst TextRowHelper = {\n    trimRight(row) {\n        const { words } = row;\n        let trimRight = 0, len = words.length, char;\n        for (let i = len - 1; i > -1; i--) {\n            char = words[i].data[0];\n            if (char.char === ' ') {\n                trimRight++;\n                row.width -= char.width;\n            }\n            else {\n                break;\n            }\n        }\n        if (trimRight)\n            words.splice(len - trimRight, trimRight);\n    }\n};\n\nfunction getTextCase(char, textCase, firstChar) {\n    switch (textCase) {\n        case 'title':\n            return firstChar ? char.toUpperCase() : char;\n        case 'upper':\n            return char.toUpperCase();\n        case 'lower':\n            return char.toLowerCase();\n        default:\n            return char;\n    }\n}\n\nconst { trimRight } = TextRowHelper;\nconst { Letter, Single, Before, After, Symbol, Break } = CharType;\nlet word, row, wordWidth, rowWidth, realWidth;\nlet char, charWidth, startCharSize, charSize, charType, lastCharType, langBreak, afterBreak, paraStart;\nlet textDrawData, rows = [], bounds;\nfunction createRows(drawData, content, style) {\n    textDrawData = drawData;\n    rows = drawData.rows;\n    bounds = drawData.bounds;\n    const { __letterSpacing, paraIndent, textCase } = style;\n    const { canvas } = Platform;\n    const { width, height } = bounds;\n    const charMode = width || height || __letterSpacing || (textCase !== 'none');\n    if (charMode) {\n        const wrap = style.textWrap !== 'none';\n        const breakAll = style.textWrap === 'break';\n        paraStart = true;\n        lastCharType = null;\n        startCharSize = charWidth = charSize = wordWidth = rowWidth = 0;\n        word = { data: [] }, row = { words: [] };\n        for (let i = 0, len = content.length; i < len; i++) {\n            char = content[i];\n            if (char === '\\n') {\n                if (wordWidth)\n                    addWord();\n                row.paraEnd = true;\n                addRow();\n                paraStart = true;\n            }\n            else {\n                charType = getCharType(char);\n                if (charType === Letter && textCase !== 'none')\n                    char = getTextCase(char, textCase, !wordWidth);\n                charWidth = canvas.measureText(char).width;\n                if (__letterSpacing) {\n                    if (__letterSpacing < 0)\n                        charSize = charWidth;\n                    charWidth += __letterSpacing;\n                }\n                langBreak = (charType === Single && (lastCharType === Single || lastCharType === Letter)) || (lastCharType === Single && charType !== After);\n                afterBreak = ((charType === Before || charType === Single) && (lastCharType === Symbol || lastCharType === After));\n                realWidth = paraStart && paraIndent ? width - paraIndent : width;\n                if (wrap && (width && rowWidth + wordWidth + charWidth > realWidth)) {\n                    if (breakAll) {\n                        if (wordWidth)\n                            addWord();\n                        if (rowWidth)\n                            addRow();\n                    }\n                    else {\n                        if (!afterBreak)\n                            afterBreak = charType === Letter && lastCharType == After;\n                        if (langBreak || afterBreak || charType === Break || charType === Before || charType === Single || (wordWidth + charWidth > realWidth)) {\n                            if (wordWidth)\n                                addWord();\n                            if (rowWidth)\n                                addRow();\n                        }\n                        else {\n                            if (rowWidth)\n                                addRow();\n                        }\n                    }\n                }\n                if (char === ' ' && paraStart !== true && (rowWidth + wordWidth) === 0) ;\n                else {\n                    if (charType === Break) {\n                        if (char === ' ' && wordWidth)\n                            addWord();\n                        addChar(char, charWidth);\n                        addWord();\n                    }\n                    else if (langBreak || afterBreak) {\n                        if (wordWidth)\n                            addWord();\n                        addChar(char, charWidth);\n                    }\n                    else {\n                        addChar(char, charWidth);\n                    }\n                }\n                lastCharType = charType;\n            }\n        }\n        if (wordWidth)\n            addWord();\n        if (rowWidth)\n            addRow();\n        rows.length > 0 && (rows[rows.length - 1].paraEnd = true);\n    }\n    else {\n        content.split('\\n').forEach(content => {\n            textDrawData.paraNumber++;\n            rows.push({ x: paraIndent || 0, text: content, width: canvas.measureText(content).width, paraStart: true });\n        });\n    }\n}\nfunction addChar(char, width) {\n    if (charSize && !startCharSize)\n        startCharSize = charSize;\n    word.data.push({ char, width });\n    wordWidth += width;\n}\nfunction addWord() {\n    rowWidth += wordWidth;\n    word.width = wordWidth;\n    row.words.push(word);\n    word = { data: [] };\n    wordWidth = 0;\n}\nfunction addRow() {\n    if (paraStart) {\n        textDrawData.paraNumber++;\n        row.paraStart = true;\n        paraStart = false;\n    }\n    if (charSize) {\n        row.startCharSize = startCharSize;\n        row.endCharSize = charSize;\n        startCharSize = 0;\n    }\n    row.width = rowWidth;\n    if (bounds.width)\n        trimRight(row);\n    rows.push(row);\n    row = { words: [] };\n    rowWidth = 0;\n}\n\nconst CharMode = 0;\nconst WordMode = 1;\nconst TextMode = 2;\nfunction layoutChar(drawData, style, width, _height) {\n    const { rows } = drawData;\n    const { textAlign, paraIndent, letterSpacing } = style;\n    let charX, addWordWidth, indentWidth, mode, wordChar;\n    rows.forEach(row => {\n        if (row.words) {\n            indentWidth = paraIndent && row.paraStart ? paraIndent : 0;\n            addWordWidth = (width && textAlign === 'justify' && row.words.length > 1) ? (width - row.width - indentWidth) / (row.words.length - 1) : 0;\n            mode = (letterSpacing || row.isOverflow) ? CharMode : (addWordWidth > 0.01 ? WordMode : TextMode);\n            if (row.isOverflow && !letterSpacing)\n                row.textMode = true;\n            if (mode === TextMode) {\n                row.x += indentWidth;\n                toTextChar$1(row);\n            }\n            else {\n                row.x += indentWidth;\n                charX = row.x;\n                row.data = [];\n                row.words.forEach(word => {\n                    if (mode === WordMode) {\n                        wordChar = { char: '', x: charX };\n                        charX = toWordChar(word.data, charX, wordChar);\n                        if (row.isOverflow || wordChar.char !== ' ')\n                            row.data.push(wordChar);\n                    }\n                    else {\n                        charX = toChar(word.data, charX, row.data, row.isOverflow);\n                    }\n                    if (!row.paraEnd && addWordWidth) {\n                        charX += addWordWidth;\n                        row.width += addWordWidth;\n                    }\n                });\n            }\n            row.words = null;\n        }\n    });\n}\nfunction toTextChar$1(row) {\n    row.text = '';\n    row.words.forEach(word => {\n        word.data.forEach(char => {\n            row.text += char.char;\n        });\n    });\n}\nfunction toWordChar(data, charX, wordChar) {\n    data.forEach(char => {\n        wordChar.char += char.char;\n        charX += char.width;\n    });\n    return charX;\n}\nfunction toChar(data, charX, rowData, isOverflow) {\n    data.forEach(char => {\n        if (isOverflow || char.char !== ' ') {\n            char.x = charX;\n            rowData.push(char);\n        }\n        charX += char.width;\n    });\n    return charX;\n}\n\nfunction layoutText(drawData, style) {\n    const { rows, bounds } = drawData;\n    const { __lineHeight, __baseLine, __letterSpacing, __clipText, textAlign, verticalAlign, paraSpacing } = style;\n    let { x, y, width, height } = bounds, realHeight = __lineHeight * rows.length + (paraSpacing ? paraSpacing * (drawData.paraNumber - 1) : 0);\n    let starY = __baseLine;\n    if (__clipText && realHeight > height) {\n        realHeight = Math.max(height, __lineHeight);\n        drawData.overflow = rows.length;\n    }\n    else {\n        switch (verticalAlign) {\n            case 'middle':\n                y += (height - realHeight) / 2;\n                break;\n            case 'bottom':\n                y += (height - realHeight);\n        }\n    }\n    starY += y;\n    let row, rowX, rowWidth;\n    for (let i = 0, len = rows.length; i < len; i++) {\n        row = rows[i];\n        row.x = x;\n        if (row.width < width || (row.width > width && !__clipText)) {\n            switch (textAlign) {\n                case 'center':\n                    row.x += (width - row.width) / 2;\n                    break;\n                case 'right':\n                    row.x += width - row.width;\n            }\n        }\n        if (row.paraStart && paraSpacing && i > 0)\n            starY += paraSpacing;\n        row.y = starY;\n        starY += __lineHeight;\n        if (drawData.overflow > i && starY > realHeight) {\n            row.isOverflow = true;\n            drawData.overflow = i + 1;\n        }\n        rowX = row.x;\n        rowWidth = row.width;\n        if (__letterSpacing < 0) {\n            if (row.width < 0) {\n                rowWidth = -row.width + style.fontSize + __letterSpacing;\n                rowX -= rowWidth;\n                rowWidth += style.fontSize;\n            }\n            else {\n                rowWidth -= __letterSpacing;\n            }\n        }\n        if (rowX < bounds.x)\n            bounds.x = rowX;\n        if (rowWidth > bounds.width)\n            bounds.width = rowWidth;\n        if (__clipText && width && width < rowWidth) {\n            row.isOverflow = true;\n            if (!drawData.overflow)\n                drawData.overflow = rows.length;\n        }\n    }\n    bounds.y = y;\n    bounds.height = realHeight;\n}\n\nfunction clipText(drawData, style, x, width) {\n    if (!width)\n        return;\n    const { rows, overflow } = drawData;\n    let { textOverflow } = style;\n    rows.splice(overflow);\n    if (textOverflow && textOverflow !== 'show') {\n        if (textOverflow === 'hide')\n            textOverflow = '';\n        else if (textOverflow === 'ellipsis')\n            textOverflow = '...';\n        let char, charRight;\n        const ellipsisWidth = textOverflow ? Platform.canvas.measureText(textOverflow).width : 0;\n        const right = x + width - ellipsisWidth;\n        const list = style.textWrap === 'none' ? rows : [rows[overflow - 1]];\n        list.forEach(row => {\n            if (row.isOverflow && row.data) {\n                let end = row.data.length - 1;\n                for (let i = end; i > -1; i--) {\n                    char = row.data[i];\n                    charRight = char.x + char.width;\n                    if (i === end && charRight < right) {\n                        break;\n                    }\n                    else if (charRight < right && char.char !== ' ') {\n                        row.data.splice(i + 1);\n                        row.width -= char.width;\n                        break;\n                    }\n                    row.width -= char.width;\n                }\n                row.width += ellipsisWidth;\n                row.data.push({ char: textOverflow, x: charRight });\n                if (row.textMode)\n                    toTextChar(row);\n            }\n        });\n    }\n}\nfunction toTextChar(row) {\n    row.text = '';\n    row.data.forEach(char => {\n        row.text += char.char;\n    });\n    row.data = null;\n}\n\nfunction decorationText(drawData, style) {\n    const { fontSize } = style;\n    drawData.decorationHeight = fontSize / 11;\n    switch (style.textDecoration) {\n        case 'under':\n            drawData.decorationY = fontSize * 0.15;\n            break;\n        case 'delete':\n            drawData.decorationY = -fontSize * 0.35;\n    }\n}\n\nconst { top, right, bottom, left } = Direction4;\nfunction getDrawData(content, style) {\n    if (typeof content !== 'string')\n        content = String(content);\n    let x = 0, y = 0;\n    let width = style.__getInput('width') || 0;\n    let height = style.__getInput('height') || 0;\n    const { textDecoration, __font, __padding: padding } = style;\n    if (padding) {\n        if (width) {\n            x = padding[left];\n            width -= (padding[right] + padding[left]);\n        }\n        if (height) {\n            y = padding[top];\n            height -= (padding[top] + padding[bottom]);\n        }\n    }\n    const drawData = {\n        bounds: { x, y, width, height },\n        rows: [],\n        paraNumber: 0,\n        font: Platform.canvas.font = __font\n    };\n    createRows(drawData, content, style);\n    if (padding)\n        padAutoText(padding, drawData, style, width, height);\n    layoutText(drawData, style);\n    layoutChar(drawData, style, width);\n    if (drawData.overflow)\n        clipText(drawData, style, x, width);\n    if (textDecoration !== 'none')\n        decorationText(drawData, style);\n    return drawData;\n}\nfunction padAutoText(padding, drawData, style, width, height) {\n    if (!width) {\n        switch (style.textAlign) {\n            case 'left':\n                offsetText(drawData, 'x', padding[left]);\n                break;\n            case 'right':\n                offsetText(drawData, 'x', -padding[right]);\n        }\n    }\n    if (!height) {\n        switch (style.verticalAlign) {\n            case 'top':\n                offsetText(drawData, 'y', padding[top]);\n                break;\n            case 'bottom':\n                offsetText(drawData, 'y', -padding[bottom]);\n        }\n    }\n}\nfunction offsetText(drawData, attrName, value) {\n    const { bounds, rows } = drawData;\n    bounds[attrName] += value;\n    for (let i = 0; i < rows.length; i++)\n        rows[i][attrName] += value;\n}\n\nconst TextConvertModule = {\n    getDrawData\n};\n\nfunction string(color, opacity) {\n    if (typeof color === 'string')\n        return color;\n    let a = color.a === undefined ? 1 : color.a;\n    if (opacity)\n        a *= opacity;\n    const rgb = color.r + ',' + color.g + ',' + color.b;\n    return a === 1 ? 'rgb(' + rgb + ')' : 'rgba(' + rgb + ',' + a + ')';\n}\n\nconst ColorConvertModule = {\n    string\n};\n\nconst { setPoint, addPoint, toBounds } = TwoPointBoundsHelper;\nfunction getTrimBounds(canvas) {\n    const { width, height } = canvas.view;\n    const { data } = canvas.context.getImageData(0, 0, width, height);\n    let x, y, pointBounds, index = 0;\n    for (let i = 0; i < data.length; i += 4) {\n        if (data[i + 3] !== 0) {\n            x = index % width;\n            y = (index - x) / width;\n            pointBounds ? addPoint(pointBounds, x, y) : setPoint(pointBounds = {}, x, y);\n        }\n        index++;\n    }\n    const bounds = new Bounds();\n    toBounds(pointBounds, bounds);\n    return bounds.scale(1 / canvas.pixelRatio).ceil();\n}\n\nconst ExportModule = {\n    export(leaf, filename, options) {\n        this.running = true;\n        const fileType = FileHelper.fileType(filename);\n        options = FileHelper.getExportOptions(options);\n        return addTask((success) => new Promise((resolve) => {\n            const over = (result) => {\n                success(result);\n                resolve();\n                this.running = false;\n            };\n            const { toURL } = Platform;\n            const { download } = Platform.origin;\n            if (filename === 'json') {\n                return over({ data: leaf.toJSON(options.json) });\n            }\n            else if (fileType === 'json') {\n                download(toURL(JSON.stringify(leaf.toJSON(options.json)), 'text'), filename);\n                return over({ data: true });\n            }\n            if (filename === 'svg') {\n                return over({ data: leaf.toSVG() });\n            }\n            else if (fileType === 'svg') {\n                download(toURL(leaf.toSVG(), 'svg'), filename);\n                return over({ data: true });\n            }\n            const { leafer } = leaf;\n            if (leafer) {\n                checkLazy(leaf);\n                leafer.waitViewCompleted(() => __awaiter(this, void 0, void 0, function* () {\n                    let renderBounds, trimBounds, scaleX = 1, scaleY = 1;\n                    const { worldTransform, isLeafer, isFrame } = leaf;\n                    const { slice, trim, onCanvas } = options;\n                    let scale = options.scale || 1;\n                    let pixelRatio = options.pixelRatio || 1;\n                    const smooth = options.smooth === undefined ? leafer.config.smooth : options.smooth;\n                    const contextSettings = options.contextSettings || leafer.config.contextSettings;\n                    if (leaf.isApp) {\n                        scale *= pixelRatio;\n                        pixelRatio = leaf.app.pixelRatio;\n                    }\n                    const screenshot = options.screenshot || leaf.isApp;\n                    const fill = (isLeafer && screenshot) ? (options.fill === undefined ? leaf.fill : options.fill) : options.fill;\n                    const needFill = FileHelper.isOpaqueImage(filename) || fill, matrix = new Matrix();\n                    if (screenshot) {\n                        renderBounds = screenshot === true ? (isLeafer ? leafer.canvas.bounds : leaf.worldRenderBounds) : screenshot;\n                    }\n                    else {\n                        let relative = options.relative || (isLeafer ? 'inner' : 'local');\n                        scaleX = worldTransform.scaleX;\n                        scaleY = worldTransform.scaleY;\n                        switch (relative) {\n                            case 'inner':\n                                matrix.set(worldTransform);\n                                break;\n                            case 'local':\n                                matrix.set(worldTransform).divide(leaf.localTransform);\n                                scaleX /= leaf.scaleX;\n                                scaleY /= leaf.scaleY;\n                                break;\n                            case 'world':\n                                scaleX = 1;\n                                scaleY = 1;\n                                break;\n                            case 'page':\n                                relative = leaf.leafer;\n                            default:\n                                matrix.set(worldTransform).divide(leaf.getTransform(relative));\n                                const l = relative.worldTransform;\n                                scaleX /= scaleX / l.scaleX;\n                                scaleY /= scaleY / l.scaleY;\n                        }\n                        renderBounds = leaf.getBounds('render', relative);\n                    }\n                    const { x, y, width, height } = new Bounds(renderBounds).scale(scale);\n                    let canvas = Creator.canvas({ width: Math.round(width), height: Math.round(height), pixelRatio, smooth, contextSettings });\n                    const renderOptions = { matrix: matrix.scale(1 / scale).invert().translate(-x, -y).withScale(1 / scaleX * scale, 1 / scaleY * scale) };\n                    if (slice) {\n                        leaf = leafer;\n                        renderOptions.bounds = canvas.bounds;\n                    }\n                    canvas.save();\n                    if (isFrame && fill !== undefined) {\n                        const oldFill = leaf.get('fill');\n                        leaf.fill = '';\n                        leaf.__render(canvas, renderOptions);\n                        leaf.fill = oldFill;\n                    }\n                    else {\n                        leaf.__render(canvas, renderOptions);\n                    }\n                    canvas.restore();\n                    if (trim) {\n                        trimBounds = getTrimBounds(canvas);\n                        const old = canvas, { width, height } = trimBounds;\n                        const config = { x: 0, y: 0, width, height, pixelRatio };\n                        canvas = Creator.canvas(config);\n                        canvas.copyWorld(old, trimBounds, config);\n                    }\n                    if (needFill)\n                        canvas.fillWorld(canvas.bounds, fill || '#FFFFFF', 'destination-over');\n                    if (onCanvas)\n                        onCanvas(canvas);\n                    const data = filename === 'canvas' ? canvas : yield canvas.export(filename, options);\n                    over({ data, width: canvas.pixelWidth, height: canvas.pixelHeight, renderBounds, trimBounds });\n                }));\n            }\n            else {\n                over({ data: false });\n            }\n        }));\n    }\n};\nlet tasker;\nfunction addTask(task) {\n    if (!tasker)\n        tasker = new TaskProcessor();\n    return new Promise((resolve) => {\n        tasker.add(() => __awaiter(this, void 0, void 0, function* () { return yield task(resolve); }), { parallel: false });\n    });\n}\nfunction checkLazy(leaf) {\n    if (leaf.__.__needComputePaint)\n        leaf.__.__computePaint();\n    if (leaf.isBranch)\n        leaf.children.forEach(child => checkLazy(child));\n}\n\nconst canvas = LeaferCanvasBase.prototype;\nconst debug = Debug.get('@leafer-ui/export');\ncanvas.export = function (filename, options) {\n    const { quality, blob } = FileHelper.getExportOptions(options);\n    if (filename.includes('.')) {\n        return this.saveAs(filename, quality);\n    }\n    else if (blob) {\n        return this.toBlob(filename, quality);\n    }\n    else {\n        return this.toDataURL(filename, quality);\n    }\n};\ncanvas.toBlob = function (type, quality) {\n    return new Promise((resolve) => {\n        Platform.origin.canvasToBolb(this.view, type, quality).then((blob) => {\n            resolve(blob);\n        }).catch((e) => {\n            debug.error(e);\n            resolve(null);\n        });\n    });\n};\ncanvas.toDataURL = function (type, quality) {\n    return Platform.origin.canvasToDataURL(this.view, type, quality);\n};\ncanvas.saveAs = function (filename, quality) {\n    return new Promise((resolve) => {\n        Platform.origin.canvasSaveAs(this.view, filename, quality).then(() => {\n            resolve(true);\n        }).catch((e) => {\n            debug.error(e);\n            resolve(false);\n        });\n    });\n};\n\nObject.assign(TextConvert, TextConvertModule);\nObject.assign(ColorConvert, ColorConvertModule);\nObject.assign(Paint, PaintModule);\nObject.assign(PaintImage, PaintImageModule);\nObject.assign(PaintGradient, PaintGradientModule);\nObject.assign(Effect, EffectModule);\nObject.assign(Export, ExportModule);\n\nObject.assign(Creator, {\n    interaction: (target, canvas, selector, options) => new Interaction(target, canvas, selector, options),\n    hitCanvas: (options, manager) => new LeaferCanvas(options, manager),\n    hitCanvasManager: () => new HitCanvasManager()\n});\nuseCanvas();\n\nexport { Interaction, Layouter, LeaferCanvas, Renderer, Selector, Watcher, useCanvas };\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import { Canvas, Leafer } from \"leafer-ui\";\nexport class Scene {\n  staticSpriteMaps = {};\n  staticSprites = [];\n  dynamicSprites = [];\n\n  constructor(options) {\n    const { camera } = options;\n    this._core = new Leafer();\n    const canvas = new Canvas({\n      x: camera.x,\n      y: camera.y,\n      width: camera.width,\n      height: camera.height,\n      pixelRatio: devicePixelRatio,\n    });\n    this._core.add(canvas);\n    this._canvas = canvas;\n    this._camera = camera;\n  }\n\n  // 添加静态精灵\n  addStaticSprites(staticSprite) {\n    this.staticSpriteMaps[`${staticSprite.x}-${staticSprite.y}`] = staticSprite;\n    this.staticSprites.push(staticSprite);\n  }\n\n  // 添加动态精灵\n  addDynamicSprites(dynamicSprite) {\n    this.dynamicSprites.push(dynamicSprite);\n  }\n\n  run() {\n    this._canvas.context.clearRect(\n      0,\n      0,\n      this._canvas.width,\n      this._canvas.height\n    );\n    this._canvas.context.setTransform(\n      devicePixelRatio,\n      0,\n      0,\n      devicePixelRatio,\n      0,\n      0\n    );\n\n    // 动态精灵渲染\n    for (let i = 0; i < this.dynamicSprites.length; i++) {\n      const child = this.dynamicSprites[i];\n\n      if (child.isDestroy) {\n        this.dynamicSprites.splice(i, 1);\n      }\n      // 只绘制相机内的精灵\n      else if (this._camera.isInView(child) || child.y > -200) {\n        child.draw(this._canvas.context, this._camera);\n      }\n    }\n\n    // 静态精灵渲染\n    for (let i = 0; i < this.staticSprites.length; i++) {\n      const child = this.staticSprites[i];\n\n      if (child.isDestroy) {\n        this.staticSprites.splice(i, 1);\n        delete this.staticSpriteMaps[`${child.x}-${child.y}`];\n      }\n      // 只绘制相机内的精灵\n      else if (this._camera.isInView(child)) {\n        child.draw(this._canvas.context, this._camera);\n      }\n    }\n\n    this._canvas.paint();\n  }\n\n  getCore() {\n    return this._core;\n  }\n}\n","export class Camera {\n  constructor(options) {\n    const { width, height, x, y } = options;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  isInView(options) {\n    const { x, y, width, height } = options;\n    return (\n      x + width >= this.x &&\n      x <= this.x + this.width &&\n      y + height >= this.y &&\n      y <= this.y + this.height\n    );\n  }\n}\n","export const SIZE = 32;\nexport const G = 0.4;\nexport const MARIO_VIEW_OFFSET = SIZE * 6;\n","export class StaticSprite {\n  isDestroy = false;\n\n  constructor(options) {\n    const { x, y, width, height } = options;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  destroy() {\n    this.isDestroy = true;\n  }\n}\n","import { spriteLandResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { StaticSprite } from \"./static-sprite\";\n\nexport class SpriteLand extends StaticSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n  }\n\n  draw(context, camera) {\n    context.drawImage(\n      spriteLandResources[0],\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { SpriteAskResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { StaticSprite } from \"./static-sprite\";\n\nconst COLLECT_OFFSET = 6;\nexport class SpriteAsk extends StaticSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n\n    this.frame = 0;\n    this.collectY = null;\n    this.collectStep = 0;\n    this.resources = {\n      default: [\n        SpriteAskResources[0],\n        SpriteAskResources[1],\n        SpriteAskResources[2],\n        SpriteAskResources[3],\n        SpriteAskResources[4],\n        SpriteAskResources[5],\n      ],\n      empty: [SpriteAskResources[6]],\n    };\n    this.type = \"default\";\n  }\n\n  hit() {\n    if (this.type === \"empty\") {\n      return;\n    }\n\n    this.type = \"empty\";\n    this.frame = 0;\n    this.collectY = this.y - COLLECT_OFFSET;\n  }\n\n  draw(context, camera) {\n    const resource = this.resources[this.type][~~this.frame];\n    this.frame =\n      this.frame >= this.resources[this.type].length - 1 ? 0 : this.frame + 0.1;\n\n    if (this.collectY) {\n      this.collectY++;\n      this.collectStep++;\n\n      if (this.collectStep > COLLECT_OFFSET) {\n        this.collectStep = 0;\n        this.collectY = null;\n      }\n    }\n\n    context.drawImage(\n      resource,\n      this.x - camera.x,\n      this.collectY || this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","export class DynamicSprite {\n  isActive = false;\n  isDestroy = false;\n\n  constructor(options) {\n    const { x, y, vx = 0, vy = 0, width, height } = options;\n    this.x = x;\n    this.y = y;\n    this.vx = vx;\n    this.vy = vy;\n    this.width = width;\n    this.height = height;\n  }\n\n  active() {\n    this.isActive = true;\n  }\n\n  unActive() {\n    this.isActive = false;\n  }\n\n  destroy() {\n    this.unActive();\n    this.isDestroy = true;\n  }\n}\n","import { spriteFlowerResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { DynamicSprite } from \"./dynamic-sprite\";\n\nconst COLLECT_OFFSET = 6;\nexport class SpriteFlower extends DynamicSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n\n    this.frame = 0;\n    this.collectY = null;\n    this.collectStep = 0;\n\n    this.resources = {\n      default: [\n        spriteFlowerResources[0],\n        spriteFlowerResources[1],\n        spriteFlowerResources[2],\n        spriteFlowerResources[3],\n      ],\n    };\n    this.type = \"default\";\n  }\n\n  appear() {\n    if (this.isActive) {\n      return;\n    }\n\n    this.collectY = this.y - COLLECT_OFFSET;\n  }\n\n  draw(context, camera) {\n    const resource = this.resources[this.type][~~this.frame];\n    this.frame =\n      this.frame >= this.resources[this.type].length - 1 ? 0 : this.frame + 0.1;\n\n    if (this.collectY) {\n      this.y = this.collectY;\n      this.collectY--;\n      this.collectStep++;\n\n      if (this.collectStep > this.height - COLLECT_OFFSET) {\n        this.collectStep = 0;\n        this.collectY = null;\n        this.active();\n      }\n    }\n\n    context.drawImage(\n      resource,\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { spriteGrowMushroomResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { DynamicSprite } from \"./dynamic-sprite\";\n\nconst COLLECT_OFFSET = 6;\nexport class SpriteGrowMushroom extends DynamicSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n\n    this.collectY = null;\n    this.collectStep = 0;\n  }\n\n  appear() {\n    if (this.isActive) {\n      return;\n    }\n\n    this.collectY = this.y - COLLECT_OFFSET;\n  }\n\n  draw(context, camera) {\n    if (this.collectY) {\n      this.y = this.collectY;\n      this.collectY--;\n      this.collectStep++;\n\n      if (this.collectStep > this.height - COLLECT_OFFSET) {\n        this.collectStep = 0;\n        this.collectY = null;\n        this.vx = -1;\n        this.active();\n      }\n    }\n\n    this.x += this.vx;\n    this.y += this.vy;\n\n    context.drawImage(\n      spriteGrowMushroomResources[0],\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { spriteBadMushroomResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { DynamicSprite } from \"./dynamic-sprite\";\n\nexport class SpriteBadMushroom extends DynamicSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n    this.frame = 0;\n    this.collectY = null;\n    this.collectStep = 0;\n    this.vx = -this.width / SIZE;\n    this.vy = 0;\n\n    this.resources = {\n      default: [spriteBadMushroomResources[0], spriteBadMushroomResources[1]],\n\n      dieByBullet: [\n        spriteBadMushroomResources[2],\n        spriteBadMushroomResources[3],\n      ],\n      dieByTrample: [spriteBadMushroomResources[4]],\n    };\n    this.type = \"default\";\n    this.active();\n  }\n\n  dieByTrample() {\n    this.unActive();\n    this.type = \"dieByTrample\";\n    this.vx = 0;\n    this.vy = 0;\n    this.frame = 0;\n\n    setTimeout(() => {\n      this.destroy();\n    }, 200);\n  }\n\n  dieByBullet() {\n    this.unActive();\n    this.type = \"dieByBullet\";\n    this.vx = 0;\n    this.vy = 0;\n    this.frame = 0;\n\n    const animate = () => {\n      if (this.beginX === undefined) {\n        this.beginX = this.x;\n        this.beginY = this.y;\n        this.animatedX = 0;\n      }\n\n      this.animatedX += 1;\n      this.animatedY =\n        0.2 * this.animatedX * this.animatedX - 5 * this.animatedX;\n      this.x = this.beginX + this.animatedX;\n      this.y = this.beginY + this.animatedY;\n\n      if (this.y > this.beginY + 300) {\n        this.destroy();\n        return;\n      }\n      requestAnimationFrame(animate);\n    };\n\n    animate();\n  }\n\n  draw(context, camera) {\n    const resource = this.resources[this.type][~~this.frame];\n    this.frame =\n      ~~(this.frame + 0.03) > this.resources[this.type].length - 1\n        ? 0\n        : this.frame + 0.03;\n\n    this.x += this.vx;\n    this.y += this.vy;\n\n    context.drawImage(\n      resource,\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { spriteStoneResources } from \"../utils/loadResources\";\nimport { StaticSprite } from \"./static-sprite\";\nimport { SIZE } from \"../constants\";\n\nconst COLLECT_OFFSET = 6;\nexport class SpriteStone extends StaticSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n\n    this.collectY = null;\n    this.collectStep = 0;\n  }\n\n  hit() {\n    this.collectY = this.y - COLLECT_OFFSET;\n  }\n\n  draw(context, camera) {\n    if (this.collectY) {\n      this.collectY++;\n      this.collectStep++;\n\n      if (this.collectStep > COLLECT_OFFSET) {\n        this.collectStep = 0;\n        this.collectY = null;\n      }\n    }\n\n    context.drawImage(\n      spriteStoneResources[0],\n      this.x - camera.x,\n      this.collectY || this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { spriteWinResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { StaticSprite } from \"./static-sprite\";\n\nexport class SpriteWin extends StaticSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n  }\n\n  draw(context, camera) {\n    this.height = camera.height - SIZE;\n    context.drawImage(\n      spriteWinResources[0],\n      this.x - camera.x - SIZE / 2,\n      this.y,\n      SIZE,\n      SIZE\n    );\n\n    context.drawImage(\n      spriteWinResources[1],\n      this.x - camera.x,\n      this.y - SIZE / 2,\n      SIZE,\n      SIZE\n    );\n\n    for (let i = 0; i < this.height - SIZE; i++) {\n      context.drawImage(\n        spriteWinResources[2],\n        this.x - camera.x,\n        this.y - SIZE / 2 + SIZE * (i + 1),\n        SIZE,\n        SIZE\n      );\n    }\n  }\n}\n","import { spriteGoldResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { StaticSprite } from \"./static-sprite\";\n\nexport class SpriteGold extends StaticSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n\n    this.frame = 0;\n  }\n\n  draw(context, camera) {\n    const resource = spriteGoldResources[~~this.frame];\n    this.frame =\n      this.frame >= spriteGoldResources.length - 1 ? 0 : this.frame + 0.1;\n\n    context.drawImage(\n      resource,\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { spriteRockResources } from \"../utils/loadResources\";\nimport { SIZE } from \"../constants\";\nimport { StaticSprite } from \"./static-sprite\";\n\nexport class SpriteRock extends StaticSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n  }\n\n  draw(context, camera) {\n    context.drawImage(\n      spriteRockResources[0],\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { SpriteLand } from \"../sprite/sprite-land\";\nimport { SpriteAsk } from \"../sprite/sprite-ask\";\nimport { SpriteFlower } from \"../sprite/sprite-flower\";\nimport { SpriteGrowMushroom } from \"../sprite/sprite-grow-mushroom\";\nimport { SpriteBadMushroom } from \"../sprite/sprite-bad-mushroom\";\nimport { SpriteStone } from \"../sprite/sprite-stone\";\nimport { SpriteWin } from \"../sprite/sprite-win\";\nimport { SpriteGold } from \"../sprite/sprite-gold\";\nimport { SpriteRock } from \"../sprite/sprite-rock\";\n\nfunction toKebabCase(str) {\n  return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n\nexport class Map {\n  constructor() {}\n\n  serialization(scene, title) {\n    const mapData = {\n      title,\n      data: [],\n    };\n    scene.dynamicSprites.forEach((sprite) => {\n      mapData.data.push({\n        type: toKebabCase(sprite.constructor.name),\n        x: sprite.x,\n        y: sprite.y,\n      });\n    });\n\n    scene.staticSprites.forEach((sprite) => {\n      mapData.data.push({\n        type: toKebabCase(sprite.constructor.name),\n        x: sprite.x,\n        y: sprite.y,\n      });\n    });\n\n    return mapData;\n  }\n\n  deserialization(mapData) {\n    const { data } = mapData;\n\n    // 静态精灵\n    const statics = [];\n\n    // 动态精灵\n    const dynamics = [];\n    data.forEach((v) => {\n      switch (v.type) {\n        case \"sprite-land\":\n          statics.push(\n            new SpriteLand({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n\n        case \"sprite-ask\":\n          statics.push(\n            new SpriteAsk({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n\n        case \"sprite-stone\":\n          statics.push(\n            new SpriteStone({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n        case \"sprite-rock\":\n          statics.push(\n            new SpriteRock({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n        case \"sprite-win\":\n          statics.push(\n            new SpriteWin({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n        case \"sprite-gold\":\n          statics.push(\n            new SpriteGold({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n        case \"sprite-flower\":\n          dynamics.push(\n            new SpriteFlower({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n\n        case \"sprite-grow-mushroom\":\n          dynamics.push(\n            new SpriteGrowMushroom({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n        case \"sprite-bad-mushroom\":\n          dynamics.push(\n            new SpriteBadMushroom({\n              x: v.x,\n              y: v.y,\n            })\n          );\n          break;\n      }\n    });\n\n    return {\n      statics,\n      dynamics,\n    };\n  }\n\n  import() {}\n\n  export() {}\n}\n","import { Rect, Group, Leafer } from \"leafer-ui\";\nimport { backgroundResources } from \"../utils/loadResources\";\n\nexport class Background {\n  constructor(options) {\n    const { camera } = options;\n    const {\n      width: imageWidth,\n      height: imageHeight,\n      src: imageUrl,\n    } = backgroundResources[0];\n\n    this._camera = camera;\n    this.init({\n      sceneWidth: camera.width,\n      sceneHeight: camera.height,\n      imageWidth,\n      imageHeight,\n      imageUrl,\n    });\n  }\n\n  init(options) {\n    const { sceneWidth, sceneHeight, imageWidth, imageHeight, imageUrl } =\n      options;\n    const imageAr = imageWidth / imageHeight;\n    this._core = new Leafer();\n\n    const group = new Group({\n      x: 0,\n      y: 0,\n      width: sceneWidth,\n      height: sceneHeight,\n    });\n\n    const bgWidth = imageAr * sceneHeight;\n    // 第一张背景图\n    group.add(\n      new Rect({\n        x: 0,\n        y: 0,\n        width: bgWidth,\n        height: sceneHeight,\n        fill: {\n          type: \"image\",\n          url: imageUrl,\n          mode: \"fit\",\n        },\n      })\n    );\n\n    // 第二张背景图\n    this.breakPoint = bgWidth - 1;\n    group.add(\n      new Rect({\n        x: this.breakPoint,\n        y: 0,\n        width: bgWidth,\n        height: sceneHeight,\n        fill: {\n          type: \"image\",\n          url: imageUrl,\n          mode: \"fit\",\n        },\n      })\n    );\n\n    this._core.add(group);\n  }\n\n  getCore() {\n    return this._core;\n  }\n\n  run() {\n    const group = this.getCore().children[0];\n    // 到达断点，背景图位置重置\n    group.set({\n      x: -this._camera.x <= -this.breakPoint ? 0 : -this._camera.x,\n    });\n  }\n}\n","import { Group, Leafer, Text } from \"leafer-ui\";\nimport { SpriteGold } from \"../sprite/sprite-gold\";\nimport { SpriteBadMushroom } from \"../sprite/sprite-bad-mushroom\";\nimport { SpriteGrowMushroom } from \"../sprite/sprite-grow-mushroom\";\nimport { SpriteFlower } from \"../sprite/sprite-flower\";\nimport { SpriteStone } from \"../sprite/sprite-stone\";\n\nexport class Score {\n  children = [];\n  totalScore = 0;\n  constructor(options) {\n    const { camera } = options;\n    this._core = new Leafer();\n\n    const group = new Group({\n      x: 0,\n      y: 0,\n      width: camera.width,\n      height: camera.height,\n    });\n\n    this.totalScoreText = new Text({\n      x: 0,\n      y: 0,\n      width: camera.width - 20,\n      text: \"分数：0\",\n      fill: \"rgb(255,255,255)\",\n      fontSize: 20,\n      fontWeight: \"black\",\n      textAlign: \"right\",\n      fontFamily:\n        \"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace\",\n    });\n    group.add(this.totalScoreText);\n    this._core.add(group);\n    this._group = group;\n    this._camera = camera;\n  }\n\n  add(x, y, sprite) {\n    let score;\n    if (sprite instanceof SpriteGold) {\n      score = 500;\n    } else if (sprite instanceof SpriteBadMushroom) {\n      score = 400;\n    } else if (\n      sprite instanceof SpriteGrowMushroom ||\n      sprite instanceof SpriteFlower\n    ) {\n      score = 2000;\n    } else if (sprite instanceof SpriteStone) {\n      score = 200;\n    }\n\n    const text = new Text({\n      _x: x,\n      _y: y,\n      x,\n      y,\n      text: score,\n      fill: \"rgb(255,255,255)\",\n      fontWeight: \"black\",\n      fontFamily:\n        \"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace\",\n    });\n    this._group.add(text);\n    this.children.push(text);\n    this.totalScore += score;\n    this.totalScoreText.text = \"分数：\" + this.totalScore;\n  }\n\n  getCore() {\n    return this._core;\n  }\n\n  run() {\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      child.set({\n        x: child._x - this._camera.x,\n        y: child.y - 1,\n      });\n      if (child._y - child.y > 20) {\n        this.children.splice(i, 1);\n        this._group.remove(child);\n        i--;\n      }\n    }\n  }\n}\n","import { baseMarioResources } from \"../utils/loadResources\";\n\nexport class BaseMario {\n  frame = 0;\n  actionType = \"static\";\n\n  constructor() {\n    this.resources = {\n      static: [baseMarioResources[0]],\n      jumpLeft: [baseMarioResources[1]],\n      jumpRight: [baseMarioResources[2]],\n      left: [\n        baseMarioResources[3],\n        baseMarioResources[4],\n        baseMarioResources[5],\n      ],\n      right: [\n        baseMarioResources[6],\n        baseMarioResources[7],\n        baseMarioResources[8],\n      ],\n      die: [baseMarioResources[9]],\n    };\n  }\n\n  getInfo(options) {\n    const { actionType } = options;\n    if (actionType !== this.actionType) {\n      this.frame = 0;\n    }\n    this.actionType = actionType;\n\n    const resource = this.resources[actionType][~~this.frame];\n    this.frame =\n      this.frame >= this.resources[actionType].length - 1\n        ? 0\n        : this.frame + 0.1;\n\n    return {\n      resource,\n    };\n  }\n}\n","import { bigMarioResources } from \"../utils/loadResources\";\n\nexport class BigMario {\n  frame = 0;\n  actionType = \"static\";\n\n  constructor() {\n    this.resources = {\n      static: [bigMarioResources[0]],\n      jumpLeft: [bigMarioResources[1]],\n      jumpRight: [bigMarioResources[2]],\n      left: [bigMarioResources[3], bigMarioResources[4], bigMarioResources[5]],\n      right: [bigMarioResources[6], bigMarioResources[7], bigMarioResources[8]],\n    };\n  }\n\n  getInfo(options) {\n    const { actionType } = options;\n    if (actionType !== this.actionType) {\n      this.frame = 0;\n    }\n    this.actionType = actionType;\n\n    const resource = this.resources[actionType][~~this.frame];\n    this.frame =\n      this.frame >= this.resources[actionType].length - 1\n        ? 0\n        : this.frame + 0.1;\n\n    return {\n      resource,\n    };\n  }\n}\n","import { bulletMarioResources } from \"../utils/loadResources\";\n\nexport class BulletMario {\n  frame = 0;\n  actionType = \"static\";\n\n  constructor() {\n    this.resources = {\n      static: [bulletMarioResources[0]],\n      jumpLeft: [bulletMarioResources[1]],\n      jumpRight: [bulletMarioResources[2]],\n      left: [\n        bulletMarioResources[3],\n        bulletMarioResources[4],\n        bulletMarioResources[5],\n      ],\n      right: [\n        bulletMarioResources[6],\n        bulletMarioResources[7],\n        bulletMarioResources[8],\n      ],\n      attackLeft: [bulletMarioResources[9]],\n      attackRight: [bulletMarioResources[10]],\n    };\n  }\n\n  getInfo(options) {\n    const { actionType } = options;\n    if (actionType !== this.actionType) {\n      this.frame = 0;\n    }\n    this.actionType = actionType;\n\n    const resource = this.resources[actionType][~~this.frame];\n    this.frame =\n      this.frame >= this.resources[actionType].length - 1\n        ? 0\n        : this.frame + 0.1;\n\n    return {\n      resource,\n    };\n  }\n}\n","import { SIZE } from \"../constants\";\nimport { spriteBulletResources } from \"../utils/loadResources\";\nimport { DynamicSprite } from \"./dynamic-sprite\";\n\nexport class SpriteBullet extends DynamicSprite {\n  constructor(options) {\n    const { x, y, vx = 4, vy = 4 } = options;\n    super({ x, y, width: SIZE / 2, height: SIZE / 2, vx, vy });\n\n    this.frame = 0;\n    this.resources = [\n      spriteBulletResources[0],\n      spriteBulletResources[1],\n      spriteBulletResources[2],\n      spriteBulletResources[3],\n    ];\n    this.active();\n    this.step = 0;\n  }\n\n  draw(context, camera) {\n    const resource = this.resources[~~this.frame];\n    this.frame = this.frame >= this.resources.length - 1 ? 0 : this.frame + 0.1;\n\n    this.x += this.vx;\n    this.y += this.vy;\n    this.step += 1;\n\n    if (this.step >= 60) {\n      this.destroy();\n    }\n\n    context.drawImage(\n      resource,\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","import { BaseMario } from \"./base\";\nimport { BigMario } from \"./big\";\nimport { BulletMario } from \"./bullet\";\n\nimport { SIZE } from \"../constants\";\nimport { SpriteBullet } from \"../sprite/sprite-bullet\";\nimport { DynamicSprite } from \"../sprite/dynamic-sprite\";\n\nfunction getActionTypeBySpeed(vx, vy, isAttack, isDie) {\n  if (isDie) {\n    return \"die\";\n  }\n\n  if (isAttack) {\n    if (vx < 0) {\n      return \"attackLeft\";\n    }\n    return \"attackRight\";\n  }\n\n  if (vx === 0 && vy === 0) {\n    if (isAttack) {\n      return \"attackRight\";\n    }\n    return \"static\";\n  }\n  // 往右边跳\n\n  if (vy !== 0 && vx >= 0) {\n    return \"jumpRight\";\n  }\n  // 往左边跳\n\n  if (vy !== 0 && vx < 0) {\n    return \"jumpLeft\";\n  }\n\n  // 往左边走\n  if (vy === 0 && vx < 0) {\n    return \"left\";\n  }\n\n  // 往右边走\n  return \"right\";\n}\n\nexport class Mario extends DynamicSprite {\n  constructor({ x, y }) {\n    super({\n      x,\n      y,\n      width: SIZE,\n      height: SIZE,\n    });\n    this.isAttack = false;\n    this.isInvincibility = false;\n    this.invincibilityNum = 0;\n    this.isDie = false;\n    this.isWin = false;\n\n    this.growType = \"base\";\n    this.mario = new BaseMario();\n    this.active();\n  }\n\n  grow() {\n    if (this.growType === \"base\") {\n      this.growType = \"big\";\n      this.y -= SIZE;\n      this.height = 2 * SIZE;\n      this.mario = new BigMario();\n    }\n  }\n\n  bullet() {\n    if (this.growType === \"base\") {\n      this.y -= SIZE;\n      this.height = 2 * SIZE;\n    }\n    this.growType = \"bullet\";\n    this.mario = new BulletMario();\n  }\n\n  attack() {\n    if (this.growType !== \"bullet\") {\n      return;\n    }\n    this.isAttack = true;\n    // 添加子弹\n    return new SpriteBullet({\n      x: this.vx >= 0 ? this.x + this.width : this.x,\n      y: this.y,\n      vx: this.vx >= 0 ? 8 : -8,\n    });\n  }\n\n  die() {\n    if (this.isInvincibility) return;\n\n    if (this.growType !== \"base\") {\n      this.growType = \"base\";\n      this.mario = new BaseMario();\n      this.height = SIZE;\n      this.y += SIZE;\n      this.isInvincibility = true;\n\n      // 无敌两秒\n      setTimeout(() => {\n        this.isInvincibility = false;\n      }, 2000);\n    } else {\n      this.isDie = true;\n      this.unActive();\n      this.vy = -1;\n      this.vx = 0;\n    }\n  }\n  win() {\n    this.isWin = true;\n  }\n\n  unAttack() {\n    this.isAttack = false;\n  }\n\n  draw(context, camera) {\n    const { vx, vy } = this;\n    const actionType = getActionTypeBySpeed(vx, vy, this.isAttack, this.isDie);\n\n    const { resource } = this.mario.getInfo({\n      actionType,\n    });\n\n    this.x += vx;\n    this.y += vy;\n\n    // 无敌状态\n    if (this.isInvincibility) {\n      if (Math.sin(this.invincibilityNum) >= 1) {\n        this.invincibilityNum -= 0.8;\n      } else if (Math.sin(this.invincibilityNum) <= -1) {\n        this.invincibilityNum += 0.8;\n      } else {\n        this.invincibilityNum += 0.8;\n      }\n\n      if (Math.sin(this.invincibilityNum) >= 0) {\n        return;\n      }\n    }\n\n    context.drawImage(\n      resource,\n      this.x - camera.x,\n      this.y,\n      this.width,\n      this.height\n    );\n  }\n}\n","export class Keyboard {\n  xDirection;\n  yDirection;\n  pressBlank = false;\n\n  constructor() {\n    document.addEventListener(\"keydown\", this.handleKeydown);\n    document.addEventListener(\"keyup\", this.handleKeyup);\n  }\n\n  handleKeydown = (e) => {\n    switch (e.keyCode) {\n      case 38:\n        this.yDirection = \"top\";\n        break;\n      case 37:\n        this.xDirection = \"left\";\n        break;\n      case 39:\n        this.xDirection = \"right\";\n        break;\n      case 32:\n        this.pressBlank = true;\n        break;\n    }\n  };\n\n  handleKeyup = (e) => {\n    switch (e.keyCode) {\n      case 38:\n        this.yDirection = undefined;\n        break;\n      case 37:\n      case 39:\n        this.xDirection = undefined;\n        break;\n      case 32:\n        this.pressBlank = false;\n        break;\n    }\n  };\n}\n","export const isCollectBTop = (a, b) => {\n  return (\n    a.vy > 0 &&\n    a.y + a.height <= b.y &&\n    a.x + a.width !== b.x &&\n    a.x !== b.x + b.width\n  );\n};\n\nexport const isCollectBBottom = (a, b) => {\n  return (\n    a.vy < 0 &&\n    a.y >= b.y + b.height &&\n    a.x + a.width !== b.x &&\n    a.x !== b.x + b.width\n  );\n};\n\nexport const isCollectBLeft = (a, b) => {\n  return (\n    a.vx > 0 &&\n    a.x + a.width <= b.x &&\n    a.y + a.height !== b.y &&\n    a.y !== b.y + b.height\n  );\n};\n\nexport const isCollectBRight = (a, b) => {\n  return (\n    a.vx < 0 &&\n    a.x >= b.x + b.width &&\n    a.y + a.height !== b.y &&\n    a.y !== b.y + b.height\n  );\n};\n\nexport function isCollect(rectA, rectB) {\n  const x1 = rectA.x + rectA.vx;\n  const y1 = rectA.y + rectA.vy;\n  const w1 = rectA.width;\n  const h1 = rectA.height;\n\n  const x2 = rectB.x + (rectB.vx || 0);\n  const y2 = rectB.y + (rectB.vy || 0);\n  const w2 = rectB.width;\n  const h2 = rectB.height;\n\n  // 判断两个矩形是否碰撞\n  const isCollide =\n    x1 < x2 + w2 && x1 + w1 > x2 && y1 < y2 + h2 && y1 + h1 > y2;\n  return isCollide;\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","export class Jumping {\n  jumping = [];\n\n  constructor({ G }) {\n    this.G = G;\n  }\n\n  getJumpSprite(sprite) {\n    return this.jumping.find((v) => v.sprite === sprite);\n  }\n\n  add(sprite, v0 = 9) {\n    const jumpSprite = this.getJumpSprite(sprite);\n\n    if (jumpSprite) {\n      // 按得越久，受力越小，跳的越高\n      if (jumpSprite.a > 0.5 * this.G) {\n        jumpSprite.a -= 0.015;\n      }\n      return;\n    }\n    const item = {\n      // 初速度\n      v0,\n\n      // 加速度\n      a: this.G,\n      jumping: true,\n      sprite,\n    };\n    this.jumping.push(item);\n  }\n\n  remove(sprite) {\n    for (let i = 0; i < this.jumping.length; i++) {\n      if (this.jumping[i].sprite === sprite) {\n        this.jumping.splice(i, 1);\n        break;\n      }\n    }\n  }\n}\n","import { StaticSprite } from \"./static-sprite\";\nimport { SIZE } from \"../constants\";\nimport { spriteStoneBornResources } from \"../utils/loadResources\";\n\nexport class SpriteStoneBorn extends StaticSprite {\n  constructor(options) {\n    const width = SIZE / 2;\n    const height = SIZE / 2;\n    let x, y;\n\n    if (options.index === 0) {\n      x = options.x;\n      y = options.y;\n    } else if (options.index === 1) {\n      x = options.x + width;\n      y = options.y;\n    } else if (options.index === 2) {\n      x = options.x;\n      y = options.y + height;\n    } else {\n      x = options.x + width;\n      y = options.y + height;\n    }\n    super({\n      x,\n      y,\n      width,\n      height,\n    });\n    // 碎块位置\n    this.index = options.index;\n    this.animatedX = 0;\n    this.animatedY = 0;\n    this.beginX = x;\n    this.beginY = y;\n  }\n\n  // 根据碎块位置做抛物线运动\n  draw(context, camera) {\n    if (this.index === 0 || this.index === 2) {\n      const b = this.index === 0 ? 5 : 3;\n      this.animatedX += 2;\n      this.animatedY =\n        0.1 * this.animatedX * this.animatedX - b * this.animatedX;\n\n      context.drawImage(\n        spriteStoneBornResources[0],\n        this.beginX - this.animatedX - camera.x,\n        this.beginY + this.animatedY,\n        this.width,\n        this.height\n      );\n    }\n\n    if (this.index === 1 || this.index === 3) {\n      const b = this.index === 1 ? 5 : 3;\n      this.animatedX += 2;\n      this.animatedY =\n        0.1 * this.animatedX * this.animatedX - b * this.animatedX;\n\n      context.drawImage(\n        spriteStoneBornResources[0],\n        this.beginX + this.animatedX - camera.x,\n        this.beginY + this.animatedY,\n        this.width,\n        this.height\n      );\n    }\n  }\n}\n","import { Mario } from \"../mario\";\nimport { Keyboard } from \"./keyboard\";\nimport {\n  isCollectBTop,\n  isCollectBBottom,\n  isCollectBLeft,\n  isCollectBRight,\n  isCollect,\n} from \"./collect\";\nimport { SpriteAsk } from \"../sprite/sprite-ask\";\nimport { SpriteFlower } from \"../sprite/sprite-flower\";\nimport { SpriteGrowMushroom } from \"../sprite/sprite-grow-mushroom\";\nimport { SpriteBullet } from \"../sprite/sprite-bullet\";\nimport { throttle } from \"lodash-es\";\nimport { SpriteBadMushroom } from \"../sprite/sprite-bad-mushroom\";\nimport { Jumping } from \"./jumping\";\nimport { SpriteStone } from \"../sprite/sprite-stone\";\nimport { SpriteStoneBorn } from \"../sprite/sprite-stone-born\";\nimport { SpriteWin } from \"../sprite/sprite-win\";\nimport { SpriteGold } from \"../sprite/sprite-gold\";\nimport { SIZE, G } from \"../constants\";\n\nconst handleMarioAttack = throttle((scene, mario) => {\n  const bullet = mario.attack();\n\n  if (bullet) {\n    // 添加子弹\n    scene.addDynamicSprites(bullet);\n  }\n}, 200);\nexport class PhysicsEngine {\n  constructor() {\n    this.keyboard = new Keyboard();\n    this.jumping = new Jumping({\n      G,\n    });\n  }\n\n  run(options) {\n    const { scene, camera, onScore } = options;\n    this.onScore = onScore;\n    const { staticSpriteMaps, dynamicSprites } = scene;\n\n    for (let i = 0; i < dynamicSprites.length; i++) {\n      const dynamicSprite = dynamicSprites[i];\n\n      // 没在相机内，不需要物理检测\n      if (\n        !camera.isInView({\n          x: dynamicSprite.x,\n          y: dynamicSprite.y,\n          width: dynamicSprite.width,\n          height: dynamicSprite.height,\n        }) &&\n        dynamicSprite.y < -200\n      ) {\n        if (dynamicSprite instanceof SpriteBullet) {\n          dynamicSprite.destroy();\n        }\n        continue;\n      }\n\n      if (!dynamicSprite.isActive || dynamicSprite.isDestroy) {\n        continue;\n      }\n\n      // 键盘操作人物\n      if (dynamicSprite instanceof Mario) {\n        this.handleKeyBoardControlMario(dynamicSprite, scene);\n\n        if (\n          dynamicSprite.y + dynamicSprite.height >=\n          camera.y + camera.height\n        ) {\n          dynamicSprite.isDie = true;\n        }\n      }\n\n      // 上抛运动\n      const jumpSprite = this.jumping.getJumpSprite(dynamicSprite);\n\n      if (jumpSprite && !jumpSprite.jumping && jumpSprite.sprite.vy === 0) {\n        this.jumping.remove(dynamicSprite);\n      } else if (jumpSprite && jumpSprite.jumping) {\n        jumpSprite.v0 -= jumpSprite.a;\n        jumpSprite.sprite.vy = Math.min(1, -jumpSprite.v0);\n        if (jumpSprite.sprite.vy === 1) {\n          jumpSprite.jumping = false;\n        }\n      }\n\n      // 自由落体\n      else if (!(dynamicSprite instanceof SpriteBullet)) {\n        // 最大速度不超过10\n        dynamicSprite.vy = Math.min(10, dynamicSprite.vy + G);\n      }\n\n      // 和其他动态精灵做检测\n      for (let j = 0; j < dynamicSprites.length; j++) {\n        const otherDynamicSprite = dynamicSprites[j];\n        // 没在相机内，不需要检测\n        if (\n          !camera.isInView({\n            x: otherDynamicSprite.x,\n            y: otherDynamicSprite.y,\n            width: otherDynamicSprite.width,\n            height: otherDynamicSprite.height,\n          }) ||\n          otherDynamicSprite === dynamicSprite ||\n          otherDynamicSprite.isDestroy\n        ) {\n          continue;\n        }\n\n        if (isCollect(dynamicSprite, otherDynamicSprite)) {\n          this.handleDySpriteCollectDySprite(dynamicSprite, otherDynamicSprite);\n        }\n      }\n\n      // 使用包围盒做碰撞检测，提升性能\n      const boxX = (~~(dynamicSprite.x / SIZE) - 1) * SIZE;\n      const boxY = 0;\n      const boxWidth = (Math.ceil(dynamicSprite.width / SIZE) + 2) * SIZE;\n      const boxHeight = camera.height;\n\n      const collectBottoms = [];\n      const collectTops = [];\n      const collectLefts = [];\n      const collectRights = [];\n\n      for (let i = 0; i < boxWidth + 1; i += SIZE) {\n        for (let j = 0; j < boxHeight + 1; j += SIZE) {\n          const staticSprite = staticSpriteMaps[`${boxX + i}-${boxY + j}`];\n\n          // 检测到静态精灵进入动态精灵的检测范围内，才开始做碰撞检测\n          if (\n            staticSprite &&\n            !staticSprite.isDestroy &&\n            isCollect(dynamicSprite, staticSprite)\n          ) {\n            // 胜利\n            if (dynamicSprite instanceof Mario) {\n              if (staticSprite instanceof SpriteWin) {\n                dynamicSprite.win();\n                return;\n              }\n            }\n\n            // 金币\n            if (staticSprite instanceof SpriteGold) {\n              if (dynamicSprite instanceof Mario) {\n                staticSprite.destroy();\n                this.onScore(staticSprite.x, staticSprite.y, staticSprite);\n              }\n              continue;\n            }\n\n            if (isCollectBBottom(dynamicSprite, staticSprite)) {\n              collectBottoms.push(staticSprite);\n\n              // 头顶碎石砖\n              if (\n                staticSprite instanceof SpriteStone &&\n                dynamicSprite instanceof Mario &&\n                dynamicSprite.growType !== \"base\"\n              ) {\n                staticSprite.destroy();\n                this.onScore(staticSprite.x, staticSprite.y, staticSprite);\n                for (let i = 0; i < 4; i++) {\n                  scene.addDynamicSprites(\n                    new SpriteStoneBorn({\n                      x: staticSprite.x,\n                      y: staticSprite.y,\n                      index: i,\n                    })\n                  );\n                }\n              } else if (\n                dynamicSprite instanceof Mario &&\n                (staticSprite instanceof SpriteAsk ||\n                  staticSprite instanceof SpriteStone)\n              ) {\n                staticSprite.hit();\n              }\n            }\n            if (isCollectBTop(dynamicSprite, staticSprite)) {\n              collectTops.push(staticSprite);\n            }\n            if (isCollectBRight(dynamicSprite, staticSprite)) {\n              collectRights.push(staticSprite);\n            }\n            if (isCollectBLeft(dynamicSprite, staticSprite)) {\n              collectLefts.push(staticSprite);\n            }\n          }\n        }\n      }\n\n      if (collectBottoms.length) {\n        this.handleDySpriteCollectStSpriteBottom(\n          dynamicSprite,\n          collectBottoms[0],\n          jumpSprite\n        );\n      }\n\n      if (collectTops.length) {\n        this.handleDySpriteCollectStSpriteTop(dynamicSprite, collectTops[0]);\n      }\n\n      if (collectRights.length) {\n        this.handleDySpriteCollectStSpriteRight(\n          dynamicSprite,\n          collectRights[0]\n        );\n      }\n\n      if (collectLefts.length) {\n        this.handleDySpriteCollectStSpriteLeft(dynamicSprite, collectLefts[0]);\n      }\n    }\n  }\n\n  // 动态精灵之间的碰撞\n  handleDySpriteCollectDySprite(dynamicSprite, otherDynamicSprite) {\n    if (dynamicSprite instanceof Mario) {\n      // 成长花、成长蘑菇\n      if (\n        otherDynamicSprite instanceof SpriteFlower ||\n        otherDynamicSprite instanceof SpriteGrowMushroom\n      ) {\n        this.handleGetProps(dynamicSprite, otherDynamicSprite);\n      } else if (\n        otherDynamicSprite instanceof SpriteBadMushroom &&\n        otherDynamicSprite.isActive\n      ) {\n        if (isCollectBTop(dynamicSprite, otherDynamicSprite)) {\n          this.jumping.remove(dynamicSprite);\n          this.jumping.add(dynamicSprite, 4);\n          otherDynamicSprite.dieByTrample();\n          this.onScore(\n            otherDynamicSprite.x,\n            otherDynamicSprite.y,\n            otherDynamicSprite\n          );\n        } else {\n          dynamicSprite.die();\n        }\n      }\n    }\n\n    // 子弹击中敌人\n    if (\n      dynamicSprite instanceof SpriteBullet &&\n      otherDynamicSprite instanceof SpriteBadMushroom &&\n      otherDynamicSprite.isActive\n    ) {\n      dynamicSprite.destroy();\n      otherDynamicSprite.dieByBullet();\n      this.onScore(\n        otherDynamicSprite.x,\n        otherDynamicSprite.y,\n        otherDynamicSprite\n      );\n    }\n  }\n\n  handleGetProps(dynamicSprite, otherDynamicSprite) {\n    // 已经激活，销毁\n    if (otherDynamicSprite.isActive) {\n      otherDynamicSprite.destroy();\n      this.onScore(\n        otherDynamicSprite.x,\n        otherDynamicSprite.y,\n        otherDynamicSprite\n      );\n\n      if (otherDynamicSprite instanceof SpriteGrowMushroom) {\n        dynamicSprite.grow();\n      } else if (otherDynamicSprite instanceof SpriteFlower) {\n        dynamicSprite.bullet();\n      }\n    }\n    // 头顶未激活，出现\n    else if (\n      !otherDynamicSprite.isActive &&\n      isCollectBBottom(dynamicSprite, otherDynamicSprite)\n    ) {\n      otherDynamicSprite.appear();\n    }\n  }\n\n  // 动态精灵碰撞到静态精灵下面\n  handleDySpriteCollectStSpriteBottom(dynamicSprite, staticSprite, jumpSprite) {\n    dynamicSprite.y = staticSprite.y + staticSprite.height;\n\n    // 子弹反弹\n    if (dynamicSprite instanceof SpriteBullet) {\n      dynamicSprite.vy = -dynamicSprite.vy;\n    } // 击落跳跃中的精灵\n    else if (jumpSprite && jumpSprite.jumping) {\n      jumpSprite.jumping = false;\n      requestAnimationFrame(() => {\n        dynamicSprite.vy = 1;\n      });\n    }\n  }\n\n  // 动态精灵碰撞到静态精灵上面\n  handleDySpriteCollectStSpriteTop(dynamicSprite, staticSprite) {\n    dynamicSprite.y = staticSprite.y - dynamicSprite.height;\n\n    // 子弹反弹\n    if (dynamicSprite instanceof SpriteBullet) {\n      dynamicSprite.vy = -dynamicSprite.vy;\n    } else {\n      dynamicSprite.vy = 0;\n    }\n  }\n\n  // 动态精灵碰撞到静态精灵左边\n  handleDySpriteCollectStSpriteLeft(dynamicSprite, staticSprite) {\n    dynamicSprite.x = staticSprite.x - dynamicSprite.width;\n\n    // 蘑菇碰撞后，朝相反方向行动\n    if (\n      dynamicSprite instanceof SpriteGrowMushroom ||\n      dynamicSprite instanceof SpriteBadMushroom\n    ) {\n      dynamicSprite.vx = -dynamicSprite.vx;\n    } else if (dynamicSprite instanceof SpriteBullet) {\n      dynamicSprite.vx = -dynamicSprite.vx;\n    } else {\n      dynamicSprite.vx = 0;\n    }\n  }\n\n  // 动态精灵碰撞到静态精灵右边\n  handleDySpriteCollectStSpriteRight(dynamicSprite, staticSprite) {\n    dynamicSprite.x = staticSprite.x + staticSprite.width;\n\n    // 蘑菇碰撞后，朝相反方向行动\n    if (\n      dynamicSprite instanceof SpriteGrowMushroom ||\n      dynamicSprite instanceof SpriteBadMushroom\n    ) {\n      dynamicSprite.vx = -dynamicSprite.vx;\n    } else if (dynamicSprite instanceof SpriteBullet) {\n      dynamicSprite.vx = -dynamicSprite.vx;\n    } else {\n      dynamicSprite.vx = 0;\n    }\n  }\n\n  // 键盘操作\n  handleKeyBoardControlMario(mario, scene) {\n    if (this.keyboard.xDirection === \"left\") {\n      mario.vx = Math.max(-4, mario.vx - 0.15);\n      if (mario.vx + mario.x < 0) {\n        mario.x = 0;\n      }\n    } else if (this.keyboard.xDirection === \"right\") {\n      mario.vx = Math.min(4, mario.vx + 0.15);\n    } else {\n      mario.vx = 0;\n    }\n\n    // 跳跃\n    if (this.keyboard.yDirection === \"top\") {\n      this.jumping.add(mario);\n    }\n\n    if (this.keyboard.pressBlank) {\n      handleMarioAttack(scene, mario);\n    } else {\n      mario.unAttack();\n    }\n  }\n}\n","import { App } from \"leafer-ui\";\nimport { Scene } from \"../scene\";\nimport { Camera } from \"../camera\";\nimport { Map } from \"../map\";\nimport { Background } from \"../background\";\nimport { Score } from \"../score\";\n\nimport { Mario } from \"../mario\";\nimport { PhysicsEngine } from \"../physics-engine/index\";\nimport { MARIO_VIEW_OFFSET } from \"../constants\";\nimport { Platform } from \"leafer-ui\";\n\nexport class Renderer {\n  constructor(options) {\n    const { view, mapData, readonly } = options;\n    Platform.image.crossOrigin = null;\n    const app = new App({ view });\n\n    const camera = new Camera({\n      x: 0,\n      y: 0,\n      width: view.offsetWidth,\n      height: view.offsetHeight,\n    });\n\n    const background = new Background({ camera });\n    const score = new Score({ camera });\n\n    const scene = new Scene({ camera });\n\n    const mario = new Mario({\n      x: 0,\n      y: 0,\n    });\n\n    app.add(background.getCore());\n\n    // 导入地图\n    const map = new Map();\n\n    if (mapData) {\n      const sprites = map.deserialization(mapData);\n\n      sprites.dynamics.forEach((sprite) => {\n        if (readonly) {\n          sprite.vx = 0;\n          sprite.vy = 0;\n        }\n        scene.addDynamicSprites(sprite);\n      });\n\n      sprites.statics.forEach((sprite) => {\n        scene.addStaticSprites(sprite);\n      });\n    }\n\n    !readonly && scene.addDynamicSprites(mario);\n    app.add(scene.getCore());\n    !readonly && app.add(score.getCore());\n\n    this._app = app;\n    this.scene = scene;\n    this._background = background;\n    this._score = score;\n    this.camera = camera;\n    this._mario = mario;\n    this.readonly = readonly;\n    this._physicsEngine = new PhysicsEngine();\n  }\n\n  run(onEnd, onWin) {\n    if (this.isDestroy) {\n      return;\n    }\n\n    if (!this.readonly && this._mario.isDie) {\n      onEnd(this._score.totalScore);\n      return false;\n    }\n\n    if (!this.readonly && this._mario.isWin) {\n      onWin(this._score.totalScore);\n      return false;\n    }\n\n    // 运行物理引擎\n    !this.readonly &&\n      this._physicsEngine.run({\n        camera: this.camera,\n        scene: this.scene,\n        onScore: (...v) => {\n          this._score.add(...v);\n        },\n      });\n\n    // 运行场景中的精灵\n    this.scene.run();\n\n    // 运行背景\n    this._background.run();\n\n    !this.readonly && this._score.run();\n\n    // 相机跟随玛丽\n    if (!this.readonly) {\n      this.camera.x =\n        this._mario.x < MARIO_VIEW_OFFSET\n          ? 0\n          : this._mario.x - MARIO_VIEW_OFFSET;\n    }\n\n    requestAnimationFrame(this.run.bind(this, onEnd, onWin));\n  }\n\n  destroy() {\n    this.isDestroy = true;\n    this._app.destroy();\n  }\n}\n","<template>\n  <div>\n    <div :class=\"$style.Title\">\n      请选择要添加的元素\n      <button @click=\"emits('finish')\">编辑完成，生成地图</button>\n    </div>\n    <div :class=\"$style.List\">\n      <div v-for=\"(item, i) in list\" :key=\"i\" @click=\"emits('check', item)\">\n        <div :class=\"$style.Item\">\n          <img :src=\"img\" v-for=\"img in item.imgs\" :key=\"img\" />\n        </div>\n      </div>\n    </div>\n\n    <div :class=\"$style.List\">\n      <div v-for=\"(item, i) in list\" :key=\"i\" @click=\"emits('mul-check', item)\">\n        <div :class=\"$style.Item\">\n          <img :src=\"img\" v-for=\"img in item.imgs\" :key=\"img\" />\n          <div :class=\"$style.Text\">多</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { SpriteAsk } from \"@/super-mario/sprite/sprite-ask\";\nimport { SpriteBadMushroom } from \"@/super-mario/sprite/sprite-bad-mushroom\";\nimport { SpriteFlower } from \"@/super-mario/sprite/sprite-flower\";\nimport { SpriteGrowMushroom } from \"@/super-mario/sprite/sprite-grow-mushroom\";\nimport { SpriteLand } from \"@/super-mario/sprite/sprite-land\";\nimport { SpriteRock } from \"@/super-mario/sprite/sprite-rock\";\nimport { SpriteStone } from \"@/super-mario/sprite/sprite-stone\";\nimport { onMounted, defineEmits } from \"vue\";\n\nconst emits = defineEmits([\"check\", \"mul-check\", \"finish\"]);\nconst list = [\n  {\n    imgs: [\"imgs/building/land/land.jpg\"],\n    handler(scene, x, y) {\n      scene.addStaticSprites(\n        new SpriteLand({\n          x,\n          y,\n        })\n      );\n    },\n  },\n  {\n    imgs: [\n      \"imgs/building/ask/frame-4.jpg\",\n      \"imgs/props/grow-mushroom/frame-1.jpg\",\n    ],\n    handler(scene, x, y) {\n      scene.addStaticSprites(\n        new SpriteAsk({\n          x,\n          y,\n        })\n      );\n      scene.addDynamicSprites(\n        new SpriteGrowMushroom({\n          x,\n          y,\n        })\n      );\n    },\n  },\n  {\n    imgs: [\"imgs/building/ask/frame-4.jpg\", \"imgs/props/flow/frame-1.jpg\"],\n    handler(scene, x, y) {\n      scene.addStaticSprites(\n        new SpriteAsk({\n          x,\n          y,\n        })\n      );\n      scene.addDynamicSprites(\n        new SpriteFlower({\n          x,\n          y,\n        })\n      );\n    },\n  },\n  {\n    imgs: [\"imgs/building/stone/stone.jpg\"],\n    handler(scene, x, y) {\n      scene.addStaticSprites(\n        new SpriteStone({\n          x,\n          y,\n        })\n      );\n    },\n  },\n  {\n    imgs: [\"imgs/building/rock/rock.jpg\"],\n    handler(scene, x, y) {\n      scene.addStaticSprites(\n        new SpriteRock({\n          x,\n          y,\n        })\n      );\n    },\n  },\n\n  {\n    imgs: [\"imgs/bad/mushroom/frame-1.jpg\"],\n    handler(scene, x, y) {\n      const sprite = new SpriteBadMushroom({\n        x,\n        y,\n      });\n      sprite.vx = 0;\n      scene.addDynamicSprites(sprite);\n    },\n  },\n];\n\nonMounted(() => {\n  emits(\"check\", list[0]);\n});\n</script>\n\n<style lang=\"less\" module>\n.Title {\n  color: #fff;\n  margin-top: 10px;\n}\n\n.List {\n  display: flex;\n  margin-top: 10px;\n  margin-left: -16px;\n\n  > div {\n    padding: 0 16px;\n    cursor: pointer;\n  }\n}\n\n.Item {\n  width: 32px;\n  height: 32px;\n  position: relative;\n\n  > img {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    user-select: none;\n  }\n}\n\n.Text {\n  position: absolute;\n  bottom: -6px;\n  right: -6px;\n  color: #fff;\n  background-color: #000;\n  border-radius: 6px;\n  font-size: 12px;\n}\n</style>\n","// extracted by mini-css-extract-plugin\nexport default {\"Title\":\"add-sprite_Title_h1r1X\",\"List\":\"add-sprite_List_l9Lg2\",\"Item\":\"add-sprite_Item_nQEMD\",\"Text\":\"add-sprite_Text_M4h8W\"};","import script from \"./add-sprite.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./add-sprite.vue?vue&type=script&setup=true&lang=js\"\n\nconst cssModules = {}\nimport style0 from \"./add-sprite.vue?vue&type=style&index=0&id=24227b76&lang=less&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.2.13_webpack@5.92.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__cssModules',cssModules]])\n\nexport default __exports__","<template>\n  <div>\n    <div\n      :class=\"$style.Container\"\n      :style=\"{\n        width: width + 'px',\n        height: height + 'px',\n      }\"\n    >\n      <div :class=\"$style.MoveLeft\" @click=\"handleMoveLeft\" v-if=\"props.isEdit\">\n        ‹\n      </div>\n      <div ref=\"viewRef\" style=\"width: 100%; height: 100%\"></div>\n\n      <div :class=\"$style.End\" v-if=\"isFail || isWin\">\n        <div>\n          <div>\n            <div :class=\"$style.EndTitle\">\n              {{ isWin ? \"恭喜您过关啦!\" : \"游戏结束\" }}\n            </div>\n            <div :class=\"$style.Score\">\n              总得分：<b>{{ score }}</b>\n            </div>\n            <div :class=\"$style.Score\">\n              历史最高：<b>{{ maxScore }}</b>\n            </div>\n          </div>\n          <button style=\"margin-top: 20px\" @click=\"handleStartGame\">\n            再玩一次\n          </button>\n        </div>\n      </div>\n\n      <div :class=\"$style.GridEditor\" v-if=\"props.isEdit\">\n        <div\n          v-for=\"(item, i) in girds\"\n          :key=\"i\"\n          :style=\"{\n            width: SIZE + 'px',\n            height: SIZE + 'px',\n            background: getGridBackground(item),\n          }\"\n          @click=\"handleAddSprite(item)\"\n          @mouseenter=\"currentGrid = item\"\n        ></div>\n      </div>\n      <div\n        :class=\"$style.MoveRight\"\n        @click=\"handleMoveRight\"\n        v-if=\"props.isEdit\"\n      >\n        ›\n      </div>\n    </div>\n\n    <AddSprite\n      v-if=\"props.isEdit\"\n      @check=\"handleCheckSprite\"\n      @mul-check=\"handleMulCheckSprite\"\n      @finish=\"handleFinish\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport {\n  onMounted,\n  onUnmounted,\n  ref,\n  defineProps,\n  defineEmits,\n  computed,\n} from \"vue\";\nimport { Renderer } from \"@/super-mario/renderer\";\nimport { SIZE } from \"@/super-mario/constants\";\nimport AddSprite from \"@/components/add-sprite.vue\";\nimport { Map } from \"@/super-mario/map\";\n\nconst props = defineProps({\n  isEdit: {\n    type: Boolean,\n    default: false,\n  },\n  mapData: {\n    type: Object,\n    default: null,\n  },\n});\nconst emits = defineEmits([\"add-map\"]);\n\nconst map = new Map();\n\nconst width = 672;\nconst height = 480;\nconst viewRef = ref();\nconst isFail = ref(false);\nconst isWin = ref(false);\nconst maxScore = ref(0);\nconst score = ref(0);\nconst handleAdd = ref();\nconst currentGrid = ref();\nconst mulCheckSprit = ref();\nconst startCheckPosition = ref(false);\n\nconst girds = computed(() => {\n  const arr = [];\n  for (let i = 0; i < height; i += SIZE) {\n    for (let j = 0; j < width; j += SIZE) {\n      arr.push({\n        x: j,\n        y: i,\n      });\n    }\n  }\n  return arr;\n});\n\nfunction handleMoveLeft() {\n  renderer.camera.x = Math.max(0, renderer.camera.x - SIZE * 5);\n}\n\nfunction handleMoveRight() {\n  renderer.camera.x += SIZE * 5;\n}\n\nfunction getGridBackground({ x, y }) {\n  if (\n    (startCheckPosition.value &&\n      startCheckPosition.value.x === x &&\n      startCheckPosition.value.y) === y\n  ) {\n    return \"rgba(0, 0, 0, 0.5)\";\n  }\n\n  if (startCheckPosition.value && currentGrid.value) {\n    const minX = Math.min(startCheckPosition.value.x, currentGrid.value.x);\n    const minY = Math.min(startCheckPosition.value.y, currentGrid.value.y);\n    const maxX = Math.max(startCheckPosition.value.x, currentGrid.value.x);\n    const maxY = Math.max(startCheckPosition.value.y, currentGrid.value.y);\n\n    if (x >= minX && x <= maxX && y >= minY && y <= maxY) {\n      return \"rgba(0, 0, 0, 0.5)\";\n    }\n  }\n}\n\nfunction handleFinish() {\n  const mapData = map.serialization(renderer.scene);\n\n  let maxX = 0;\n  mapData.data.forEach((v) => {\n    maxX = Math.max(v.x, maxX);\n  });\n\n  mapData.data.push({\n    x: maxX,\n    y: SIZE * 2,\n    type: \"sprite-win\",\n  });\n\n  document.body.style.cursor = null;\n  emits(\"add-map\", mapData);\n}\n\nfunction handleCheckSprite(v) {\n  mulCheckSprit.value = undefined;\n  startCheckPosition.value = false;\n  handleAdd.value = v.handler;\n  document.body.style.cursor = `url(${v.imgs[0]}), pointer`;\n}\n\nfunction handleMulCheckSprite(v) {\n  mulCheckSprit.value = v;\n  handleAdd.value = undefined;\n  document.body.style.cursor = `url(${v.imgs[0]}), pointer`;\n}\n\nfunction handleAddSprite(item) {\n  const { x, y } = item;\n\n  if (handleAdd.value) {\n    handleAdd.value(renderer.scene, renderer.camera.x + x, y);\n  }\n\n  if (mulCheckSprit.value) {\n    if (!startCheckPosition.value) {\n      startCheckPosition.value = { x, y };\n    } else {\n      const minX = Math.min(startCheckPosition.value.x, x);\n      const minY = Math.min(startCheckPosition.value.y, y);\n      const maxX = Math.max(startCheckPosition.value.x, x);\n      const maxY = Math.max(startCheckPosition.value.y, y);\n\n      for (let i = minX; i <= maxX; i += SIZE) {\n        for (let j = minY; j <= maxY; j += SIZE) {\n          mulCheckSprit.value.handler(renderer.scene, renderer.camera.x + i, j);\n        }\n      }\n      startCheckPosition.value = undefined;\n    }\n  }\n}\n\nlet renderer;\n\nfunction handleStartGame() {\n  isFail.value = false;\n  isWin.value = false;\n  if (renderer) {\n    renderer.destroy();\n  }\n\n  renderer = new Renderer({\n    view: viewRef.value,\n    readonly: props.isEdit,\n    mapData: props.mapData,\n  });\n\n  renderer.run(\n    (v) => {\n      isFail.value = true;\n      isWin.value = false;\n      score.value = v;\n      maxScore.value = Math.max(v, maxScore.value);\n    },\n    (v) => {\n      isFail.value = false;\n      isWin.value = true;\n      score.value = v;\n      maxScore.value = Math.max(v, maxScore.value);\n    }\n  );\n}\n\nonMounted(() => {\n  handleStartGame();\n});\n\nonUnmounted(() => {\n  if (renderer) {\n    renderer.destroy();\n  }\n  document.body.style.cursor = null;\n});\n</script>\n\n<style lang=\"less\" module>\n.Container {\n  position: relative;\n  border-radius: 6px;\n}\n\n.MoveLeft,\n.MoveRight {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 9;\n  cursor: pointer;\n  background-color: #000;\n  width: 32px;\n  height: 32px;\n  color: #fff;\n  user-select: none;\n}\n\n.MoveLeft {\n  left: -32px;\n}\n\n.MoveRight {\n  right: -32px;\n}\n\n.End {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  > div {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 20px 40px;\n    border-radius: 6px;\n  }\n}\n\n.GridEditor {\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n\n  > div {\n    box-shadow: 0 0 0 0.5px #333;\n\n    &:hover {\n      background-color: rgba(0, 0, 0, 0.5);\n    }\n  }\n}\n\n.EndTitle {\n  font-size: 30px;\n  font-weight: bold;\n  margin-bottom: 20px;\n  color: #333;\n}\n\n.Score {\n  font-size: 14px;\n  color: #333;\n}\n</style>\n","// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"mario_Container_TbvVA\",\"MoveLeft\":\"mario_MoveLeft_OPvUy\",\"MoveRight\":\"mario_MoveRight_qZQ8f\",\"End\":\"mario_End_nUh95\",\"GridEditor\":\"mario_GridEditor_Te7PO\",\"EndTitle\":\"mario_EndTitle_gFNNq\",\"Score\":\"mario_Score_xOzyJ\"};","import script from \"./mario.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./mario.vue?vue&type=script&setup=true&lang=js\"\n\nconst cssModules = {}\nimport style0 from \"./mario.vue?vue&type=style&index=0&id=bd36f530&lang=less&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.2.13_webpack@5.92.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__cssModules',cssModules]])\n\nexport default __exports__","// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"menu_Container_K1VA8\",\"Item\":\"menu_Item_nOPQ7\",\"ItemActive\":\"menu_ItemActive_pVQHY\",\"Add\":\"menu_Add_zt1uR\"};","import script from \"./menu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./menu.vue?vue&type=script&setup=true&lang=js\"\n\nconst cssModules = {}\nimport style0 from \"./menu.vue?vue&type=style&index=0&id=c23cde7c&lang=less&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.2.13_webpack@5.92.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__cssModules',cssModules]])\n\nexport default __exports__","export const data = {\n  data: [\n    {\n      type: \"sprite-grow-mushroom\",\n      x: 288,\n      y: 288,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 800,\n      y: 352,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 832,\n      y: 352,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 864,\n      y: 352,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 1408,\n      y: 352,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 1248,\n      y: 352,\n    },\n    {\n      type: \"sprite-flower\",\n      x: 1600,\n      y: 288,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2272,\n      y: 96,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2272,\n      y: 128,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2272,\n      y: 160,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2304,\n      y: 96,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2304,\n      y: 128,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2304,\n      y: 160,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2336,\n      y: 96,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2336,\n      y: 128,\n    },\n    {\n      type: \"sprite-bad-mushroom\",\n      x: 2336,\n      y: 160,\n    },\n    {\n      type: \"sprite-land\",\n      x: 0,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 0,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 32,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 32,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 64,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 64,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 96,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 96,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 128,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 128,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 160,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 160,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 192,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 192,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 224,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 224,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 256,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 256,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 288,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 288,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 320,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 320,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 352,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 352,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 384,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 384,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 416,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 416,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 448,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 448,\n      y: 448,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 192,\n      y: 288,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 224,\n      y: 288,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 256,\n      y: 288,\n    },\n    {\n      type: \"sprite-ask\",\n      x: 288,\n      y: 288,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 320,\n      y: 288,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 352,\n      y: 288,\n    },\n    {\n      type: \"sprite-land\",\n      x: 576,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 576,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 608,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 608,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 640,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 640,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 672,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 672,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 704,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 704,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 736,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 736,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 768,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 768,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 800,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 800,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 832,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 832,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 864,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 864,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 896,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 896,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 928,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 928,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 960,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 960,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 992,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 992,\n      y: 448,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 736,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 736,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 736,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 928,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 928,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 928,\n      y: 384,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 672,\n      y: 288,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 768,\n      y: 256,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 832,\n      y: 224,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 864,\n      y: 256,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 896,\n      y: 224,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1056,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1088,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1184,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1216,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1248,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1312,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1344,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1376,\n      y: 416,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1408,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1472,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1472,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1504,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1504,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1536,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1536,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1568,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1568,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1600,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1600,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1632,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1632,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1664,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1664,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1696,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1696,\n      y: 448,\n    },\n    {\n      type: \"sprite-ask\",\n      x: 1600,\n      y: 288,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1568,\n      y: 288,\n    },\n    {\n      type: \"sprite-stone\",\n      x: 1632,\n      y: 288,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1792,\n      y: 352,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1856,\n      y: 288,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1920,\n      y: 224,\n    },\n    {\n      type: \"sprite-land\",\n      x: 1952,\n      y: 224,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2016,\n      y: 160,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2048,\n      y: 160,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2144,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2144,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2176,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2176,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2208,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2208,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2240,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2240,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2272,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2272,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2304,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2304,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2336,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2336,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2368,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2368,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2400,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 2400,\n      y: 224,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2400,\n      y: 96,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2400,\n      y: 128,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2400,\n      y: 160,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2464,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2464,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2528,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2528,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2560,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2560,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2624,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2624,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2656,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2656,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2688,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2688,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2752,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2752,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2784,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2784,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2816,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2816,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2848,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2848,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2912,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2912,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2944,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2944,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2976,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 2976,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3008,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3008,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3040,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3040,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3072,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3072,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3104,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3104,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3136,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3136,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3168,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3168,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3200,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3200,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3232,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3232,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3264,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3264,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3296,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3296,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3328,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3328,\n      y: 448,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3008,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3040,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3040,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3072,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3072,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3072,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3104,\n      y: 288,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3104,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3104,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3136,\n      y: 256,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3136,\n      y: 288,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3136,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3136,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3136,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3168,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3168,\n      y: 256,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3168,\n      y: 288,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3168,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3168,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3168,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3200,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3200,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3200,\n      y: 256,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3200,\n      y: 288,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3200,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3200,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3200,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 160,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 256,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 288,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3232,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 128,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 160,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 256,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 288,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3264,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 96,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 128,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 160,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 192,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 224,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 256,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 288,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 320,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 352,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3296,\n      y: 384,\n    },\n    {\n      type: \"sprite-rock\",\n      x: 3104,\n      y: 384,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3360,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3360,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3392,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3392,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3424,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3424,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3456,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3456,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3488,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3488,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3520,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3520,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3552,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3552,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3584,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3584,\n      y: 448,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3616,\n      y: 416,\n    },\n    {\n      type: \"sprite-land\",\n      x: 3616,\n      y: 448,\n    },\n\n    {\n      type: \"sprite-win\",\n      x: 3616,\n      y: 32,\n    },\n  ],\n};\n","<template>\n  <div :class=\"$style.Container\">\n    <div :class=\"$style.MenuContainer\">\n      <Menu\n        :class=\"$style.Menu\"\n        :style=\"{\n          width: showMenu ? '240px' : '0',\n        }\"\n        :active=\"active\"\n        :maps=\"maps\"\n        @check=\"(v) => (active = v)\"\n        @add=\"() => (active = '')\"\n      ></Menu>\n      <div @click=\"showMenu = !showMenu\" :class=\"$style.Btn\">\n        <div>{{ showMenu ? \"‹\" : \"›\" }}</div>\n      </div>\n    </div>\n\n    <div :class=\"$style.Content\">\n      <div :class=\"$style.Header\">\n        <a href=\"https://github.com/hhzzcc\">Github</a>\n      </div>\n      <div :class=\"$style.Game\">\n        <div v-if=\"loading\" :class=\"$style.Loading\">资源加载中...</div>\n\n        <template v-else>\n          <div>\n            <div :class=\"$style.Tip\" v-if=\"!isEdit\">\n              方向键控制人物，空格发射子弹\n            </div>\n            <Mario\n              :isEdit=\"isEdit\"\n              :mapData=\"\n                isEdit ? null : maps.find((v) => v.title === active).mapData\n              \"\n              :key=\"active\"\n              @add-map=\"handleAddMap\"\n            />\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref, computed } from \"vue\";\nimport { loadAllResources } from \"@/super-mario/utils/loadResources\";\nimport Mario from \"@/components/mario.vue\";\nimport Menu from \"@/components/menu.vue\";\nimport { data as mapData1 } from \"../maps/map1\";\n\nconst loading = ref(true);\nconst showMenu = ref(true);\nconst maps = [\n  {\n    title: \"官方地图 - 第一关\",\n    mapData: mapData1,\n  },\n];\nconst active = ref(maps[0].title);\n\nfunction handleAddMap(mapData) {\n  const title = \"新地图-\" + maps.length;\n  maps.push({\n    title,\n    mapData,\n  });\n  active.value = title;\n}\n\nconst isEdit = computed(() => !active.value);\n\nonMounted(async () => {\n  await loadAllResources();\n  loading.value = false;\n});\n</script>\n\n<style lang=\"less\" module>\n.Container {\n  display: flex;\n  height: 100vh;\n  background: #333;\n}\n\n.MenuContainer {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.Menu {\n  transition: width 0.2s;\n  background-color: #000;\n}\n\n.Btn {\n  display: flex;\n  align-items: center;\n  background-color: #000;\n  color: #fff;\n  padding: 16px 8px;\n  border-radius: 0 6px 6px 0;\n  cursor: pointer;\n  position: absolute;\n  right: -22px;\n}\n\n.Content {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.Header {\n  display: flex;\n  align-items: center;\n  height: 32px;\n  background-color: #000;\n\n  padding: 0 20px;\n\n  > a {\n    color: #fff;\n  }\n}\n\n.Game {\n  width: 100%;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.Loading,\n.Tip {\n  color: #fff;\n  font-weight: bold;\n}\n</style>\n","// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"Home_Container_TvPjS\",\"MenuContainer\":\"Home_MenuContainer_Jpi4d\",\"Menu\":\"Home_Menu_RXuZa\",\"Btn\":\"Home_Btn_oOsOI\",\"Content\":\"Home_Content_JBjb0\",\"Header\":\"Home_Header_YYyV4\",\"Game\":\"Home_Game_OzZ_G\",\"Loading\":\"Home_Loading_rTSCN\",\"Tip\":\"Home_Tip_rMaU0\"};","import script from \"./Home.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=js\"\n\nconst cssModules = {}\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=6e4d9ea0&lang=less&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.2.13_webpack@5.92.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__cssModules',cssModules]])\n\nexport default __exports__"],"names":["loadImages","urls","promises","forEach","url","push","Promise","resolve","reject","image","Image","onload","onerror","err","src","all","loadBaseMarioResources","loadBigMarioResources","loadBulletMarioResources","loadBackgroundResources","loadSpriteLandResources","loadSpriteRockResources","loadSpriteStoneResources","loadSpriteStoneBornResources","loadSpriteAskResources","loadSpriteWinResources","loadSpriteFlowerResources","loadSpriteGoldResources","loadSpriteGrowMushroomResources","loadSpriteBadMushroomResources","loadSpriteBulletResources","backgroundResources","baseMarioResources","bigMarioResources","bulletMarioResources","spriteBulletResources","spriteLandResources","spriteRockResources","spriteStoneResources","spriteStoneBornResources","SpriteAskResources","spriteFlowerResources","spriteGoldResources","spriteGrowMushroomResources","spriteBadMushroomResources","spriteWinResources","async","loadAllResources","Platform","toURL","text","fileType","encodeURIComponent","hitCanvasSize","maxCacheSize","maxPatternSize","crossOrigin","getRealURL","prefix","suffix","startsWith","includes","Creator","IncrementId","RUNTIME","LEAF","TASK","CNAVAS","IMAGE","types","create","typeName","I$1","round","pow","pow$1","PI","PI$2","Math","MathHelper","within","value","min","max","undefined","fourNumber","num","maxValue","data","Array","length","i","formatRotation","rotation","unsign","float","getGapRotation","addRotation","gap","oldRotation","r","abs","maxLength","a","OneRadian","PI2","PI_2","getPointData","x","y","getBoundsData","width","height","getMatrixData","b","c","d","e","f","sin","sin$3","cos","cos$3","acos","sqrt","sqrt$3","float$1","tempPoint$3","getWorld","Object","assign","scaleX","scaleY","skewX","skewY","MatrixHelper","defaultMatrix","defaultWorld","tempMatrix","set","t","get","copy","matrix","translate","translateInner","isMoveOrigin","scale","scaleOfOuter","origin","M$6","toInnerPoint","scaleOfInner","rotate","cosR","sinR","rotateOfOuter","rotateOfInner","skew","skewOfOuter","skewOfInner","multiply","child","multiplyParent","parent","to","abcdChanged","childScaleData","scrollData","scrollX","scrollY","divide","tempInvert","divideParent","invert","s","toOuterPoint","inner","distance","outer","setLayout","layout","bcChanged","sx","sy","getLayout","firstSkewY","withScale","world","reset","toInnerPoint$2","toOuterPoint$2","sin$2","cos$2","abs$2","sqrt$2","atan2","atan2$2","min$1","PI$1","PointHelper","defaultPoint","tempPoint","tempRadiusPoint","setRadius","radiusX","radiusY","point","copyFrom","move","scaleOf","P$5","rx","ry","tempToInnerOf","temp","copy$7","tempToOuterOf","tempToInnerRadiusPointOf","toInnerRadiusPointOf","toInnerOf","toOuterOf","getCenter","getCenterX","x1","x2","getCenterY","y1","y2","getDistance","getDistanceFrom","getMinDistanceFrom","x3","y3","getAngle","getAtan2","getRotation","toOrigin","getRadianFrom","fromX","fromY","originX","originY","toX","toY","toOriginX","toOriginY","fromAngle","toAngle","radian","getDistancePoint","changeTo","Point","constructor","this","clone","rotateOf","Matrix","setWith","dataWithScale","scaleWith","angle","invertWith","TwoPointBoundsHelper","tempPointBounds","setPoint","minX","minY","maxX","maxY","addPoint","addBounds","addPoint$3","pb","addPointBounds","toBounds","setBounds","tempPointBounds$1","setPoint$2","addPoint$2","toBounds$2","toOuterPoint$1","floor","ceil","ceil$1","right","bottom","boundsRight","boundsBottom","toPoint$2","BoundsHelper","tempBounds","bounds","copyAndSpread","spread","isShrink","four","B","getByMove","toOffsetOutBounds","copy$6","offsetX","offsetY","getOuterOf","getFitMatrix","put","baseScale","getSpread","n","shrink","add","isPoint","addList","list","setListWithFn","setList","addMode","addListWithFn","boundsDataFn","first","len","setPoints","points","index","getPoints","hitRadiusPoint","pointMatrix","hitPoint","hit","other","otherMatrix","getIntersectData","intersect","isSame","isEmpty","Bounds","boundsList","boundsMatrix","getIntersect","AutoBounds","top","left","autoSize","getBoundsFrom","Direction4","Direction9","directionData","item","type","AroundHelper","toPoint","around","onlySize","pointBounds","toPoint$1","AlignHelper","align","contentBounds","StringNumberMap","Debug","name","repeatMap","filter","filterList","getNameList","exclude","excludeList","log","messages","D$4","enable","every","some","console","tip","warn","showWarn","repeat","error","Error","debug$8","Run","currentId","currentName","idMap","nameMap","nameToIdMap","start","microsecond","id","R","performance","now","Date","end","time","duration","endOfName","debug$7","UICreator","register","UI","__tag","tag","prototype","list$1","ui","debug$6","EventCreator","nameList","Event","keys","key","changeName","oldName","newName","constName","find","has","params","CanvasManager","canvas","manager","size","old","recycled","isSameSize","recycle","clearRecycled","destroy","clear","DataHelper","default","defaultData","merge","_a","copyAttrs","from","include","JSON","parse","stringify","toMap","map","LeafData","__useNaturalRatio","__isLinePath","path","__blendMode","eraser","blendMode","leaf","__leaf","__get","__input","__getData","inputValue","__setInput","__getInput","__pathInputed","__removeInput","__getInputData","names","options","__localMatrix","__setMiddle","__middle","__getMiddle","__checkSingle","opacity","isBranch","__hasEraser","__single","__removeNaturalSize","__naturalWidth","__naturalHeight","Answer","__decorate","decorators","target","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","next","rejected","result","done","then","apply","contextAttr","realName","context","SuppressedError","contextMethodNameList","contextMethod","_target","emptyArray","Canvas","globalCompositeOperation","dashPattern","setLineDash","getLineDash","__bindContext","method","bind","textBaseline","setTransform","_b","_c","_d","_e","_f","resetTransform","getTransform","save","restore","transform","_x","_y","_angle","fill","_path2d","_rule","stroke","clip","fillRect","_width","_height","strokeRect","clearRect","drawImage","sw","sh","dx","dy","dw","dh","beginPath","moveTo","lineTo","bezierCurveTo","_cp1x","_cp1y","_cp2x","_cp2y","quadraticCurveTo","_cpx","_cpy","closePath","arc","_radius","_startAngle","_endAngle","_anticlockwise","arcTo","_x1","_y1","_x2","_y2","ellipse","_radiusX","_radiusY","_rotation","rect","roundRect","createConicGradient","createLinearGradient","_x0","_y0","createPattern","_image","_repetition","createRadialGradient","_r0","_r1","fillText","_text","_maxWidth","measureText","strokeText","copy$5","minSize","pixelRatio","canvasSizeAttrs","LeaferCanvasBase","pixelWidth","pixelHeight","allowBackgroundColor","view","parentView","config","super","worldTransform","devicePixelRatio","innerId","autoLayout","init","__createContext","contextSettings","getContext","export","_filename","_options","toBlob","_type","_quality","toDataURL","saveAs","resize","takeCanvas","unreal","getSameCanvas","copyWorld","updateViewSize","smooth","updateClientBounds","clearWorld","getClientBounds","update","clientBounds","startAutoLayout","_autoBounds","_listener","stopAutoLayout","setCursor","_cursor","setWorld","parentMatrix","w","useWorldTransform","setStroke","color","strokeWidth","strokeStyle","setStrokeOptions","strokeCap","strokeJoin","dashOffset","miterLimit","saveBlendMode","savedBlendMode","restoreBlendMode","hitFill","_point","_fillRule","hitStroke","_strokeWidth","hitPixel","_radiusPoint","_offset","_scale","setWorldShadow","blur","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","setWorldBlur","copyWorldToInner","fromWorld","toInnerBounds","copyWorldByReset","onlyResetTransform","useMask","maskCanvas","fromBounds","useEraser","eraserCanvas","fillWorld","fillStyle","strokeWorld","ceilPixel","clipWorld","useSameWorldTransform","useSameSmooth","clearBounds","updateRender","unrealCanvas","PathHelper","creator","_pathString","_curveMode","convertToCanvasData","_old","CanvasCommandOnlyMap","N","D","X","G","F","O","U","PathCommandMap","M","m","L","l","H","h","V","v","C","S","Q","q","T","A","Z","z","PathCommandLengthMap","NeedConvertToCanvasCommandMap","NeedConvertToCurveCommandMap","P$4","PathNumberCommandMap","PathNumberCommandLengthMap","RectHelper","drawRoundRect","drawer","cornerRadius","sin$1","cos$1","atan2$1","abs$1","sqrt$1","setPoint$1","addPoint$1","M$5","L$6","C$5","Q$4","Z$5","tempPoint$1","BezierHelper","curve","close","aX","aY","bX","bY","cX","cY","c1X","c1Y","c2X","c2Y","ba","cb","radius","setPointBounds","setEndPoint","setStartPoint","BAx","BAy","CBx","CBy","startRadian","endRadian","totalRadian","anticlockwise","sign","centerX","centerY","ellipse$5","startAngle","endAngle","cx","cy","rotationRadian","rotationSin","rotationCos","parts","partRadian","partRadian4Sin","control","endCos","endSin","startCos","startSin","startX","startY","toTwoPointBounds$1","toTwoPointBoundsByQuadraticCurve","toTwoPointBounds","tList","t1","t2","sqrtV","z1","z2","o","getPointAndSet","getPoint","ellipse$4","EllipseHelper","ellipticalArc","largeFlag","sweepFlag","curveMode","halfX","halfY","px","py","rxSquare","rySquare","pySquare","pxSquare","ellipseToCurve","M$4","L$5","C$4","Q$3","Z$4","N$3","D$3","X$3","G$3","F$4","O$3","P$3","U$3","rect$1","roundRect$2","arcTo$3","arc$3","ellipse$3","quadraticCurveTo$1","debug$5","setEndPoint$1","PathConvert","current","dot","floatLength","count","command","lastCommand","str","j","pathString","needConvert","char","lastChar","convertCommand","pushData","toCanvasData","controlX","controlY","copyData","strNum","Number","M$3","L$4","C$3","Q$2","Z$3","N$2","D$2","X$2","G$2","F$3","O$2","P$2","U$2","tan","startPoint","PathCommandDataHelper","fourCorners","lastX","lastY","maxRadius","drawEllipse","ellipse$2","drawArc","arc$2","drawPoints","roundRect$1","ellipse$1","arc$1","arcTo$2","PathCreator","__path","clearPath","M$2","L$3","C$2","Q$1","Z$2","N$1","D$1","X$1","G$1","F$2","O$1","P$1","U$1","debug$4","PathDrawer","drawPathByData","M$1","L$2","C$1","Z$1","F$1","arcTo$1","copy$4","toBounds$1","debug$3","PathBounds","L$1","PathCorner","_cornerSmoothing","secondX","secondY","pen","canvasPatch","FileHelper","opacityTypes","upperCaseTypeMap","mineType","filename","split","isOpaqueImage","getExportOptions","quality","blob","toUpperCase","debug$2","TaskItem","task","parallel","run","isComplete","running","complete","cancel","isCancel","TaskProcessor","total","delayNumber","finishedIndex","parallelSuccessNumber","remain","percent","totalTime","runTime","empty","taskCallback","delay","setTimeout","timer","parallelList","pause","clearTimeout","resume","skip","stop","setParallelList","runParallelTasks","runTask","onComplete","onTask","nextTask","catch","onError","runParallelTask","fillParallelTask","onParallelError","pop","parallelWaitNumber","nextIndex","ImageManager","recycledList","tasker","patternTasker","I","use","hasOpacityPixel","isFormat","format","create$1","LeaferImage","completed","ready","waitComplete","isSVG","load","onSuccess","loading","loadImage","img","naturalWidth","naturalHeight","unload","stopEvent","isSuccess","odd","getCanvas","_filters","cache","createCanvas","ctx","globalAlpha","getPattern","paint","pattern","defineKey","descriptor","noConfigurable","configurable","enumerable","getDescriptor","object","getNames","getOwnPropertyNames","decorateLeafAttr","defaultValue","descriptorFn","defineLeafAttr","attr","partDescriptor","defaultDescriptor","__getAttr","__setAttr","defineDataProcessor","dataType","positionType","checkFiniteNumber","__layout","matrixChanged","matrixChange","autoLayoutType","__hasAutoLayout","__local","createLocal","scaleType","scaleChanged","scaleChange","rotationType","rotationChanged","rotationChange","boundsType","doBoundsType","naturalBoundsType","__","boxChanged","boxChange","pathInputType","__pathForRender","pathType","affectStrokeBoundsType","doStrokeType","strokeChanged","strokeChange","__useArrow","strokeType","affectRenderBoundsType","renderChanged","renderChange","surfaceType","surfaceChanged","surfaceChange","opacityType","opacityChanged","opacityChange","visibleType","oldValue","visible","sortType","waitParent","childrenSortChange","maskType","__updateMask","eraserType","__updateEraser","hitType","hitCanvasChanged","showHitView","leafer","updateCursor","cursorType","dataProcessor","processor","_key","getSetMethodName","charAt","slice","__DataProcessor","computedKey","setMethodName","property","__proto__","debug$1","excludeNames","rewrite","rewriteAble","doRewrite","useModule","module","writable","registerUI","registerUIEvent","copy$3","toInnerPoint$1","multiplyParent$2","LeafHelper","updateAllMatrix","checkAutoLayout","waitAutoLayout","updateMatrix$1","children","updateAllMatrix$1","updateMatrix","__updateLocalMatrix","__updateWorldMatrix","updateBounds","boundsChanged","__updateLocalBounds","__updateWorldBounds","updateAllWorldOpacity","__updateWorldOpacity","updateAllChange","__updateChange","worldHittable","hittable","moveWorld","local","moveLocal","zoomOfWorld","zoomOfLocal","getTempLocal","moveByMatrix","scaleResize","rotateOfWorld","rotateOfLocal","skewOfWorld","skewOfLocal","transformWorld","localTransform","getLocalOrigin","getInnerOrigin","boxBounds","getRelativeWorld","relative","drop","hasParent","p","__world","LeafBoundsHelper","worldBounds","localBoxBounds","localStrokeBounds","localRenderBounds","maskLocalBoxBounds","mask","__localBoxBounds","maskLocalStrokeBounds","maskLocalRenderBounds","excludeRenderBounds","hideBounds","updateBounds$1","BranchHelper","sort","zIndex","__tempNumber","pushAllChildBranch","branch","leafList","__childBranchNumber","pushAllParent","pushAllBranchStack","pushList","branchStack","updateBoundsByBranchStack","WaitHelper","wait","splice","getRelativeWorld$1","toOuterOf$2","copy$2","localContent","worldContent","worldBox","worldStroke","LeafLayout","_contentBounds","strokeBounds","_strokeBounds","renderBounds","_renderBounds","localContentBounds","_localStrokeBounds","_localRenderBounds","worldContentBounds","worldBoxBounds","worldStrokeBounds","watcher","changed","layouter","root","zoomLayer","getBounds","getWorldBounds","getLocalBounds","getInnerBounds","getLayoutBounds","unscale","getWorldPoint","getLocalPointByInner","layoutBounds","uScaleX","uScaleY","getLayoutPoints","relativeLeaf","innerToWorld","shrinkContent","spreadStroke","renderSpread","spreadRenderCancel","spreadRender","shrinkContentCancel","spreadStrokeCancel","same","localBoxChanged","localBoxChange","strokeSpread","_scaleOrRotationChange","affectRotation","affectScaleOrRotation","childrenSortChanged","forceUpdate","LeafEventer","on","listener","capture","once","events","__getListenerMap","typeList","findIndex","off","__bubbleMap","__captureMap","on_","off_","emit","event","isStopNow","syncEventer","emitEvent","hasEvent","hasB","hasC","eventer","bubbles","stopDefault","isStopDefault","stopNow","isStop","ChildEvent","ADD","REMOVE","DESTROY","PropertyEvent","attrName","newValue","CHANGE","LEAFER_CHANGE","ImageEvent","LOAD","LOADED","ERROR","ResizeEvent","bigger","smaller","samePixelRatio","oldSize","RESIZE","WatchEvent","REQUEST","DATA","LayoutEvent","times","CHECK_UPDATE","START","BEFORE","LAYOUT","AFTER","AGAIN","END","AnimateEvent","FRAME","RenderEvent","renderOptions","RENDER","NEXT","LeaferEvent","BEFORE_READY","READY","AFTER_READY","VIEW_READY","VIEW_COMPLETED","STOP","RESTART","isFinite","debug","LeafDataProxy","created","innerName","__proxyData","setProxyAttr","isLeafer","getProxyAttr","multiplyParent$1","LeafMatrix","toOuterOf$1","copy$1","LeafBounds","resized","__onUpdateSize","__updatePath","__updateRenderPath","__updateBoxBounds","__updateLocalBoxBounds","__updateStrokeSpread","__updateStrokeBounds","__updateLocalStrokeBounds","strokeBoxSpread","__updateRenderSpread","__updateRenderBounds","__updateLocalRenderBounds","__updateAutoLayout","addExtra","flow","__updateFlowLayout","__autoSide","__updateNaturalSize","LeafRender","__render","__worldOpacity","__nowWorld","__getNowWorld","__renderEraser","tempCanvas","__draw","__worldFlipped","__clip","__drawRenderPath","windingRule","BranchRender","__updateSortChildren","__renderBranch","nowWorld","__hasMask","__renderMask","Leaf","_value","__LayoutProcessor","isBranchLeaf","worldRenderBounds","worldOpacity","__onlyHitMask","hitChildren","__ignoreHitWorld","__inLazyBounds","lazyBounds","pathInputed","__level","resetCustom","toJSON","__parentWait","waitLeafer","__leaferWait","nextRender","removeNextRender","__bindLeafer","leafs","_data","_name","setAttr","getAttr","getComputedAttr","toString","toSVG","__SVG","toHTML","_attrName","_newValue","_condition","findTag","_tag","findOne","findId","_id","focus","updateLayout","forceRender","_bounds","__updateContentBounds","_canvas","__cameraWorld","cameraWorld","change","worldToLocal","worldToInner","localToWorld","getInnerPoint","getInnerPointByLocal","_relative","getLocalPoint","getWorldPointByLocal","getPagePoint","layer","getWorldPointByPage","page","skewOf","scaleOfWorld","worldOrigin","_noResize","__scaleResize","_scaleX","_scaleY","resizeWidth","resizeHeight","__hitWorld","__hit","_local","__hitFill","_inner","__hitStroke","__hitPixel","__drawHitPath","__updateHitCanvas","__drawFast","__renderShape","_ignoreFill","_ignoreStroke","__drawPath","_child","_index","remove","dropTo","_bind","_capture","_event","changeAttr","fn","addAttr","destroyed","removeAll","Branch","affectSort","affectChildrenSort","__emitChildEvent","addMany","indexOf","__preRemove","__realRemoveChild","hitCanvasManager","LeafList","indexAt","addAt","unshift","reverse","itemCallback","LeafLevelList","_length","without","levels","levelMap","level","TextConvert","ColorConvert","PathArrow","Paint","PaintImage","PaintGradient","Effect","Export","State","stateType","setStyle","arrowType","startArrow","endArrow","effectType","__useEffect","resizeType","__updateSize","zoomLayerType","privateKey","isApp","tree","emptyPaint","UIData","__strokeWidth","strokeWidthFixed","__autoWidth","__autoHeight","__autoSize","setVisible","hasVisible","_visible","setWidth","setHeight","setFill","__isFills","_fill","recycleImage","__pixelFill","__isStrokes","_stroke","__pixelStroke","setPath","_path","setShadow","_shadow","setInnerShadow","_innerShadow","__computePaint","compute","__needComputePaint","UnitConvert","number","percentRefer","GroupData","BoxData","__boxStroke","LeaferData","FrameData","LineData","RectData","EllipseData","PolygonData","StarData","PathData","PenData","fontWeightMap","TextData","setFontWeight","_fontWeight","ImageData","setUrl","__setImageFill","_url","mode","CanvasData","UIBounds","boxWidth","strokeAlign","miterLimitAddWidth","storkeCapAddWidth","shadow","innerShadow","backgroundBlur","shapeWidth","renderShapeSpread","UIRender","complex","__complex","drawFast","__drawAfterFill","shape","fills","strokes","worldCanvas","ignoreFill","ignoreStroke","__isCanvas","RectRender","half","UI_1","app","isFrame","__drawPathByBox","editConfig","editOuter","editInner","createProxyData","getPath","pathForRender","getPathString","lazy","cornerSmoothing","addArrows","__drawPathByData","one","registerData","setEditConfig","_config","setEditOuter","_toolName","setEditInner","_editorName","Group","__setBranch","childData","pick","_hitPoint","addAfter","after","addBefore","before","_children","_destroy","Leafer_1","Leafer","imageReady","viewReady","layoutLocked","FPS","renderer","cursorPoint","interaction","hoverData","userConfig","lazySpeard","zoom","holdSpaceKey","holdMiddleKey","autoDistance","__eventIds","__controllers","__readyWait","__viewReadyWait","__viewCompletedWait","__nextRenderWait","parentApp","__setLeafer","initType","__setApp","__checkAutoLayout","__bindApp","selector","canvasManager","__listenEvents","__startTimer","__initWait","onInit","waitInit","emitLeafer","render","unlockLayout","lockLayout","addBlock","cursor","updateLazyBounds","__doResize","__onResize","__changeCanvasSize","__changeFill","backgroundColor","__onCreated","__onReady","__onViewReady","__onNextRender","viewCompleted","__checkViewCompleted","__onWatchData","childrenChanged","waitReady","waitViewReady","waitViewCompleted","_zoomType","_padding","_fixedScale","getValidMove","moveX","moveY","getValidScale","changeScale","getWorldPointByClient","clientPoint","updateClient","getLocal","__checkUpdateLayout","runId","__removeListenEvents","sync","doDestory","Rect","group","childrenRenderBounds","includes$1","Box","__updateRectRenderSpread","__updateRectBoxBounds","isOverflow","__updateRectRenderBounds","overflow","__updateRectChange","__renderRect","__renderGroup","Frame","moveTo$3","closePath$2","Ellipse","innerRadius","moveTo$2","lineTo$2","drawPoints$1","Line","closed","moveTo$1","lineTo$1","closePath$1","line","Polygon","sides","Star","corners","attrValue","draw","offset","Text","textDrawData","__textDrawData","__lineHeight","__baseLine","__letterSpacing","rows","row","font","__font","__updateTextDrawData","getDrawData","lineHeight","letterSpacing","fontFamily","fontSize","fontWeight","italic","textCase","textOverflow","padding","autoWidth","autoHeight","__padding","__clipText","__textBoxBounds","Path","Pen","pathElement","pathStyle","_cornerRadius","_points","_curve","_close","penPathType","App","ground","sky","editor","addLeafer","usePartRender","realCanvas","disable","__onPropertyChange","__getChildConfig","childIndex","__listenChildEvents","__onChildRenderEnd","downKeyMap","Keyboard","isHoldSpaceKey","isHold","code","setDownCode","setUpCode","PointerButton","LEFT","RIGHT","MIDDLE","defaultLeft","buttons","middle","UIEvent","spaceKey","getPage","getInner","PointerEvent","POINTER","BEFORE_DOWN","BEFORE_MOVE","BEFORE_UP","DOWN","MOVE","UP","OVER","OUT","ENTER","LEAVE","TAP","DOUBLE_TAP","CLICK","DOUBLE_CLICK","LONG_PRESS","LONG_TAP","MENU","MENU_TAP","DragEvent","setData","draggable","dragBounds","getMoveInDragBounds","childBox","getPageMove","assignMove","getInnerMove","getLocalMove","getPageTotal","getInnerTotal","getLocalTotal","getPageBounds","totalX","totalY","BEFORE_DRAG","DRAG","DropEvent","DROP","MoveEvent","RotateEvent","BEFORE_ROTATE","ROTATE","SwipeEvent","SWIPE","ZoomEvent","BEFORE_ZOOM","ZOOM","KeyEvent","addInteractionWindow","document","scroll","HOLD","LeaferTypeCreator","disabled","absScale","Transformer","moveData","getByPoint","hitRadius","cancelHover","transformEndWait","zoomData","rotateData","transformTimer","transformEnd","pointer","transformTime","moveEnd","zoomEnd","rotateEnd","InteractionHelper","getMoveEventData","center","getRotateEventData","getZoomEventData","getDragEventData","lastPoint","getDropEventData","getSwipeDirection","getSwipeEventData","lastDragData","getBase","pointerUpButtons","button","altKey","ctrlKey","shiftKey","metaKey","pathHasEventType","filterPathByEventType","emptyList","Dragger","setDragData","animateWait","dragEndReal","downData","dragData","canAnimate","canDragOut","getList","proxy","dragging","dragableList","checkDrag","canDrag","moving","pointerCancel","canMove","isHoldRightKey","isMobileDragEmpty","dragStart","drag","getDragableList","setDragStartPoints","realDragableList","dragStartPoints","editable","hitSelf","locked","throughPath","dragReal","dragOverOrOut","dragOverPath","dragEnterOrLeave","dragEnterPath","dragEnd","speed","dragAnimate","pointerType","animate","endDragData","dropList","swipe","autoMoveCancel","dragReset","func","swipeDistance","swipeData","dropData","checkDragOut","shrinkCanvasBounds","autoMoveOnDragOut","dragOut","autoMoveTimer","setInterval","pointerMoveReal","clearInterval","excludePath","emitAppChildren","allowTypes","updateEventStyle","phase","MultiTouchHelper","getData","lastCenter","lastDistance","wheel","zoomSpeed","moveSpeed","rotateSpeed","delta","preventDefault","tapTime","longPressTime","hover","dragHover","dragDistance","preventDefaultMenu","keyEvent","InteractionBase","dragger","moveMode","isHoldMiddleKey","isDragEmpty","dragEmpty","isRootPath","isTreePath","holdRightKey","tapCount","defaultPath","transformer","receive","pointerDown","useDefaultPath","updateDownData","checkPath","downTime","tapWait","longPressWait","waitMenuTap","pointerMove","waitTap","pointerWaitCancel","updateHoverData","pointerHover","pointerUp","findPath","upData","touchLeave","tap","menuTap","multiTouch","menu","keyDown","keyUp","pointerOverOrOut","pointerEnterOrLeave","overPath","enterPath","hasLong","longTap","tapMore","emitTap","useTime","hasDouble","tapWaitCancel","emitDoubleTap","tapTimer","through","bottomList","isOutside","isDrag","isPress","isHover","isFocus","focusData","clientX","clientY","longPressWaitCancel","longPressTimer","longPressed","Cursor","custom","HitCanvasManager","maxTotal","pathList","pixelList","getPixelType","__autoClear","hitCanvas","getPathType","clearImageType","__clearLeafList","clearPathType","__hitCanvas","isSmall","hitBox","hitScale","ui$2","isHitPixelFill","isHitPixelStroke","isHitPixel","willReadFrequently","patternLocked","__isHitPixel","needHitFillPath","needHitStrokePath","radiusWidth","hitWidth","ui$1","call","condition","getBy","fillRule","isPointInPath","isPointInStroke","radiusPoint","getImageData","LeaferCanvas","style","setAbsolute","beforeNode","insertBefore","appendChild","__createViewFrom","__createView","display","parentElement","pStyle","webkitUserSelect","userSelect","syncDomFont","body","pointerEvents","createElement","inputView","getElementById","HTMLCanvasElement","window","div","position","hasChildNodes","getBoundingClientRect","autoBounds","resizeListener","resizeObserver","ResizeObserver","entries","entry","checkAutoBounds","contentRect","observe","imitateResizeObserver","requestRender","parentSize","marginLeft","marginTop","disconnect","CanvasRenderingContext2D","Path2D","useCanvas","_canvasType","_power","canvasToDataURL","canvasToBolb","canvasSaveAs","download","el","href","click","removeChild","setAttribute","stopImmediatePropagation","stopPropagation","conicGradientSupport","isMobile","requestAnimationFrame","userAgent","navigator","conicGradientRotate90","intWheelDeltaY","fullImageShadow","os","Watcher","hasAdd","hasRemove","updatedList","__updatedList","totalTimes","__onAttrChange","__onChildEvent","__pushChild","__loopChildren","__onRquestData","updateOneBounds","updateList","levelList","proxyZoom","jLen","updateChange","bigBounds","LayoutBlockData","updatedBounds","beforeBounds","afterBounds","setBefore","setAfter","noBounds","Layouter","__levelList","layoutOnce","layoutedBlocks","layoutAgain","layouting","waitAgain","partLayout","fullLayout","blocks","getBlocks","extraBlock","addBlocks","createBlock","__onReceiveWatchData","Renderer","needFill","maxFPS","__requestRender","requestLayout","callback","totalBounds","emitRender","renderOnce","rendering","renderAgain","ignore","partRender","fullRender","updateBlocks","mergeBlocks","block","clipRender","realBounds","showRepaint","renderHitView","showBoundsView","renderBoundsView","startTime","__onLayoutEnd","Picker","ignoreHittable","findList","hitBranch","getBestMatchLeaf","getHitablePath","getThroughPath","hitChild","hittablePath","nextPath","eachFind","hitMask","Yes","NoAndSkip","YesAndSkip","idCondition","classNameCondition","tagCondition","Selector","innerIdMap","methods","className","tags","picker","getByInnerId","substring","getById","isArray","getByMethod","toChildren","findLeaf","getByClassName","getByTag","__onRemoveChild","__checkIdChange","PointerEventHelper","convert","base","pressure","tangentialPressure","tiltX","tiltY","twist","convertMouse","convertTouch","touch","getTouch","force","targetTouches","changedTouches","WheelEventHelper","getMove","deltaX","deltaY","getScale","zoomMode","KeyEventHelper","Interaction","viewEvents","onPointerDown","onMouseDown","onTouchStart","onContextMenu","onWheel","onGesturestart","onGesturechange","onGestureend","windowEvents","onPointerMove","onPointerUp","onPointerCancel","onMouseMove","onMouseUp","onTouchMove","onTouchEnd","onTouchCancel","onKeyDown","onKeyUp","onScroll","addEventListener","removeEventListener","getTouches","touches","preventDefaultPointer","preventDefaultWheel","preventWindowPointer","usePointer","useMultiTouch","useTouch","onMouseCancel","multiTouchStart","touchTimer","multiTouchMove","multiTouchEnd","getKeepTouchList","identifier","getLocalTouchs","eventBase","lastGestureScale","lastGestureRotation","changeAngle","eachCursor","join","decorationY","decorationHeight","charData","checkImage","isStrokes","drawStrokesStyle","drawTextStroke","drawAlignStroke","out","isText","fitMatrix","shapeBounds","worldClipBounds","fitScaleX","fitScaleY","recycleMap","leafPaints","paints","getLeafPaint","string","linearGradient","radialGradient","conicGradient","PaintModule","get$3","rotateOfOuter$1","translate$1","scaleOfOuter$1","scaleHelper","fillOrFitMode","box","clipMode","repeatMode","get$2","tempBox","createData","leafPaint","getPatternData","sameBox","swapSize","swapWidth","swapHeight","imageBounds","firstUse","checkSizeAndCreateData","onLoad","onLoadSuccess","onLoadError","ignoreRender","loadId","get$1","patternId","imageScale","imageMatrix","maxSize","imageSize","noRepeat","allowPaint","patternTask","input","PaintImageModule","realFrom$2","realTo$2","applyStops","stops","gradient","addColorStop","getDistance$1","realFrom$1","realTo$1","stretch","rotate90","realFrom","realTo","PaintGradientModule","toOffsetOutBounds$1","offsetOutBounds$1","copyBounds","spreadScale","drawWorldShadow","outBounds","offsetOutBounds","_ui","_current","_shape","EffectModule","maskEnd","maskMode","contentCanvas","maskOpacity","usePixelMask","copyContent","content","currentMask","money","letter","langBefore","langAfter","langSymbol","langBreak$1","beforeChar","afterChar","symbolChar","breakChar","cjkRangeList","cjkReg","RegExp","mapChar","letterMap","beforeMap","afterMap","symbolMap","breakMap","CharType","Letter","Letter$1","Single","Single$1","Before","Before$1","After","After$1","Symbol","Symbol$1","Break","Break$1","getCharType","test","TextRowHelper","trimRight","words","getTextCase","firstChar","toLowerCase","word","wordWidth","rowWidth","realWidth","charWidth","startCharSize","charSize","charType","lastCharType","langBreak","afterBreak","paraStart","createRows","drawData","paraIndent","charMode","wrap","textWrap","breakAll","addWord","paraEnd","addRow","addChar","paraNumber","endCharSize","CharMode","WordMode","TextMode","layoutChar","textAlign","charX","addWordWidth","indentWidth","wordChar","textMode","toTextChar$1","toWordChar","toChar","rowData","layoutText","verticalAlign","paraSpacing","rowX","realHeight","starY","clipText","charRight","ellipsisWidth","toTextChar","decorationText","textDecoration","String","padAutoText","offsetText","TextConvertModule","rgb","g","ColorConvertModule","getTrimBounds","ExportModule","addTask","success","over","json","checkLazy","trimBounds","trim","onCanvas","screenshot","oldFill","_typeof","iterator","toPrimitive","TypeError","toPropertyKey","_defineProperty","Scene","camera","_core","_camera","addStaticSprites","staticSprite","staticSpriteMaps","staticSprites","addDynamicSprites","dynamicSprite","dynamicSprites","isDestroy","isInView","getCore","Camera","SIZE","MARIO_VIEW_OFFSET","StaticSprite","SpriteLand","COLLECT_OFFSET","SpriteAsk","frame","collectY","collectStep","resources","resource","DynamicSprite","vx","vy","active","isActive","unActive","SpriteFlower","appear","SpriteGrowMushroom","SpriteBadMushroom","dieByBullet","dieByTrample","beginX","beginY","animatedX","animatedY","SpriteStone","SpriteWin","SpriteGold","SpriteRock","toKebabCase","replace","Map","serialization","scene","title","mapData","sprite","deserialization","statics","dynamics","import","Background","imageWidth","imageHeight","imageUrl","sceneWidth","sceneHeight","imageAr","bgWidth","breakPoint","Score","totalScoreText","_group","score","totalScore","BaseMario","static","jumpLeft","jumpRight","die","getInfo","actionType","BigMario","BulletMario","attackLeft","attackRight","SpriteBullet","getActionTypeBySpeed","isAttack","isDie","Mario","isInvincibility","invincibilityNum","isWin","growType","mario","grow","bullet","attack","win","unAttack","keyCode","yDirection","xDirection","pressBlank","handleKeydown","handleKeyup","isCollectBTop","isCollectBBottom","isCollectBLeft","isCollectBRight","isCollect","rectA","rectB","w1","h1","w2","h2","isCollide","isObject","freeGlobal","global","freeSelf","self","Function","reWhitespace","trimmedEndIndex","reTrimStart","baseTrim","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","valueOf","isBinary","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","args","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","flush","debounced","isInvoking","throttle","Jumping","getJumpSprite","jumping","v0","jumpSprite","SpriteStoneBorn","handleMarioAttack","PhysicsEngine","keyboard","onScore","handleKeyBoardControlMario","otherDynamicSprite","handleDySpriteCollectDySprite","boxX","boxY","boxHeight","collectBottoms","collectTops","collectLefts","collectRights","handleDySpriteCollectStSpriteBottom","handleDySpriteCollectStSpriteTop","handleDySpriteCollectStSpriteRight","handleDySpriteCollectStSpriteLeft","handleGetProps","readonly","offsetWidth","offsetHeight","background","sprites","_app","_background","_score","_mario","_physicsEngine","onEnd","onWin","imgs","handler","onMounted","emits","cssModules","__exports__","viewRef","ref","isFail","maxScore","handleAdd","currentGrid","mulCheckSprit","startCheckPosition","girds","computed","arr","handleMoveLeft","handleMoveRight","getGridBackground","handleFinish","handleCheckSprite","handleMulCheckSprite","handleAddSprite","handleStartGame","props","isEdit","onUnmounted","showMenu","maps","mapData1","handleAddMap"],"sourceRoot":""}